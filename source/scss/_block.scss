
//site editor layout issue

.emulsion{
    [class|="wp-container"]{
        & > *{
            max-width:100%;
        }
        & > .alignleft{
            margin-right:1rem !important;
            margin-left:var(--thm_content_gap, 24px) !important;
        }
        & > .alignright{
            margin-right:var(--thm_content_gap, 24px) !important;
            margin-left:1rem !important;
        }
    }
}


$core_blocks: wp-block-image, wp-block-gallery, wp-block-quote, wp-block-audio, wp-block-cover, wp-block-file, wp-block-video,
wp-block-code, wp-block-preformatted, wp-block-pullquote, wp-block-table, wp-block-verse, wp-block-buttons,
wp-block-columns, wp-block-separator, wp-block-spacer, wp-block-media-text, wp-block-archives, comment-form
wp-block-calendar, wp-block-categories, wp-block-latest-comments, wp-block-latest-posts, wp-block-rss,
wp-block-search, wp-block-social-links, wp-block-tag-cloud, wp-block-embed, wp-block-navigation, wp-block-group, wp-block-page-list,
wp-block-post-comments, wp-block-site-logo, wp-block-site-tagline, wp-block-site-title, wp-block-query-title, wp-block-post-terms,
wp-block-shortcode, wp-block-html, wp-block-query, wp-block-post-title, wp-block-post-content, wp-block-post-date,
wp-block-post-excerpt, wp-block-post-featured-image, wp-block-loginout, wp-block-template-part, wp-block-post-author, wp-block-post-comment,
wp-block-post-comments, wp-block-post-comments-count, wp-block-post-comments-count, wp-block-post-comments-form, wp-block-post-comments-link,
wp-block-term-description, wp-block-post-navigation-link, wp-block-comments-query-loop, wp-block-table-of-contents;

@each $core_block in $core_blocks {

    .enable-alignfull{
        .#{$core_block}{

            // @extend %block; defined elements.scss

            &.alignwide{
                @extend %alignwide;
            }

        }

        &.emulsion-has-sidebar{
            .is-style-alignfull,
            .#{$core_block}{

                &.alignfull{
                    @extend %has-sidebar-alignfull;

                    left:0;
                }
            }
            //&.emulsion-gb-phase-site .is-style-alignfull,
            .is-root-container .wp-block[data-align="full"]{
                @extend %has-sidebar-alignfull;
                position:static!important;
                left:0;
                width:100% ! important;
                margin-right:auto;
                margin-left:auto;

            }
        }
        &.emulsion-no-sidebar{
            .is-style-alignfull,
            .#{$core_block}{

                &.alignfull{
                    @extend %no-sidebar-alignfull;
                }
            }

        }

    }
    .#{$core_block}{
        .is-style-aligncenter,
        &.aligncenter {
            @extend %aligncenter;
        }
    }
    .#{$core_block}{
        .is-style-alignleft,
        &.alignleft{
            @extend %alignleft;
        }
    }
    .#{$core_block}{
        .is-style-alignright,
        &.alignright{
            @extend %alignright;
        }
    }
    .#{$core_block}{
        margin-right:auto;
        margin-left:auto;
    }
    .#{$core_block}__inner-container{
        // overflow:hidden;

        .alignwide,
        .alignfull{
            max-width:100% ! important;

        }
        .alignfull{
            position:static;
        }
        p{
            max-width:100%;
        }
        h1,h2,h3,h4,h5,h6{
            max-width:100%;
        }
        ol,ul{
            max-width:100%;
        }
        table{
            width:100%;
        }
        div,figure{
            padding-right:0;
            padding-left:0;
        }
    }

}
figure.wp-block-gallery.has-nested-images{
    &:not(.alignleft):not(.alignright){
        float:none;
        clear:both;
    }
    display:flex;
    gap:var(--wp--style--block-gap);
    .wp-block-image{
        display:block;
        padding:0;
    }
}

figure.wp-block-gallery.has-nested-images.alignleft{
    //OW
    @extend %alignleft;
    display:flex;
}
figure.wp-block-gallery.has-nested-images.alignright {
    //OW
    @extend %alignright;
    display:flex;
}

.wp-block-table-of-contents ol,
.widget .wp-widget-group__inner-blocks,
.wp-block-template-part.included-block-template,
.wp-block-navigation .wp-block-page-list,
footer.wp-block-template-part,
.wp-block-spacer{
    width: 100%;
    padding:0;
    margin: 0 auto;
}
.wp-block-image.alignright,
.wp-block-image.alignleft{
    //margin-top:0;
}
button.wp-block-navigation-submenu__toggle{
    margin:0 auto;
}
.wp-block-group[class*="wp-container-"]{
    //width:100%;

    padding:.75rem 0;
    margin:0 auto;
    & > *{
        max-width:100%;
    }

}
.is-style-alignwide,
.is-root-container  .wp-block[data-align="wide"],
.edit-site .wp-block[data-align="wide"]{
    @extend %alignwide;
    position:static;
}


.enable-alignfull{
    .wp-block-group{
        padding-right:0;
        padding-left:0;
        .alignfull {

            .wp-block-group__inner-container{

                @each $core_block in $core_blocks {
                    .#{$core_block}{
                        &.alignfull{
                            left:0;
                            width:100%;
                            padding-right:0;
                            padding-left:0;
                        }
                    }
                }
            }
        }
    }
}

.enable-alignfull{
    &.emulsion-no-sidebar{

        .wp-block[data-align="full"]{
            // for editor

            .wp-block-columns{

                width:var(--thm_main_width);
                max-width:100%;
            }
        }

    }
}

/**
 * exception
 */
.wp-block-code{
    width:calc(var(--thm_content_width, 720px) - var(--thm_content_gap, 24px) * 2);
    max-width:calc(100% - var(--thm_content_gap, 24px) * 2);
    //OW
    padding:0;
    > code{
        padding:1rem;
    }
}
.emulsion{
    .grid-group.is-style-responsive .wp-block-group:not(.centerd){
        padding:0;
        margin:0;
    }
    .wp-block-media-text[class*="has-background"]{
        padding:0;
    }

    .wp-block-template-part,
    .wp-block-columns,
    .wp-block-column,
    .wp-block-table,
    .wp-block-media-text{
        &:not(.alignleft):not(.alignright){
            padding-right:0;
            padding-left:0;
        }
    }
    .wp-block-column{
        @media screen and (max-width: 720px) {
            overflow:hidden;
        }
    }

    .wp-block-column{
        @extend %die-aligns;

        ul,ol{
            padding:0 0 0 min(15%, 1.5rem);
            ul:not(#specificity), ol:not(#specificity){
                padding:0 0 0 min(15%, 1.5rem);
            }
        }
        h1,h2,h3,h4,h5,h6,
        [class|="wp-block"],
        p{
            width:100%;
            padding-right:calc(var(--thm_content_gap, 24px) / 2);
            padding-left:calc(var(--thm_content_gap, 24px) / 2);
        }
    }
    .wp-block-gallery,
    .wp-block-embed,
    .wp-block-image,
    .wp-block-video{
        &:not(.alignleft):not(.alignright){
            padding-right:0;
            padding-left:0;
            margin-right:auto;
            margin-left:auto;
        }
        video{
            padding-right:0;
            padding-left:0;
        }
        &.alignfull{
            padding-right:0;
            padding-left:0;
            video{
                padding-right:0;
                padding-left:0;
            }
        }
    }
    .wp-block-quote,
    .wp-block-verse{
        &.alignfull{
            padding-right:var(--thm_content_gap, 24px);
            padding-left:var(--thm_content_gap, 24px);
        }
    }
    .wp-block-buttons{

        @extend %block;

        &.alignleft,
        &.alignright{
            width:auto;
        }
        .wp-block-button:not(.badge):not(.has-custom-width){
            width:-moz-fit-content;
            width:fit-content;
            padding-right:var(--thm_box_gap, 3px);
            padding-left:var(--thm_box_gap, 3px);
        }
        .wp-block-button{

            margin:var(--thm_box_gap, 3px);

            .wp-block-button__link{
                box-sizing:border-box;
                width:100%;
                padding:.62rem var(--thm_content_gap, 24px);
                text-align:center;
                border-radius:5px;
                &:empty{
                    display:none;
                }
            }
            &.wp-block-button__width-25{
                flex-basis:calc( 25% - var(--thm_box_gap, 3px) * 4);
                width:calc( 25% - var(--thm_box_gap, 3px) * 4);
            }
            &.wp-block-button__width-50{
                flex-basis:calc(50% - var(--thm_box_gap, 3px) * 4);
                width:calc(50% - var(--thm_box_gap, 3px) * 4);
            }
            &.wp-block-button__width-75{
                flex-basis:calc( 75% - var(--thm_box_gap, 3px) * 4);
                width:calc( 75% - var(--thm_box_gap, 3px) * 4);
            }
            &.wp-block-button__width-100{
                flex-basis:calc( 100% - var(--thm_box_gap, 3px) * 4 );
                width:calc( 100% - var(--thm_box_gap, 3px) * 4 );
            }
        }

        &.is-vertical{
            .wp-block-button{
                &.wp-block-button__width-25{
                    flex-basis:calc( 25% - var(--thm_box_gap, 3px) * 4);
                    width:calc( 25% - var(--thm_box_gap, 3px) * 4);
                }
                &.wp-block-button__width-50{
                    flex-basis:calc(50% - var(--thm_box_gap, 3px) * 4);
                    width:calc(50% - var(--thm_box_gap, 3px) * 4);
                }
                &.wp-block-button__width-75{
                    flex-basis:calc( 75% - var(--thm_box_gap, 3px) * 4);
                    width:calc( 75% - var(--thm_box_gap, 3px) * 4);
                }
                &.wp-block-button__width-100{
                    flex-basis:calc( 100% - var(--thm_box_gap, 3px) * 4 );
                    width:calc( 100% - var(--thm_box_gap, 3px) * 4 );
                }
                .wp-block-button__link{
                    min-width:146px;
                }
            }
        }
    }

    [class|="wp-block"]{

        &.alignfull{
            [class$="__inner-container"]{
                max-width:100%;
                *:not([class*="align"]){
                    max-width:100%;
                }
                .wp-block-navigation__submenu-container{
                    width:auto;
                    max-width:none;
                    .wp-block-navigation-item{
                        width:auto;
                        max-width:none;
                    }
                }
            }
        }
    }
}

.wp-block-categories li,
.wp-block-archives li {
    font-size: var(--thm_meta_data_font_size, 13px);
    line-height: calc(1rem * var( --thm_content_line_height, 1.5 ));
    text-transform: var(--thm_meta_data_font_transform);

}
.wp-block-archives.is-style-list-style-inline li{
    padding:0 .6rem;
}

/**
 * Embed Wrapper
 * ========================================================================== */

.enable-alignfull .wp-block-embed.alignwide.is-type-photo,
.enable-alignfull .wp-block-embed.alignwide.is-type-rich,
.enable-alignfull .wp-block-embed.alignfull.is-type-photo,
.enable-alignfull .wp-block-embed.alignfull.is-type-rich{
    margin-right:auto;
    margin-left:auto;
}
.is-type-video{
    .wp-block-embed__wrapper{
        position: relative;
        height:0;
        padding-bottom: 56.25%;
        margin-top:0;
        margin-bottom:0;
        word-wrap:normal;
        overflow-wrap:normal;
    }

    .wp-block-embed__wrapper iframe[height],
    .wp-block-embed__wrapper object[height],
    .wp-block-embed__wrapper embed[height]{
        // classic editor
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height:100%;
        max-height:100%;
    }
    .wp-block-embed__wrapper iframe:not([height]),
        .wp-block-embed__wrapper object:not([height]),
        .wp-block-embed__wrapper embed:not([height]){
        height: 100%;
    }
    .wp-block-embed__wrapper + *{
        margin-top:1em;
    }
}

/**
 * Freeform embed media
 * media is not wrapping figure
 */

.entry-content > .wp-block-embed__wrapper{
    height:0;
    padding-bottom: calc(var(--thm_content_width, 720px) * .5625);
}
.wp-block-embed-reverbnation{
    .wp-block-embed__wrapper{
        width:500px;
        max-width:100%;
        height:500px;
        margin-right:auto;
        margin-left:auto;
        overflow:hidden;
    }
    &.alignleft,
    &.alignright{
        margin-bottom:3rem;
    }
}
.wp-block-embed-screencast.alignfull{
    img{
        width:100%;
        height:auto;
    }
}
.wp-block-embed-twitter.alignfull{
    .twitter-tweet{
        margin-right:auto;
        margin-left:auto;
    }
}
.wp-block-embed-wordpress.alignwide,
.wp-block-embed-twitter.alignwide{
    .wp-block-embed__wrapper{
        width:-moz-fit-content;
        width:fit-content;
        margin-right:auto;
        margin-left:auto;
    }
}
.wp-block-embed-tiktok{
    //WordPress 5.4
    .wp-block-embed__wrapper{
        height:auto;
        padding-bottom:0;
    }
}
#main .wp-block-embed-instagram.alignfull{
    .instagram-media{
        margin-right:auto ! important;
        margin-left:auto ! important;
    }
}

/**
 * Case where it is necessary to overwrite the standard style
 * ========================================================================== */

.emulsion-addons-inactive body,
.emulsion.full_text{
    figure.wp-block-gallery{
        &:not(.alignleft):not(.alignright){
            gap:var(--thm_box_gap, 3px);
            margin:var(--thm_box_gap, 3px) auto;
        }
        ul.blocks-gallery-grid{
            //old style
            width:100%;
            padding-right:0;
            padding-left:0;
            margin-top:0;
            margin-bottom:0;

        }
    }
    & > .wp-block-archives{
        width:calc(var(--thm_content_width, 720px) - var(--thm_content_gap, 24px) * 2);
        padding-right: var(--thm_content_gap, 24px);
        padding-left: var(--thm_content_gap, 24px);
    }
    div.wp-block-archives{
        overflow:auto;

        select{
            position: relative;
            display:block;
            width:auto;
            height:auto;
            padding-top:.69rem;
            padding-bottom:.69rem;
            margin-top:1.5rem;
            margin-right:auto;
            margin-bottom:.75rem;
            margin-left:auto;
        }
    }
    .wp-block-archives-dropdown:not(.alignleft):not(.alignright):not(.alignwide):not(.alignfull){
        width:-moz-fit-contetn;
        width:fit-content;
        max-width:100%;
        select{
            margin-top:0;
        }
    }

    /**
     * Block archives
     * ========================================================================== */

    & > ul.wp-block-archives{
        &:not(.alignleft):not(.alignright){
            float:none;
            clear:both;
        }
        position:relative;
        display:flex;
        height:100px;
        padding:0 0 0 0;
        margin:1.5rem auto .75rem;
        overflow-x:scroll;
        overflow-y:hidden;
        font-family:var( --thm_meta_data_font_family);
        font-size:var(--thm_meta_data_font_size, 13px);
        text-transform:var(--thm_meta_data_font_transform);
        -webkit-overflow-scrolling: touch;
        &.alignleft{
            //  @extend %alignleft;
        }
        &.alignright{
            //  @extend %alignright;
        }
        &::-webkit-scrollbar {
            width: 150px;
            height:.5rem;
        }
        &::-webkit-scrollbar-thumb{
            background-color: var(--thm_gray_color);
            outline: 1px solid var(--thm_gray_color);
        }
        li:before{
            position:absolute;
            top:calc( 1rem + 2px );
            z-index:-1;
            display:block;
            width:100%;
            content:'';
        }
        li{
            flex: 0 0 auto;
            width:10rem;
            list-style-type:none;
            .emulsion-archive-date{
                display:inline-block;
                transform: translate(75px,25px);
            }
            .emulsion-archive-count{
               @include font_size(6);
                position: absolute;
                white-space: pre;
            }
            .emulsion-archive-count:empty{
                height:.4rem;
                transform: translate(0,.48rem);

            }
        }
    }

    /**
     * Blockquote
     * ========================================================================== */
    .wp-block-quote{
        &.is-style-large{
            padding-right:var(--thm_content_gap, 24px);
            padding-left:var(--thm_content_gap, 24px);
            margin:.75rem auto .75rem;
           @include font_size(2);
            cite{
                padding:0 var(--thm_content_gap, 24px);
                margin-top:.75rem;
                margin-bottom:.75rem;
                font-size:var(--thm_meta_data_font_size);
                font-style:normal;
                font-weight:700;
            }
            p{
                width: -moz-fit-content;
                width:fit-content;
                margin-top:.75rem;
                margin-bottom:.75rem;
                font-style:normal;
                text-align:left;
            }
            &.has-text-align-left{
                cite,
                p{
                    width:auto;
                    margin:.75rem 0 .75rem;
                    text-align:left;
                }
            }
            &.has-text-align-right{
                cite,
                p{
                    width:auto;
                    margin-top:.75rem;
                    margin-bottom:.75rem;
                    text-align:right;
                }
            }
            &.has-text-align-center{
                cite,
                p{
                    width:auto;
                    margin-top:.75rem;
                    margin-bottom:.75rem;
                    text-align:center;
                }
            }
        }
        /* fallback Not select textalign */
        p{
            width: -moz-fit-content;
            width:fit-content;
            margin-top:.75rem;
            margin-bottom:.75rem;
            text-align:left;
        }
        cite{
            margin-top:.75rem;
            margin-bottom:.75rem;
            font-size:var(--thm_meta_data_font_size);
        }
        &.has-text-align-left{
            cite,
            p{
                width:auto;
                margin:.75rem 0 .75rem;
                text-align:left;
            }
        }
        &.has-text-align-right{
            cite,
            p{
                width:auto;
                margin-top:.75rem;
                margin-bottom:.75rem;
                text-align:right;
            }
        }
        &.has-text-align-center{
            cite,
            p{
                width:auto;
                margin-top:.75rem;
                margin-bottom:.75rem;
                text-align:center;
            }
        }

    }
}

/**
 * Pull quote
 * ========================================================================== */

.emulsion{
    .has-extra-small-font-size{
        font-size:var(--wp--preset--font-size--extra-small, 10px);
        p{
            font-size:var(--wp--preset--font-size--extra-small, 10px);
        }
    }
    .has-small-font-size{
        font-size:var(--wp--preset--font-size--small, --thm_meta_data_font_size);
        p{
            font-size:var(--wp--preset--font-size--small, --thm_meta_data_font_size);
        }
    }
    .has-normal-font-size{
        font-size:var(--wp--preset--font-size--normal, --thm_common_font_size);
        p{
            font-size:var(--wp--preset--font-size--normal, --thm_common_font_size);
        }
    }
    .has-medium-font-size{
        font-size:var(--wp--preset--font-size--medium, 20px);
        p{
            font-size:var(--wp--preset--font-size--medium);
        }
    }
    .has-large-font-size{
        font-size:var(--wp--preset--font-size--large, --thm_h3_font_size);
        p{
            font-size:var(--wp--preset--font-size--large, --thm_h3_font_size);
        }
    }

    .has-extra-large-font-size{
        font-size:var(--wp--preset--font-size--extra-large, --thm_h2_font_size);
        p{
            font-size:var(--wp--preset--font-size--extra-large, --thm_h2_font_size);
        }
    }
    .has-huge-font-size{
        font-size:var(--wp--preset--font-size--huge, 48px);
        p{
            font-size:var(--wp--preset--font-size--huge, 48px);
        }
    }
}
figure.wp-block-pullquote{
    &:not(.alignleft):not(.alignright){
        float:none;
        clear:both;
    }
    position:relative;

    display:flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height:calc( var(--thm_content_width, 720px) * 0.42553 );
    padding:0 0;
    margin-right:auto;
    margin-left:auto;
    text-align:left;
    border-right:none ! important;
    border-left:none ! important;


    cite{
        box-sizing:border-box;
        width: -moz-fit-content;
        width:fit-content;
        padding-right:var(--thm_content_gap, 24px);
        padding-left:var(--thm_content_gap, 24px);
        font-size:var(--wp--preset--font-size--small, --thm_meta_data_font_size);
        text-align:left;
    }
    p{
        width:-moz-fit-content;
        width:fit-content;
        margin-top:1.5rem;
        margin-bottom:.75rem;
        font-size:var(--wp--preset--font-size--large, --thm_h3_font_size);
        line-height:1.5;

    }
    &.has-regular-font-size{
        p{
            font-size:var(--wp--preset--font-size--normal, --thm_common_font_size);
        }
    }
    &.has-text-align-left{

        blockquote:not(#specificity){
            width:100%;
            cite,
            p:not(.specificity){
                width:auto;
                margin:.75rem 0 .75rem;
                text-align:left;
            }
        }
    }
    &.has-text-align-right{
        blockquote:not(#specificity){
            width:100%;
            cite,
            p{
                width:auto;
                margin-top:.75rem;
                margin-bottom:.75rem;
                text-align:right;
            }
        }
    }
    &.has-text-align-center{
        blockquote:not(#specificity){
            width:100%;
            cite,
            p{
                width:auto;
                margin-top:.75rem;
                margin-bottom:.75rem;
                text-align:center;
            }
        }
    }
    &.alignleft{
        @extend %alignleft;
        max-width:calc( 50% - var(--thm_content_gap, 24px) * 3 );
        margin-top:0.75rem;
        margin-right:calc(var(--thm_content_gap, 24px) * 2);
        margin-left:var(--thm_content_gap, 24px);
        p{

           @include font_size(3);

        }
    }
    &.alignright{
        @extend %alignright;
        max-width:calc( 50% - var(--thm_content_gap, 24px) * 3 );
        margin-top:0.75rem;
        margin-right:var(--thm_content_gap, 24px);
        margin-left:calc(var(--thm_content_gap, 24px) * 2);
        p{

            @include font_size(3);
        }
    }
    &.aligncenter,
    &.alignleft,
    &.alignright{
        @media screen and ( max-width : 640px ) {
            clear:both;
            float:none;
            display:block;
            width: calc( 100% - var(--thm_content_gap, 24px) * 2 - 2px);
            max-width:100%;
            margin:1.5rem auto .75rem;


        }
    }
    blockquote{
        display:block;
        width:100%;
        max-width:100%;
        margin-top:0;
        margin-right:auto;
        margin-bottom:0;
        margin-left:auto;
        border-left:none;
        p{
            width: -moz-fit-content;
            width:fit-content;
            margin-right:auto;
            margin-left:auto;
            line-height:1.5;
            text-align:left;
        }
        cite{
            display:block;
            width: -moz-fit-content;
            width:fit-content;
            padding-right:var(--thm_content_gap, 24px);
            padding-left:var(--thm_content_gap, 24px);
            margin-right:auto;
            margin-left:auto;
            line-height:1.5;
            text-align:left;
        }
    }
    &.is-style-default,
    &.is-style-solid-color{

        overflow:hidden;
        blockquote{
            max-width:100%;
            p{
              @include font_size(3);
                font-weight:normal;
            }

        }
        p:first-of-type{
            margin-top:1.5rem;
        }

        &.alignright,
        &.alignleft{
            blockquote{
                p{
                  @include font_size(3);
                    font-weight:normal;
                }
            }
        }
    }
    &.alignfull{
        p{
            width: -moz-fit-content;
            width:fit-content;
            margin-right:auto;
            margin-left:auto;
            line-height:1.5;
        }
        cite{
            display:block;
            width: -moz-fit-content;
            width:fit-content;
            margin-right:auto;
            margin-left:auto;
        }
        blockquote{
            @extend %alignwide;
        }
    }
    &.alignwide{
        p{
            width: -moz-fit-content;
            width:fit-content;
            line-height:1.5;
        }
        cite{
            display:block;
            width: -moz-fit-content;
            width:fit-content;
            margin-right:auto;
            margin-left:auto;
        }
    }
    &[class*="background-color"]:before{
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: -1;
        //  background: var(--thm_white_color, #ffffff);
        content: '';
    }
}
//OW
.wp-block-pullquote.alignleft, .wp-block-pullquote.alignright,
.wp-block-pullquote.has-text-align-left,
.wp-block-pullquote.has-text-align-right{
    max-width:100%;
}
/**
 * block separator
 * ========================================================================== */
hr.wp-block-separator{
    &.has-background{
        visibility:hidden;
        &:before{
            visibility:visible;
            background:transparent;
        }
    }
}
hr{
    &.wp-block-separator{
        position:relative;
        height:3rem;
        clear:both;
        border:none;
        &:before{
            position:absolute;
            top:0;
            right:0;
            bottom:0;
            left:0;
            width:50%;
            height:2px;
            margin:auto;
            color:inherit ! important;
            content:'' ! important;
            background:transparent!important;
            border-bottom:1px solid;
        }
        &.is-style-dots{
            height:3rem;
            &:before{
                width:fit-content;
                height:3rem;
                margin:1rem auto;
                font-size:3rem;
                color:inherit ! important;
                content:'\2026' ! important;
                background:transparent!important;
                border:none;
            }
        }

        &.is-style-wide{
            &:before{
                width:100%;
            }
        }
    }
}
/**
 * block group
 * ========================================================================== */

.wp-block-group{
    @extend %block;
    @include clearfix;
    //float:none;
    padding-right:0;

    padding-left:0;
    margin-top:0;
    margin-bottom:0;
    //clear:both;
    &[class*="wp-container-"]{
        padding-right:0;
        //width:100%;
        padding-left:0;
    }
    //overflow:hidden;
    .wp-block-group__inner-container{
        width:100%;
        max-width:100%;
        .wp-block-image{
            &.aligncenter.is-resized{
                display:block;
            }
        }
        .aligncenter.is-resized{
            display:block;
        }
    }
    & > [class|="wp-block"]:not(.alignleft):not(.alignright ),
        .wp-block-cover:not(.alignleft):not(.alignright ),
        .wp-block-gallery:not(.alignleft):not(.alignright ){

        margin-right:auto;
        margin-left:auto;

        .wp-block-column{
            margin: calc(var(--thm_box_gap, 3px) / 2);
        }

        &:not(.aligncenter){

            &[class*="size1of"],
            &[class*="size2of"],
            &[class*="size3of"],
            &[class*="size4of"]{
                margin-right:var(--thm_box_gap, 3px);
                margin-left:var(--thm_box_gap, 3px);
            }
        }

    }
    .wp-block-media-text{
        border:1px solid transparent;
    }

}
.post-template-gallery .wp-block-group{
    margin-top:calc( var(--thm_box_gap, 3px) / 2 );
    margin-bottom:calc( var(--thm_box_gap, 3px) / 2 );
}
article *:first-child.wp-block-group{
    //  margin-top:0;
}
.enable-alignfull .wp-block-group .wp-block-group__inner-container .wp-block-media-text.alignfull{
    max-width:100%;
}

/**
 * Block tag cloud
 * ========================================================================== */
.emulsion p.wp-block-tag-cloud{
    padding:.75rem;
}
.wp-block-tag-cloud{
    @extend %block;
    padding:.75rem;
    margin:var(--thm_content_gap, 24px) auto;
    a{
        vertical-align:middle;
    }
    & > br{
        /* add br element loop page */
        display:none;
    }
}

/**
 * Social link
 * ========================================================================== */
.wp-block-social-links .wp-social-link button{
    padding:0;
    margin:0;
    &:before{
        display:none!important;
    }
}
ul.wp-block-social-links{
    @extend %block;
    &:not(.alignleft):not(.alignright){
        float:none;
        clear:both;
    }
    display:flex;
    justify-content: flex-start;
    margin: 1.5rem auto .75rem;
    &.alignleft{
        justify-content: flex-end;
    }

    &.has-huge-icon-size{
        &.is-style-pill-shape{
            .wp-social-link{
                width:calc( 1rem * 8 );
            }
        }
        .wp-social-link{
            width:calc( 1rem * 4 );
            height:calc( 1rem * 4 );
            a{
                svg{
                    width:calc(1rem * 3);
                    height:calc(1rem * 3);
                }
            }
        }
    }
    &.has-large-icon-size{
        &.is-style-pill-shape{
            .wp-social-link{
                width:calc( 1rem * 6 );
            }
        }
        .wp-social-link{
            width:calc( 1rem * 3 );
            height:calc( 1rem * 3 );
            a{
                svg{
                    width:calc(1rem * 2);
                    height:calc(1rem * 2);
                }
            }
        }
    }
    &.has-normal-icon-size{
        &.is-style-pill-shape{
            .wp-social-link{
                width:calc( 1rem * 4 );
            }
        }
        .wp-social-link{

            width:calc( 1rem * 2 );
        }
    }
    &.has-small-icon-size{
        &.is-style-pill-shape{
            .wp-social-link{
                width:calc( 1rem * 3 );
            }
        }
        .wp-social-link{
            width:calc( 1rem * 1.3 );
            height:calc( 1rem * 1.3 );
        }
    }

    .wp-social-link{

        display:flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width:calc( 1rem * 2 );
        height:calc( 1rem * 2 );
        margin:0 .75rem .75rem 0;
        text-align:center;
        list-style:none;
        a{
            padding:0;
            background:transparent;
            svg{
                width:1rem;
                height:1rem;
                fill: var(--wp--social-links--icon-color,#fff);
            }
        }
    }

    &:not(.has-icon-background-color){
        &:not(.has-icon-color){
            .wp-social-link-chain {
                color:var(--thm_social_icon_color, #666);
                border: 2px solid rgba(188,188,188,.5);
                a{
                    svg{
                        fill:var(--thm_social_icon_color, #666);
                    }
                }
            }
        }
    }

    &.is-style-logos-only{
        &:not(.has-icon-color){
            .wp-social-link{
                //gutenberg deactivated WordPress 5.6
                a{
                    svg{
                        fill:var(--thm_social_icon_color, #666);
                    }
                }
            }
        }

        .wp-block-social-link.wp-social-link-chain {
            border:none;
        }
    }
}

/**
 * Block RSS
 * ========================================================================== */

@for $i from 2 through 6 {
    .wp-block-rss.is-grid.columns-#{$i} li{
        flex-basis:calc(100% / #{$i} - var(--thm_content_gap, 24px) * #{$i} );
        min-width:var(--thm_content_min_width, 296px);
        margin:var(--thm_box_gap, 3px);
    }
}
#wpbody [data-block] ul.wp-block-rss,
body ul.wp-block-rss{
    .wp-block-rss__item{
        padding-right:var(--thm_content_gap, 24px);
        padding-left:var(--thm_content_gap, 24px);
        text-indent:0;
        list-style-type:none;
        &:before{
            display:none;
        }
        .wp-block-rss__item-title a{
            font-family: var(--wp--preset--font-family--hoefler-times-new-roman);
            font-size: clamp(var(--wp--preset--font-size--large), calc( 100vw / 72 * 2), var(--wp--preset--font-size--extra-large) );
            font-weight: var(--wp--custom--font-weight--heading);
            line-height: var(--wp--custom--line-height--heading,1.15);
            text-transform: var(--wp--custom--text-transform--heading);
        }
    }
}


ul.wp-block-rss{
    padding-right:var(--thm_content_gap, 24px);
    padding-left:var(--thm_content_gap, 24px);
    font-size:var(--thm_meta_data_font_size, 13px);
    text-transform:var(--thm_meta_data_font_transform);
    .wp-block-rss__item{
        padding-right:var(--thm_content_gap, 24px);
        padding-left:var(--thm_content_gap, 24px);
        margin:var(--thm_box_gap, 3px);
        .wp-block-rss__item-author,
        .wp-block-rss__item-publish-date{
            display:inline-block;

        }
        .wp-block-rss__item-excerpt{
            @extend %block;
            padding-right:0;
            padding-left:0;
        }
    }
    &:not(.is-grid){
        .wp-block-rss__item{
            margin:1.5rem auto .75rem;
            text-indent:0;
            list-style-type:none;
        }
    }
    &.is-grid{
        &:not(.alignleft):not(.alignright){
            float:none;
            clear:both;
        }
        box-sizing:border-box;
        display:flex;
        flex-wrap:wrap;
        align-items: stretch;
        justify-content: center;
        padding:.685rem;
        padding-right:var(--thm_content_gap, 24px);
        padding-left:var(--thm_content_gap, 24px);
        .wp-block-rss__item{
            display:flex;
            flex: 1 1;
            flex-direction:column;
            flex-wrap:wrap;
            align-items: center;
            justify-content: center;
            padding-right: calc(1rem * var( --thm_content_line_height ) / 2);
            padding-left: calc(1rem * var( --thm_content_line_height ) / 2);
            margin:var(--thm_box_gap, 3px);
        }
        .wp-block-rss__item-title{
            display:block;
            flex:1 1 auto;
            align-self: flex-start;
            width: -moz-fit-content;
            width:fit-content;
            margin:1.5rem auto .75rem;
            font-weight:700;
            text-align:left;
        }
        .wp-block-rss__item-excerpt{
            flex:1 1 auto;
            align-self: flex-end;
            margin-top:1.5em;
            margin-right:auto;
            margin-left:auto;
        }
    }
    li.wp-block-rss__item{
        list-style-type:none;
    }
    .wp-block-rss__item-title{
        display:inline-block;
        width:100%;
        font-weight:700;
        text-align:left;
        vertical-align:middle;
    }

}

/**
 *
 * ========================================================================== */
.emulsion{
    .article-wrapper{
        article{
            margin-right:auto;
            margin-left:auto;
            footer{
                margin-right:auto;
                margin-left:auto;
            }

            .entry-content{
                .wp-block-columns{

                    .wp-block-column{
                        .alignfull{
                            left:0;
                            width:inherit;
                        }
                    }
                    .wp-block-latest-posts{
                        .wp-block-columns{
                            display:block;
                            max-width:100%;
                        }

                    }
                    .wp-block-archives-list,
                    .wp-block-categories{
                        li{
                            //padding:0;
                            font-size: var(--thm_meta_data_font_size, 13px);
                            line-height: calc(1rem * var( --thm_content_line_height, 1.5 ));
                            text-indent:0;
                            text-transform: var(--thm_meta_data_font_transform);
                            a{
                                display:inline-block;

                            }
                        }
                    }
                    .emulsion-archive-link{
                        padding:0;
                        margin-top: calc(1rem * var( --thm_content_line_height, 1.5 ) / 4);
                        margin-bottom: calc(1rem * var( --thm_content_line_height, 1.5 ) / 4);
                    }
                }
            }


            .wp-block-latest-posts{

                padding-right:var(--thm_content_gap, 24px);
                padding-left:var(--thm_content_gap, 24px);
                &.wp-block-latest-posts__list{
                    li.current-page{
                        // must not display

                        display:none!important;
                    }
                    &.is-grid{

                        & > li{
                            .wp-block-latest-posts__featured-image{
                                display:block;
                                max-width:calc(100% + var(--thm_content_gap, 24px) * 2 );
                                margin-top:calc(var(--thm_content_gap, 24px) * -1);
                                margin-right:calc(var(--thm_content_gap, 24px) * -1);
                                margin-bottom:calc(var(--thm_content_gap, 24px) * -1);
                                margin-left:calc(var(--thm_content_gap, 24px) * -1);
                                &.aligncenter{
                                    height:25vh;
                                    padding:0;
                                    img{
                                        width:100%;
                                        height:25vh;
                                        object-fit:cover;

                                    }
                                }
                            }
                        }
                    }
                    & > li{
                        --thm_content_gap:12px;
                        position:relative;
                        display:flex;
                        flex-direction: column;
                        flex-wrap:wrap;
                        overflow:hidden;
                        text-align:center;

                        & > a:first-of-type{
                            margin-top:.75rem;
                            margin-bottom:.75rem;
                            font-family:var(--thm_heading_font_family);
                            font-weight:var(--thm_heading_font_weight);
                            text-transform:var(--thm_heading_font_transform);
                        }

                        .shortcode-wrapper{
                            margin-top:.75rem;
                            margin-bottom:.75rem;
                        }

                        .wp-block-latest-posts__featured-image{
                            display:block;

                            text-align:left;
                            img{
                                max-width:calc(100% + var(--thm_content_gap, 24px) * 2 );
                                border:1px solid rgba(188, 188, 188, .2);
                            }
                            &.alignright{
                                margin-left:1rem;
                                text-align:right;
                                & ~ .wp-block-latest-posts__post-author{
                                    display:block;
                                    float:none;
                                    padding-top:1.5rem;
                                    clear:both;
                                }
                            }
                            &.alignleft{
                                margin-right:1rem;
                                text-align:left;
                                & ~ .wp-block-latest-posts__post-author{
                                    display:block;
                                    float:none;
                                    padding-top:1.5rem;
                                    clear:both;

                                }
                            }
                            &.aligncenter{
                                margin-right:auto;
                                margin-bottom:1.5rem;
                                margin-left:auto;
                                & ~ a{
                                    display:block;
                                    margin-top:1.5rem;
                                    margin-bottom:.75rem;
                                }
                            }
                        }

                        .wp-block-latest-posts__post-excerpt{
                            display:block;
                            width: -moz-fit-content;
                            width:fit-content;

                            max-height:calc(var(--thm_meta_data_font_size) * var(--thm_content_line_height) * 3);
                            padding-right:var(--thm_content_gap, 24px);
                            padding-left:var(--thm_content_gap, 24px);
                            margin-right:auto;
                            margin-left:auto;
                            overflow:hidden;
                            text-align:left;

                            &:empty{
                                display:none;
                            }
                            & > a:only-child{
                                /* read more link */
                            }
                            .multiline-text-overflow{
                                padding:0;
                            }
                        }
                        .wp-block-latest-posts__post-full-content{
                            box-sizing:border-box;
                            display:block;
                            width: -moz-fit-content;
                            width:fit-content;
                            max-width:100%;
                            margin-right:auto;
                            margin-left:auto;
                            text-align:left;
                            @extend %die-aligns;

                            &:empty{
                                display:none;
                            }
                            .wp-block-code{
                                code:empty:before{
                                    content:'Unable to view code';
                                }
                            }

                            .wp-block-columns:first-child{
                                margin-top:0;
                            }
                            .wp-block-columns{
                                .wp-block-column{
                                    margin-right:0;
                                    margin-left:0;
                                }
                            }
                            .wp-block-cover{
                                max-width:100%;
                                div.wp-block-cover__inner-container{
                                    width:100%;
                                    h2,h3,h4,p,li{

                                        color:var(--thm_white_color, #ffffff);
                                    }

                                }
                            }
                            div.wp-block-image{
                                figure{
                                    width:100%;
                                    img{
                                        border-radius:0;
                                    }
                                }
                            }
                            .list-style-tab.success-js{
                                width:var(--thm_content_width, 720px);
                                max-width:100%;
                                li[role="tab"]{
                                    display:inline-block;
                                    width:auto;

                                }
                            }
                            .alignfull{
                                position:static;
                            }
                            li{
                                display:list-item;
                                width:100%;
                            }
                            .wp-block-latest-posts__post-date{
                                display:var(--thm_post_display_date);
                                margin-right:auto;
                                margin-left:auto;
                            }
                            .wp-block-latest-posts__post-date:after{
                                white-space: pre;
                                content:'\A';
                            }

                            .wp-block-button{
                                &.aligncenter{
                                    &.wp-block-button__link{
                                        white-space:normal;
                                    }
                                }
                            }
                            .wp-block-buttons{
                                &.aligncenter{
                                    max-width:100%;
                                }
                            }
                        }
                        .grid-group.is-style-responsive .wp-block-group:not(.centerd):not(#spacificity){
                            padding:0;
                            margin: auto;
                        }
                    }
                    &:not(.is-grid){
                        @media screen and (min-width: 960px){
                            &:not(.has-date){
                                .wp-block-latest-posts__featured-image.alignright ~ a:first-of-type,
                                    .wp-block-latest-posts__featured-image.alignleft ~ a:first-of-type{
                                    margin-top:2rem;
                                }
                            }
                            &.alignwide{
                                .wp-block-latest-posts__featured-image{

                                    //width:calc(var(--thm_content_width, 720px) + 200px);
                                    width:var(--thm_wide_width, 920px);
                                    .size-medium{
                                        //width:calc(var(--thm_content_width, 720px) + 200px);
                                        width:var(--thm_wide_width, 920px);
                                        max-width:calc(100% + var(--thm_content_gap, 24px) * 2);
                                        height:auto;
                                        margin:0 auto;

                                    }

                                    .size-large{
                                        //width:calc(var(--thm_content_width, 720px) + 200px);
                                        width:var(--thm_wide_width, 920px);
                                        max-width:calc(100% + var(--thm_content_gap, 24px) * 2);
                                        height:auto;
                                        margin:0 auto;

                                    }
                                }
                            }
                            &.alignfull{
                                .wp-block-latest-posts__featured-image{
                                    width:inherit;
                                    text-align:center;
                                    .size-medium{

                                        width:calc(100% + var(--thm_content_gap, 24px) * 2);
                                        max-width:calc(100% + var(--thm_content_gap, 24px) * 2);
                                        height:auto;
                                        margin:0 auto;

                                    }

                                    .size-large{

                                        width:calc(100% + var(--thm_content_gap, 24px) * 2);
                                        max-width:calc(100% + var(--thm_content_gap, 24px) * 2);
                                        height:auto;
                                        margin:0 auto;

                                    }
                                }
                            }
                            & > li{
                                padding:0;
                                overflow:hidden;
                                .wp-block-latest-posts__featured-image{
                                    width:var(--thm_content_width, 720px);
                                    max-width:100%;
                                    &.alignleft,
                                    &.alignright{
                                        width:-moz-fit-content;
                                        width:fit-content;
                                        max-width:40%;
                                        margin-bottom:0;
                                    }
                                    &.aligncenter{
                                        padding:0;
                                        margin:0;
                                        text-align:center;
                                        background:var(--thm_cloud_color);
                                    }
                                    figure.size-thumbnail{
                                        width:150px;
                                        height:150px;
                                    }
                                    .size-medium{
                                        width:var(--thm_content_width, 720px);

                                        height:auto;
                                        margin:0 auto;

                                    }

                                    .size-large{
                                        width:var(--thm_content_width, 720px);

                                        height:auto;
                                        margin:0 auto;

                                    }


                                }
                                .wp-block-latest-posts__post-excerpt,
                                time,
                                a{
                                    // z-index: 10;
                                    position: relative;
                                }
                                .wp-block-latest-posts__post-full-content,
                                .wp-block-latest-posts__post-excerpt{
                                    position:relative;
                                    left:0;
                                    margin:1.5rem auto .75rem;
                                    clear:both;
                                    //background:var(--thm_background_color);
                                }
                            }
                        }
                    }
                    &.is-grid{
                        &.columns-6,
                        &.columns-5,
                        &.columns-4,
                        &.columns-3,
                        &.columns-2,
                        &.columns-1{
                            & > li{
                                & > a:first-of-type{
                                    @include font_size(4,no-margin);
                                    margin-top:.75rem;
                                    margin-bottom:.75rem;
                                    font-family:var(--thm_heading_font_family);
                                    font-weight:var(--thm_heading_font_weight);
                                    text-transform:var(--thm_heading_font_transform);
                                }
                            }
                        }
                        & > li{
                            .wp-block-latest-posts__post-full-content{
                                @extend %die-aligns;

                            }
                            li{
                                display:list-item;
                                width:100%;
                            }
                            .wp-block-latest-posts__post-author{
                                margin:1.5rem auto .75rem;
                            }
                            .wp-block-latest-posts__post-date{
                                display:var(--thm_post_display_date);
                            }
                        }
                        .wp-block-columns{
                            display:block;
                            &.has-background{
                                padding:var(--thm_content_gap, 24px);//GB7.5 override padding
                            }
                            .wp-block-column{
                                min-width:0;//
                            }
                        }
                    }
                }
            }
        }
    }
}

/**
 * Block columns
 * ========================================================================== */

div.wp-block-columns,
.emulsion-fse-active .wp-block-columns{

    @extend %block;
    display:flex;
    &:not(.alignleft):not(.alignright){
        float:none;
        clear:both;
    }
    justify-content: flex-start;
    @media (min-width: 600px) and (max-width: 781px) {
        //OW
        &:not(.is-not-stacked-on-mobile)>.wp-block-column:not(:only-child) {
            flex-basis: auto!important;
            flex-grow: 1;
        }
        &:not(.is-not-stacked-on-mobile)>.wp-block-column:nth-child(2n) {
            margin-left:var(--thm_box_gap, 3px);
        }
    }
    &.has-background{
        padding:0;
    }
    &.is-not-stacked-on-mobile{
        .wp-block-column{
            min-width:0;
        }
    }

    .wp-block-column{
        min-width:180px;
        max-width:100%;
        margin: calc(var(--thm_box_gap, 3px) / 2);

        .shortcode-wrapper{
            padding-right:0;
            padding-left:0;
        }
        & > [class|="wp-block"]:not(.wp-block-image):not(.wp-block-post-featured-image):not(.wp-block-gallery){

            width:calc( 100% - var(--thm_content_gap, 24px) * 2 );
        }
        & > .wp-block-gallery{

            width:100%;
        }

        [class|="wp-block"]{

            margin-right:auto;
            margin-left:auto;

            &.alignfull{
                position:static;
                max-width:100%;
                padding-right:0;
                padding-left:0;
                margin-right:auto;
                margin-left:auto;
            }
        }
        .wp-block-image{
            max-width:100%;
            padding-right:0;
            padding-left:0;
            margin-top:0;
            margin-bottom:0;
        }
        .wp-block-cover{
            height:auto;
        }
        .wp-block-archives{
            position: relative;
            display: block;
            height: auto;
            margin-top:calc( 1rem - 6px );
            margin-bottom:0;
            li{

                box-sizing:border-box;
                display:list-item;
                flex:initial;
                width:initial;
                margin-right:calc( var(--thm_box_gap, 3px) * 2 );
                margin-left:calc( var(--thm_box_gap, 3px) * 2 );
                list-style:none;
                &:before{
                    display:none;
                }
                a{
                    display:inline-block;
                    margin-top:2px;
                    margin-bottom:2px;
                    transform:none;
                }
            }
        }
        .wp-block-latest-comments{
            @extend .wp-block-archives;
            box-sizing:border-box;
            padding-right:0;
            padding-left:0;
            margin-top:1rem;
            li{
                margin-bottom:calc( var(--thm_box_gap, 3px) * 2 );

            }
        }
        .wp-block-latest-posts{
            padding-right:0;
            padding-left:0;
            margin-top:1rem;
            li{
                margin-right:calc( var(--thm_box_gap, 3px) * 2 );
                margin-left:calc( var(--thm_box_gap, 3px) * 2 );
            }
        }

        .wp-block-cover{
            &.alignfull{
                position:relative;
                left:0;
                background-position:49.5% 50%;
            }
        }
        &.sidebar{
            .wp-block-latest-comments{

                .wp-block-latest-comments__comment-excerpt{
                    margin-left:-48px;
                    p{
                        padding:0;
                    }
                }
            }
        }
    }
}

/**
 * Block latest posts
 * ========================================================================== */
[lang="ja"]{
    .wp-block-latest-posts{
        & > li{
            .wp-block-latest-posts__post-excerpt{
                max-height:calc(var(--thm_meta_data_font_size) * var(--thm_content_line_height) * 3);
                overflow:hidden;
            }
        }
    }
}

.wp-block-latest-posts{

    font-family:var( --thm_meta_data_font_family);
    font-size:var(--thm_meta_data_font_size, 13px);
    text-transform:var(--thm_meta_data_font_transform);

    & > li{
        box-sizing:border-box;
        padding:.685rem;
        margin-bottom:calc( var( --thm_box_gap,3px ) * 2 );
        list-style:none;

        &.current-page{
            // must not display
            display:none!important;
        }
        .wp-block-latest-posts__post-title{
            font-family: var(--wp--preset--font-family--hoefler-times-new-roman);
            font-size: clamp(var(--wp--preset--font-size--large), calc( 100vw / 72 * 2), var(--wp--preset--font-size--extra-large) );
            font-weight: var(--wp--custom--font-weight--heading);
            line-height: var(--wp--custom--line-height--heading,1.15);
            text-transform: var(--wp--custom--text-transform--heading);
        }


        .wp-block-latest-posts__post-date,
        time,
        & > a{
            display:block;
            width: -moz-fit-content;
            width:fit-content;
            margin-top:1.5rem;
            margin-right:auto;
            margin-bottom:.75rem;
            margin-left:auto;
            font-weight:700;
            text-align:left;
        }
        .wp-block-latest-posts__post-excerpt{
            display:block;
            width: -moz-fit-content;
            width:fit-content;
            margin-top:1.5rem;
            margin-right:auto;
            margin-bottom:.75rem;
            margin-left:auto;
            text-align:left;

            & > a:only-child{
                //read more link
                display:block;
            }
            .shortcode-wrapper{
                //shortcode
                //gutenberg 6.8 not removing shortcode in excerpt
                ul{
                    li{
                        display:list-item;
                        width:initial;
                        padding-right:initial;
                        padding-left:initial;
                        text-indent:0;
                        list-style-type: disc;
                    }
                }
                ol{
                    li{
                        display:list-item;
                        width:initial;
                        padding-right:initial;
                        padding-left:initial;
                        text-indent:0;
                        list-style-type: decimal;
                    }
                }
            }
        }
    }
    &.is-grid{
        display:flex;
        flex-wrap:wrap;
        float:none;
        padding-right:var(--thm_content_gap, 24px);
        padding-left:var(--thm_content_gap, 24px);
        &.alignleft{
            @extend %alignleft;
        }
        &.alignright{
            @extend %alignright;
        }
        li{
            flex:1 1 auto;
            margin:var(--thm_box_gap, 3px);
            a:first-child:last-child{
                margin-top:.75rem;
            }
            .wp-block-columns{
                flex-wrap:wrap;
            }
        }
    }
    &.alignleft{
        @extend %alignleft;
    }
    &.alignright{
        @extend %alignright;
    }
}

/**
 * Gallery
 * ========================================================================== */

#document{
    .wp-block-gallery{
        .blocks-gallery-item{
            &:before{
                display:none;
            }

            figure{
                img{
                    margin:0 auto;
                }
            }

        }
    }
}

/**
 * Table
 * ========================================================================== */

//need specificity
body .wp-block-table{
    width:calc(var(--thm_content_width, 720px) - var(--thm_content_gap, 24px) * 2 );

    height:auto;
    overflow-x:auto;
    overflow-y:hidden;
    .has-fixed-layout{
        width:auto;
    }
    .has-background{
        &:before {
            top: 0;
            left: var(--thm_content_gap, 24px);
            z-index: -1;
            width: calc( 100% - var(--thm_content_gap, 24px) * 2 - 2px);
            content: '';
            background: var(--thm_white_color, #ffffff);
        }
    }
    table{
        width:calc( 100% - 2px);
        min-width:99%;
        td,
        th{
            -webkit-hyphens: none;
            -moz-hyphens: none;
            hyphens: none;
            word-break:break-word;
            overflow-wrap: break-word;
            white-space:pre-wrap;

        }
    }
    &::-webkit-scrollbar {
        width: 0;
        height:.5em;
    }
    &:not(.alignleft):not(.alignright){
        float:none;
        clear:both;
    }
    &.alignleft,
    &.alignright{
        display:flex;
        width:calc(50% - 1.5em );
        max-width:calc(50% - 1.5em );
        padding-right:0;
        padding-left:0;

    }
    &.alignleft{
        margin:0 1em .75em .5em;
        clear:left;
    }
    &.aligncenter{
        @extend %aligncenter;
        width: calc(var(--thm_content_width, 720px) - var(--thm_align_offset, 200px));
        padding-top:1.5em;
        padding-bottom:.75em;
        margin-top:0;
        margin-bottom:0;
    }
    &.alignright{
        position:relative;
        margin:0 .5em .75em 1em;
        clear:right;
    }
    &.aligncenter,
    &.alignleft,
    &.alignright{
        @media screen and ( max-width : 640px ) {
            clear:both;
            float:none;
            display:block;
            width: calc( 100% - var(--thm_content_gap, 24px) * 2 - 2px);
            max-width:100%;
            margin:1.5rem auto .75rem;


        }
    }

    table{
        display:table;
        margin-bottom:0;/* gutenberg table is block over written */
        tbody{
            display:table-row-group;
        }
    }
}

body .wp-block-table {
    /**
     * Theme Table Classes
     */
    figcaption{
        display:block;
        width: -moz-fit-content;
        width:fit-content;
        margin-right:auto;
        margin-bottom:.75rem;
        margin-left:auto;
    }
    &.caption-side-bottom{
        flex-direction:column;
        figcaption{
            margin-top:.75rem;
        }
    }
    &.caption-side-bottom-left{
        flex-direction:column;
        figcaption{
            margin-top:.75rem;
            margin-left:var(--thm_content_gap, 24px);
        }
    }
    &.caption-side-left{
        figcaption{
            margin-bottom:.75rem;
            margin-left:var(--thm_content_gap, 24px);
        }
    }
    &.caption-side-bottom-right{
        flex-direction:column;
        figcaption{
            margin-top:.75rem;
            margin-right:var(--thm_content_gap, 24px);
        }
    }
    &.caption-side-right{
        figcaption{
            margin-right:var(--thm_content_gap, 24px);
            margin-bottom:.75rem;
        }
    }
    table{
        th {
            padding:.7rem;
            &.right,
            &.left,
            &.right,
            &.left{
                float:none;
            }
        }
        td {
            padding:.7rem;
            p{
                margin-top:.75rem;
                line-height:var( --thm_common_line_height, 1.15 );
                text-align:left;
            }
            p:first-child:last-child{
                margin-top:0;
            }
            p:last-child{
                margin-bottom:0;
            }
        }
    }
    &.auto {
        table{
            table-layout:auto;
        }
    }
    &.left{
        table{
            float:none;
        }
    }
    &.left{
        table{
            th,td{
                text-align:left;
            }
        }
    }
    &.center{
        table{
            th,td{
                text-align:center;
            }
        }
    }
    &.right{
        table{
            th,td{
                text-align:right;
            }
        }
    }
    /**
     * vertical align
     */
    &.top{
        table{
            th,td{
                vertical-align:top;
            }
        }
    }
    &.middle{
        table{
            th,td{
                vertical-align:middle;
            }
        }
    }
    &.bottom{
        table{
            th,td{
                vertical-align:bottom;
            }
        }
    }
}


/**
 * Block categories
 * ========================================================================== */

ul.wp-block-categories{
    padding-right:var(--thm_content_gap, 24px);
    padding-left:var(--thm_content_gap, 24px);
    font-family:var( --thm_meta_data_font_family);
    font-size:var(--thm_meta_data_font_size, 13px);
    text-transform:var(--thm_meta_data_font_transform);



    &.aligncenter,
    &.alignleft,
    &.alignright{
        max-height:19rem;
        overflow-x:hidden;
        overflow-y:scroll;
        &::-webkit-scrollbar {
            width: .5em;
            height:150px;
        }
        &::-webkit-scrollbar-thumb{
            background-color:var(--thm_gray_color);
            outline: 1px solid var(--thm_gray_color);
        }
        .aligncenter,
        ul{
            padding-right:0;
            padding-left:0;
            margin-top:0;
            margin-bottom:0;
        }
    }

    &.aligncenter{
        padding-top:0;
        padding-bottom:0;
    }

    &.wp-block-categories-list{
        &.alignfull,
        &.aligncenter{
            ul{
                position:relative;
                li{
                    &.cat-item a:after{
                        position:absolute;
                        left:15rem;
                        display:inline-block;
                        width:calc(100% - 17rem);
                        height:1.5rem;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        white-space: nowrap;
                        content:attr( data-title );
                    }
                }
            }
        }
    }
    &.wp-block-categories-dropdown{
        padding-right:var(--thm_content_gap, 24px);
        padding-left:var(--thm_content_gap, 24px);
        overflow:visible;
        select{
            display:block;
            margin-right:auto;
            margin-left:auto;
        }
    }
}
.wp-block-categories-dropdown select{
    position: relative;
    display:block;
    width:auto;
    max-width:100%;
    height:auto;
    padding:.69rem;
    margin-top:1.5rem;
    margin-right:auto;
    margin-bottom:.75rem;
    margin-left:auto;
}
div.wp-block-categories.alignleft{
    //core override
    margin-right:1rem;
}
div.wp-block-categories.alignright{
    //core override
    margin-left:1rem;
}

/**
 * Media text
 * ========================================================================== */

div.wp-block-media-text > .block-editor-block-list__layout > .block-editor-block-list__block{
    //OW
    max-width:100%;
}

.wp-block-media-text{
    display: grid;
    grid-template-areas: "media-text-media media-text-content";
    grid-template-rows: auto;
    grid-template-rows: 2;
    grid-template-columns: 50% 50%;
    align-items: center;

    .wp-block-media-text__media{
        position:relative;
        width:100%;
        height:100%;
        overflow:hidden;
        &[style^="background-image"]{
            img{
                display:block;
                height:100%;
                visibility:hidden;
            }
            & > a{
                display:block;
                height:100%;
            }
        }
        & > a{
            position:absolute;
            top:50%;
            left:50%;
            width:100%;
            transform: translate(-50%, -50%);
        }
        & > img{
            position:absolute;
            top:50%;
            left:50%;
            width:100%;
            transform: translate(-50%, -50%);
        }
        &:before{
            z-index:-1;
            display:block;
            height:0;
            padding-bottom:56.25%;
            content:'';
        }
    }
    &.is-vertically-aligned-top{
        figure:not([style^="background-image"]){
            & > img,
            & > a{
                top: 0;
                left: 50%;
                transform: translate(-50%, 0);
            }
        }

    }

    &.is-vertically-aligned-bottom{
        figure:not([style^="background-image"]){
            & > img,
            & > a{
                top:auto;
                bottom: 0;
                left: 0;
                transform: none;
            }
        }
    }
    .wp-block-media-text__content{
        box-sizing:border-box;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding-right:0;
        padding-left:0;
        overflow:hidden;
        p{
            margin-bottom:0;
        }

        p:last-child{
            margin-bottom: calc(1rem * var(--thm_content_line_height, 1.5));
        }
        h1,h2,h3,h4{
            width: -moz-fit-content;
            width:fit-content;
        }
        .wp-block-table{
            padding-right:var(--thm_content_gap, 24px);
            padding-left:var(--thm_content_gap, 24px);
        }
    }
    &.has-media-on-the-right {
        grid-template-areas: "media-text-content media-text-media";
        grid-template-columns: 50% 50%;
    }
}

/**
 * Block image
 * ========================================================================== */

figure.wp-block-image,
div.wp-block-image{

    &.is-style-circle-mask{
        figcaption{
            position: absolute;
            top: 40%;
            right: 0;
            left: 0;
            z-index: 10;
            display:block;
            padding:.75rem;
            color:#fff;
            visibility:hidden;
            background:rgba(0,0,0,.3);
        }
        &:hover{
            figcaption{
                visibility:visible;
            }
        }
    }


    &.alignright,
    &.alignleft{
        /**
         * width:auto means for named image size ex..size-thumbnail
         * todo layout width:auto improperly
         */

        //width:auto;

        // margin-top:0;

        figure.size-thumbnai{
            width:150px;
            height:auto;
        }
        figure{
            width:auto;
            img{
                position:relative;
                z-index:2;
            }
        }
        &.is-style-circle-mask:not(.specificity){
            display:block;
            width: calc(50% - var(--thm_content_gap, 24px) - 1rem);
            margin-top:.75rem;
            text-align:center;
            shape-outside: circle();
            @media screen and ( max-width : 640px ) {
                shape-outside: none;
            }
            figcaption{
                width:-moz-fit-content;
                width:fit-content;
                max-width:var(--thm_content_min_width, 296px);
                margin-right:auto;
                margin-left:auto;
            }
        }
    }
    &:not(figure) img.alignleft,
        &.alignleft{

        position:relative;

        figure{
            &.size-thumbnail{
                margin-left:var(--thm_content_gap, 24px);
            }
        }
        &.is-resized{

            width:auto;
            //margin-top:0;
            margin-right:1rem;// core overwrite
            figure{
                display:table;
                figcaption{
                    display:table-caption;
                    caption-side:bottom;
                }
                &.size-thumbnail{
                    margin-left:0;
                }
            }
            @media screen and (max-width: 720px) {
                width:100%;
                figure{
                    margin-right:auto;
                    margin-left:auto;
                }
            }

        }
    }
    &:not(figure) img.alignright,
        &.alignright{

        position:relative;


        figure{
            &.size-thumbnail{
                margin-right:var(--thm_content_gap, 24px);
            }
        }
        &.is-resized{
            width:auto;
            // margin-top:0;
            margin-left:1rem;// core overwrite

            figure{
                display:table;
                figcaption{
                    display:table-caption;
                    caption-side:bottom;
                }
                &.size-thumbnail{
                    margin-right:0;
                }
            }
            @media screen and (max-width: 720px) {
                width:100%;
                figure{
                    margin-right:auto;
                    margin-left:auto;
                }
            }
        }
    }
}

div.wp-block-image.aligncenter,
div.wp-block-image .aligncenter,
div.wp-block-image.alignleft,
div.wp-block-image .alignleft,
div.wp-block-image.alignright,
div.wp-block-image .alignright{
    //OW
    display:block;
}
figure.wp-block-image{

    //default width of no set width, alignwide, alignfull style
    display:block;
    width: var(--thm_content_width, 720px);
    max-width:100%;
    //OW
    margin-right:auto;
    margin-left:auto;
    text-align:center;

    &.is-resized{

        &.alignleft{
            text-align:right;
        }
        &.alignright{
            text-align:left;
        }
    }
    &.alignfull{
        margin-right:auto;
        margin-left:auto;
    }
    &.alignwide{
        @extend %alignwide
    }

    /* overwrite core */
    // when browser narrow width , display improperly
    figcaption{
        display:block;
    }
}


/**
 * Block first of type
 * ========================================================================== */

body .wp-block-group.alignfull:first-of-type{
    margin-top:0;
}

body .wp-block-image.alignfull:first-of-type{
    margin-top:0;
}
body .wp-block-cover.alignfull:first-of-type{

    margin-top:0;
}
.wp-block-cover{
    p.has-info-background-color:before{
        display:none;
    }
    &.has-custom-content-position{

        div.wp-block-cover__inner-container{
            width:100% ! important;

            p{
                &:first-child {
                    width:100% ! important;
                    padding:0 ! important;
                    margin-top:0 ! important;
                    margin-bottom:0 ! important;
                }
            }

        }
        &.is-position-bottom-left,
        &.is-position-bottom-center,
        &.is-position-bottom-right{

            div.wp-block-cover__inner-container{
                width:100% ! important;
            }
        }
    }
}

/**
 * Blockquote lang CJK
 * ========================================================================== */

[lang="zh-HK"],
[lang="zh-TW"],
[lang="zh-CN"],
[lang="ko-KR"],
[lang="ja"]{
    .layout{
        .wp-block-quote{
            &.is-style-large{
                font-style:normal;
            }
            p{
                font-style:normal;
            }
            cite{
                font-style:normal;
            }
        }
    }
}

/**
 * block navigation
 * ========================================================================== */
.wp-block-group{
    nav.wp-block-navigation:only-child{
        margin-top:var(--thm_box_gap, 3px);
        margin-bottom:var(--thm_box_gap, 3px);
    }
}
.emulsion .is-root-container .wp-block-navigation,
.emulsion nav.wp-block-navigation{
    position:relative;
    z-index:30;
    padding:0;

    &:hover{
        //accessibility setting
        z-index:40;
    }
    .wp-block-navigation-item.open-on-hover-click:focus-within + .wp-block-navigation__submenu-container,
        .wp-block-navigation-item:hover + .wp-block-navigation__submenu-container,
        .wp-block-navigation-item a:active + .wp-block-navigation__submenu-container{
        z-index:40;
        display:block !important;
        max-width:none !important;
        height:auto !important;
        visibility:visible !important;
        opacity:1 !important;
    }




    &.has-background{
        background:transparent ! important;
    }

    &.items-justified-left{
        .wp-block-navigation__container{
            justify-content:start;
            width:fit-content;
            margin-right:auto;
            margin-left:0;
        }
    }
    &.items-justified-right{
        .wp-block-navigation__container{
            justify-content:safe end;
            width:fit-content;
            margin-right:0;
            margin-left:auto;
        }
    }
    &.items-justified-center{
        .wp-block-navigation__container{
            justify-content:safe center;
            width:fit-content;
            margin-right:auto;
            margin-left:auto;

        }
    }
    &.items-justified-space-between{
        .wp-block-navigation__container{
            justify-content:space-between;
            width:auto;
            margin-right:auto;
            margin-left:auto;
        }
    }

    &.is-vertical{
        &.items-justified-left{
            align-items: flex-start;
        }
        &.items-justified-right{
            align-items: flex-end;
        }
        &.items-justified-center{
            align-items: center;
        }
        .wp-block-navigation__container{
            display:block;

        }
    }
    .wp-block-navigation__container{
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        width:fit-content;
        padding:0 var(--thm_content_gap, 24px);
        margin: 0;
        margin-top:0;
        margin-bottom:0;
        list-style: none;

        .wp-block-navigation-item{
            flex:1 1 auto;
            width:-moz-fit-content;
            width:auto;
            padding:0;
            margin:0;
            .wp-block-navigation-item__content{
                text-align:center;
            }
            &.open-on-click,
            &.open-on-hover-click{
                .wp-block-navigation__submenu-container{
                    z-index:200;
                }
            }
            &.has-background{
                border:1px solid #ffffff;
            }
            &.has-child{
                white-space:pre;

                .wp-block-navigation-item__label{
                    width:max-content;
                }
                .wp-block-navigation__submenu-container:not(#specificity){
                    left:0;
                    width:auto;
                    max-width:none;
                    padding:0;
                    margin:0 auto;
                    transition:visibility 1s;

                }
                // tab key navigation
                .open-on-hover-click:focus-within .wp-block-navigation__submenu-container:not(#specificity),
                    .wp-block-navigation__submenu-icon:focus-within ~ .wp-block-navigation__submenu-container:not(#specificity),
                    .wp-block-navigation__submenu-icon:active ~ .wp-block-navigation__submenu-container:not(#specificity),
                    .wp-block-navigation__submenu-icon:focus ~ .wp-block-navigation__submenu-container:not(#specificity){
                    z-index:40;
                    display:block;
                    width:auto;
                    height:auto;
                    visibility:visible;
                    opacity:1;

                }

            }

            button.wp-block-navigation__submenu-icon{

                margin:0 var(--thm_content_gap, 24px);
            }
        }
    }
}
.emulsion .is-root-container .wp-block-navigation{
    .wp-block-navigation__container{
        .wp-block-navigation-item{
            &.has-child{
                .wp-block-navigation-item{
                    margin-left:0;
                }
            }

        }
    }

}
.emulsion-addons-inactive .wp-block-navigation,
.emulsion .wp-block-navigation{
    padding:1px;
    &.has-background{
        background:transparent;
    }
    .wp-block-navigation-item{
        flex:1 1 auto;
    }
    .wp-block-navigation__container{
        width:fit-content;
        padding-right:0;
        padding-left:0;
        margin-right:auto;
        margin-left:auto;
        .wp-block-navigation-item{
            flex:1 1 auto;
            padding:0;
            margin:0;
            &.has-child{
                .wp-block-navigation-item__container{
                    left:0;
                    z-index:10;
                    width: 100%;
                    padding-left:0;
                    padding-left: 0;
                    margin: 0
                }
            }
            .wp-block-navigation-item__content{
                display:flex;
                margin-right:auto;
                margin-left:auto;
                line-height:1.5;

                .wp-block-navigation-item__label{
                    display:inline-block;
                }
                .wp-block-navigation-item__submenu-icon{
                    display:inline-block;
                    vertical-align:middle;
                }
            }




        }

    }
    .has-background{
        border:1px solid #ffffff;
    }
    &.is-vertical{
        width:fit-content;
        .wp-block-navigation-item{
            width:auto;
        }
    }
    &.items-justified-left{
        .wp-block-navigation__container{
            width:fit-content;
            margin-right:auto;
            margin-left:0;
        }
    }
    &.items-justified-right{
        .wp-block-navigation__container{
            width:fit-content;
            margin-right:0;
            margin-left:auto;
        }
    }
    &.items-justified-center{
        .wp-block-navigation__container{
            //  li{
            width:fit-content;
            margin-right:auto;
            margin-left:auto;
            //  }
        }
    }
    &.items-justified-space-between{
        .wp-block-navigation__container{
            width:auto;
            margin-right:auto;
            margin-left:auto;
        }
    }
}
.sidebar-widget-area{
    .widget{
        .is-vertical.wp-block-navigation:not(#specificity){
            width:var(--thm_sidebar_width);
            padding-right:0;
            padding-left:0;
            ul{
                width:100%;
            }
        }
    }
}
/**
 * Block file
 * ========================================================================== */

.wp-block-file{
    text-align:center;
    &.alignright{
        text-align:center;
    }
    a,
    a.wp-block-file__button{
        box-sizing:border-box;
        display:inline-block;
        padding:0 var(--thm_content_gap, 24px);
        margin:1.5rem .5rem .75rem;
        line-height: calc(1rem * 3 - 2px);
        text-align:center;
        border-radius:5px;
        &:empty{
            display:none;
        }

    }
}

/**
 * Block comments
 * ========================================================================== */

.full_text{
    .wp-block-comments-query-loop,
    .wp-block-latest-comments{
        padding-right:var(--thm_box_gap, 3px);
        padding-left:var(--thm_box_gap, 3px);
        .wp-block-latest-comments__comment{
            list-style-type:none;
        }
        & > li{
            .wp-block-latest-comments__comment-avatar{
                display: block;
                float: left;
                width: 40px;
                height: 40px;
                margin-right: 6px;
                margin-left:6px;
                border-radius: 24px;
            }
            article{
                margin-top:0;
                .wp-block-latest-comments__comment-meta{
                    width:-moz-fit-content;
                    width:fit-content;
                    max-width:100%;
                    min-height:0;
                    margin-top:0;
                    margin-bottom:0;
                    margin-left:0;
                    clear:none;
                    font-size:var(--thm_meta_data_font_size, 13px);
                }
                .wp-block-latest-comments__comment-excerpt{


                    //display:none;
                }
                time{
                    //display:none;
                }
            }
        }
        &.has-avatars{
            & > li{
                article{
                    width:calc(100% - 53px);
                    margin-left:53px;
                }
            }
        }
        &.has-dates{
            & > li{
                article{
                    footer{
                        time{
                            display:block;
                        }
                    }
                }
            }
        }
        &.has-excerpts{
            & > li{
                article{
                    .wp-block-latest-comments__comment-excerpt{
                        display:block;
                    }
                }
            }
        }
    }
}
.widget_block{
    .wp-block-latest-comments:not(.list-style-initial):not(.is-style-list-style-initial) {
        padding-right:var(--thm_content_gap, 24px);

        padding-left:var(--thm_content_gap, 24px);
        margin:0;

        & > li{
            article{
                border:none ! important;
                .wp-block-latest-comments__comment-meta{
                    margin-left:0;
                }
                .wp-block-latest-comments__comment-excerpt{
                    width:100%;
                    margin-left:0;
                }
                time{
                    width:100%;
                }
                footer{
                    text-align:left;
                }
            }
        }
        &.has-avatars{
            & > li{
                article{
                    width:calc(100% - 53px);
                    margin-left:0;
                }
            }
        }
    }
}


/**
 * Block calendar
 * ========================================================================== */

.wp-block-calendar{
    td{
        a{
            display:block;
        }
        &#today{
            font-weight:700;
        }

    }
}

/**
 * Block embed
 * ========================================================================== */

figure.wp-block-embed{
    .wp-block-embed__wrapper{
        text-align:center;
        & > div{
            margin-right:auto;
            margin-left:auto;
            text-align:center;
        }
    }
    iframe{
        width:100%;
    }
    img{
        object-fit:cover;
    }

}


.on-scroll{
    .is-style-sticky{
        top: 100px;
    }
}

// WordPress 5.6 no activate gutenberg
.wp-block-cover span.wp-block-cover__background,
.wp-block-cover span.wp-block-cover__gradient-background,
.wp-block-cover-image img.wp-block-cover__image-background,
.wp-block-cover-image video.wp-block-cover__video-background,
.wp-block-cover img.wp-block-cover__image-background,
.wp-block-cover video.wp-block-cover__video-background {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    width: 100%;
    max-width: none;
    height: 100%;
    max-height: none;
    padding: 0;
    margin: 0;
    border: none;
    outline: none;
    box-shadow: none;
    -o-object-fit: cover;
    object-fit: cover;
}

/**
 * block page list
 */
.emulsion nav.wp-block-navigation ul.wp-block-page-list{
    padding:0;
    .wp-block-navigation__submenu-container{
        max-width:none;
        padding:0;
        .wp-block-page-list{
            padding:0;
        }
    }
}
.emulsion .wp-block-page-list{
    margin-right:auto;
    margin-left:auto;
    font-size:var(--thm_meta_data_font_size, 13px);
    text-transform:var(--thm_meta_data_font_transform);

    &:last-child{
        margin-right:auto;
        //OW
        margin-left:auto;
    }
    & > .wp-block-pages-list__item{
        list-style-type:none;
        border-bottom-color: var(--thm_border_sidebar, rgba(188, 188, 188, 0.5));
        border-bottom-style: var(--thm_border_sidebar_style);
        border-bottom-width: var(--thm_border_sidebar_width);
    }
    .wp-block-pages-list__item{
        margin:0;


        .wp-block-pages-list__item__link{
            display: inline-block ! important;
            padding-top: calc(1rem * var( --thm_content_line_height, 1.5 ) / 4);
            padding-right: calc(1rem * var( --thm_content_line_height, 1.5 ) / 2);
            padding-bottom: calc(1rem * var( --thm_content_line_height, 1.5 ) / 4);
            padding-left: calc(1rem * var( --thm_content_line_height, 1.5 ) / 2);
            margin-top: calc(1rem * var( --thm_content_line_height, 1.5 ) / 4);
            margin-bottom: calc(1rem * var( --thm_content_line_height, 1.5 ) / 4);
        }

        &.has-child{

            .submenu-container{
                margin-top:0;
                margin-bottom:0;
            }

            .wp-block-page-list__submenu-icon{
                display:inline;
                svg{
                    display:inline;
                }
                & ~ .submenu-container{
                    margin:0;
                }
            }
        }
    }
}
body .wp-block-query{
    .wp-block-post-template{
        padding:0;
        li{
            position:relative;
            &:before{
                display:none;
            }
        }
    }
}
body:not(.full_text) .wp-block-query{

    //share fse

    @for $i from 1 through 6 {

        .wp-block-post-template.is-flex-container.columns-#{$i} > li,
        .wp-block-query-loop.is-flex-container.columns-#{$i} > li {
            width: calc(100% / #{$i} - var(--thm_box_gap, 3px) * 2 );
            margin:var(--thm_box_gap, 3px);

        }
    }
    .wp-block-post-template{
        padding:0;
        li{
            position:relative;
            &:before{
                display:none;
            }

            &.format-standard{
                hr{
                    display:none;
                }
                &.has-post-thumbnail{
                    //  border-bottom:none;

                    & > .wp-block-post-title{
                        position: absolute;
                        top: calc(var(--thm_header_media_max_height) / 3);
                        right: 0;
                        left: 0;
                        z-index: 10;
                        color: #fff;
                        a{
                            color:#fff;
                        }
                    }
                }
            }
            h2{
                font-family: var(--wp--preset--font-family--hoefler-times-new-roman);
                font-size: var( --wp--preset--font-size--extra-large);
                font-weight: var(--wp--custom--font-weight--heading);
                line-height: var(--wp--custom--line-height--heading,1.15);
                text-transform: var(--wp--custom--text-transform--heading);
            }
            .wp-block-column{

                .wp-block-post-featured-image{
                    img{
                        width:auto;
                        max-width:100%;
                        height:auto;
                    }
                }
                &:empty{
                    // display:none;
                }
            }

            .wp-block-group{

                &:not(#specificity){
                    //OW
                    padding:0 ! important;
                }

            }
            .wp-block-post-featured-image{
                a{
                    padding:0 ! important;
                }
                img{
                    //  width:auto;
                    //  height:auto;
                }
            }
            .wp-block-post-excerpt__excerpt{
                max-height:calc( var(--wp--preset--font-size--normal, 16px) * var(--wp--custom--line-height--common, 1.5) * 3);
                overflow:hidden;

                @supports (-webkit-line-clamp:3) {
                    display: -webkit-box;
                    text-overflow: ellipsis;
                    white-space: normal;
                    -webkit-line-clamp: 3;
                    -webkit-box-orient: vertical;
                }
            }
        }
        &.is-flex-container{
            display:flex;
            flex-wrap:wrap;
            &:not(.alignleft):not(.alignright){
                float:none;
                clear:both;
            }

            padding-bottom:.75rem;
            .wp-block-post-excerpt__excerpt{
                margin:0 auto
            }

            .wp-block-post-date{
                display:block;
                width:100%;
                max-width: calc(100% - var(--thm_content_gap, 24px) * 2);
                padding-right:var(--thm_content_gap, 24px);
                padding-left:var(--thm_content_gap, 24px);
                margin-top:1.5rem;
                margin-bottom:.75rem;
                time{
                    display:block;
                }
            }
        }
    }

    .is-flex-container{
        .wp-block-post-date{
            float:none;
            width:-moz-fit-content;
            width:fit-content;
            max-width:100%;

        }
        .wp-block-post-author{
            float:none;
            width:-moz-fit-content;
            width:fit-content;
        }

    }
}
.wp-block-post-title{
    width:-moz-fit-content;
    width:fit-content;
}
.wp-block-post-terms{
    width:-moz-fit-content;
    width:fit-content;
}
.wp-block-post-author{
    display:flex;
    flex-wrap:wrap;
    align-items: center;
    justify-content: center;
    width:-moz-fit-content;
    width:fit-content;
    .wp-block-post-author__avatar{
        width:-moz-fit-content;
        width:fit-content;
        margin:.75rem;
    }
    .wp-block-post-author__content{
        width:-moz-fit-content;
        width:fit-content;
        .wp-block-post-author__byline{
            width:-moz-fit-content;
            width:fit-content;
            margin-left:0;
        }
        .wp-block-post-author__name{
            width:-moz-fit-content;
            width:fit-content;
        }
        .wp-block-post-author__bio{
            width:-moz-fit-content;
            width:fit-content;
            max-width:100%;
            font-size:var(--wp--preset--font-size--small, 13px);
        }
    }
}


.emulsion{
    .wp-block-columns:not(#spacificty){

        &.emulsion-cta-block{

            .wp-block-column{
                flex-grow:1;
                min-width: 180px;
                max-width: 100%;
                margin: var(--thm_box_gap, 3px);
                .wp-block-image{
                    width:100%;
                }
            }
        }
    }
}
.emulsion{
    li:not(.widget_block){
        .wp-block-search{
            padding:0;
        }
    }
    form.wp-block-search{

        &.no-label{
            .wp-block-search__label{
                display:none;
            }
        }
        .wp-block-search__label{
            padding-right:var(--thm_content_gap, 24px);
        }
    }
}
.is-presentation-theme{
    #main{
        .toc{
            display:none;
        }
    }
}
.wp-block-preformatted{
    padding:.75rem;
}
.wp-block-comments-query-loop:empty{
    display:none;
}
.gist{
    max-width:100%;
}
/**
    * Clear Float
 */
.is-style-new-line,
.clear-float{
    float:none;
    clear:both!important;
    &.wp-block-post-date,
    &.wp-block-post-author{
        display: flow-root;
    }

}
.clear-left{
    float:none;
    clear:left!important;
}
.clear-right{
    float:none;
    clear:right!important;
}
.clear-none{
    overflow:visible;
    clear:none!important;
}
.is-light,
.is-fse-light,
.is-fse-bg-default{
    .wp-block-table-of-contents{
        ol{
            background:var(--wp--custom--color--toc-bg);
            border:var(--wp--custom--border--common,1px solid #ccc);
            ol{
                border:none;
            }
            a{
                color:var(--wp--custom--color--link);
                &:hover{
                    color:var(--wp--custom--color--link-hover);
                }
            }
        }
    }
}
.is-dark,
.is-fse-dark{
    .wp-block-table-of-contents{
        ol{
            background:var(--wp--custom--color--dark-toc-bg);
            border:var(--wp--custom--border--dark-common,1px solid #ccc);
            ol{
                border:none;
            }

            a{
                color:var(--wp--custom--color--dark-link);
                &:hover{
                    color:var(--wp--custom--color--dark-link-hover);
                }
            }
        }
    }
}
.wp-block-group.wp-block-post-navigation{
    margin:1.5rem auto;
}
.block-editor-block-breadcrumb{
    width:auto;
}
.wp-block-query-pagination{

    a{
        flex:1 1 auto;
        padding:var(--wp--custom--padding--content,.75rem);
        text-align:center;
        text-decoration:none;
        border:var(--wp--custom--border--common,1px solid #ccc);
    }

    .wp-block-query-pagination-numbers{
        display:flex;
        gap:var(--wp--style--block-gap, 3px);

        .current{
            padding:var(--wp--custom--padding--content,.75rem);
            border:var(--wp--custom--border--common,1px solid #ccc);
        }
        .dots{
            padding:var(--wp--custom--padding--content,.75rem);
            border:none;
        }
    }
}

.header-layer.html-header{
    margin:0;
    padding:0;
    .fse-header-content{

        width:var(--thm_content_width, 720px);
        padding:0  var(--thm_content_gap, 24px);
        display:flex;
        .wp-block-site-logo{
            flex: 0 0 48px;
            width:-moz-fit-content;
            width:fit-content;
            width:48px;
            margin-top:1.5rem;
        }
        .fse-header-text{
            flex: 0 0 calc( 720px - 48px);

        }

    }
}

.html-header ~ .layout-block .footer-layer,
.html-header ~ .footer-layer{
    background:var(--wp--custom--color--banner-bg);
    overflow:hidden;
    .footer-widget-area{
        width:100%;
    }
    .footer-widget-area-lists{
        background:var(--wp--custom--color--banner-bg);
        display:flex;
        flex-wrap:nowrap;
        width:100%;
        padding:0;
        @media screen and (max-width: 960px){
            display:block;
        }
        li{
            flex:1 1 30%;
            list-style:none;
            max-width:33.33%;
            padding:0 var(--wp--custom--padding--content, .75rem);
            @media screen and (max-width: 960px){
                max-width:100%;

            }
            h1,h2,h3,h4,h5,h6,
            .widgettitle{
                padding:0 var(--wp--custom--padding--content, .75rem);
                margin:1.5rem auto;
            }
            li{
                width:100%;
                max-width:100%;
            }
            & > *{
                width:100%;
                max-width:100%;
            }
        }
    }
}
.wp-block-template-part-header-rich{
    .wp-block-site-logo{
        margin:1.5rem auto;
        width:-moz-fit-content;
        width:fit-content;
    }
}

.emulsion:not(#specificity){
    .has-fluid-children{
        & > *{
            --thm_wide_width:100%;
            --wp--custom--width--wide:100%;
            --thm_content_width:100%;
            --wp--custom--width--content:100%;

        }

        h1,h2,h3,h4,h5,h6,p,ul,ol{
            width:100%;
        }
    }
}
.footer-widget-area-lists{
    color: var(--thm_header_text_color);
    background: var(--thm_header_bg_color);
    a{
        color: var(--thm_header_text_color);
    }
}