/**
 * CSS variables
 * Reset
 * Core over write
 * Color
 * Share
 * Transitional
 *
 */

a:-webkit-any-link,
a{
    text-decoration:none;
}
a:link {
    text-decoration:none;
}
a:visited {
    text-decoration:none;
}
body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)) {
    max-width:100%;
}
body .is-layout-constrained > * + * {
    margin-block-start: revert;
    margin-block-end: revert;
}
body .is-layout-constrained > * {
    margin-block-start: revert;
    margin-block-end: revert;
}
main{
    figcaption,
    p,
    table{
        a:link{
            text-decoration:underline;

        }
    }
    .badge{
        a:link{
            text-decoration:none;
        }
    }
}
//Link settings are specified by the user in the site editor
.link-disabled,
a[href^="mailto:"],
a[href^="geo:"],
a[href^="sms:"],
a[href^="tel:"] {
    text-decoration: none;
    pointer-events: auto;
    cursor: pointer;
}
.agent-mobile-phone a[href^="mailto:"],
.agent-mobile-phone a[href^="geo:"],
.agent-mobile-phone a[href^="sms:"],
.agent-mobile-phone a[href^="tel:"],
.agent-tablet a[href^="mailto:"],
.agent-tablet a[href^="geo:"],
.agent-tablet a[href^="sms:"],
.agent-tablet a[href^="tel:"]{
    display:inline-block;
    pointer-events:auto;
    cursor: pointer;
}
.wp-block-post-featured-image a{
    z-index:10;
}
.footer-widget-area a:any-link,
.sidebar-widget-area a:any-link{
    display:inline-block;
    padding:.75rem;
}
:root{
    --thm_common_border:rgba(188,188,188,.5);
    --thm_common_border_style:var(--thm_border_global_style,solid);
    --thm_common_border_width:var(--thm_border_global_width,1px);

    color:#333333;

    a:any-link{
        max-width:100%;
        text-decoration:none;
    }
    td a:any-link,
        p a:any-link{
        text-decoration: solid underline currentColor 1px;
    }
    p.logged-in-as a:any-link{
        text-decoration:none;
    }
    --layout-direction:center;
    --layout-justify:center;
}

body{
    box-sizing:border-box;
    padding:0;
    margin:0;
    overflow-x:hidden;
    font-family:var(--wp--preset--font-family--system-font, sans-serif);
    font-weight:var(--wp--custom--font-weight--common, 400);
    -webkit-hyphens: auto;
    -moz-hyphens: auto;
    hyphens: auto;
    line-height:var(--wp--custom--line-height--common, 1.5);
    line-height:var(--wp--custom--line-height--common);
    word-break:break-word;
    overflow-wrap:break-word;
}


$core_blocks: wp-block-image, wp-block-gallery, wp-block-quote, wp-block-audio, wp-block-cover, wp-block-file, wp-block-video,
wp-block-code, wp-block-preformatted, wp-block-pullquote, wp-block-table, wp-block-verse, wp-block-buttons, wp-block-post-template,
wp-block-columns, wp-block-separator, wp-block-spacer, wp-block-media-text, wp-block-archives, comment-form
wp-block-calendar, wp-block-categories, wp-block-latest-comments, wp-block-latest-posts, wp-block-rss,wp-block-archives-list,
wp-block-search, wp-block-social-links, wp-block-tag-cloud, wp-block-embed, wp-block-navigation, wp-block-group, wp-block-page-list,
wp-block-post-comments, wp-block-site-tagline, wp-block-site-title, wp-block-query-title, wp-block-post-terms,
wp-block-shortcode, wp-block-html, wp-block-query, wp-block-post-title, wp-block-post-content, wp-block-post-date, wp-block-categories-list,
wp-block-post-excerpt, wp-block-post-featured-image, wp-block-loginout, wp-block-template-part, wp-block-post-author, wp-block-post-comment,
wp-block-post-comments, wp-block-post-comments-count, wp-block-post-comments-count, wp-block-post-comments-form, wp-block-post-comments-link,
wp-block-term-description, wp-block-post-navigation, wp-block-comments-query-loop, wp-block-table-of-contents, wp-block-query-pagination;
@each $core_block in $core_blocks {
    .#{$core_block}{
        width: calc(var(--wp--custom--width--content, 720px ) - var(--wp--custom--padding--content, .75rem) * 2 );
        max-width:calc( 100% - var(--wp--custom--padding--content, .75rem) * 2 );
        margin-left:auto;
        margin-right:auto;

        &.aligncenter{
            box-sizing:border-box;
            float:none;
            width:var(--wp--custom--width--aligncenter);
            max-width:100%;
            clear:both;

            @media screen and ( max-width : 640px ) {
                width:100%;
                max-width:100%;
                margin-right:0;
                margin-left:0;
            }
        }
        &.alignwide{
            width:var(--wp--custom--width--wide, 920px);
        }
        &.alignfull{
            width:100%;
            max-width:100%;
            overflow:auto;

            @media screen and ( min-width : 1280px ) {
                width:100%;
                // Limit width
                max-width:var(--wp--custom--width--limit, 1600px);
                margin-right:auto;
                margin-left:auto;
                overflow:visible;

            }
        }
        &.alignleft{
            float:left;
            width: var(--wp--custom--width--float);
            margin: var(--wp--custom--margin--alignleft);
            clear:left;
            @media screen and ( max-width : 640px ) {
                width:100%;
                max-width:100%;
                padding:0 var(--wp--custom--padding--content, .75rem);
                margin:1.5rem auto;
            }
        }
        &.alignright{
            float:right;
            width: var(--wp--custom--width--float);
            margin: var(--wp--custom--margin--alignright);
            clear:right;
            @media screen and ( max-width : 640px ) {
                width:100%;
                max-width:100%;
                padding:0 var(--wp--custom--padding--content, .75rem);
                margin:1.5rem auto;
            }
        }
    }
}
.wp-block-query.alignfull > .wp-block-post-template{
    max-width:100%;
}
.emulsion{
    .is-style-new-line{
        position:static;
        & ~ :not([class*="align"]):where(h1,h2,h3,h4,h5,h6,p) {
            position: static;

        }

        & ~ :not([class*="align"]):where(ul,ol){
            position:static;
        }
    }
}
.alignright{
    box-sizing:border-box;
    float:right;
    width:var(--wp--custom--width--float);
    max-width:100%;
    margin:var(--wp--custom--margin--alignright);
    clear:right;
    @media screen and ( max-width : 640px ) {
        width:100%;
        max-width:100%;
        padding:0 var(--wp--custom--padding--content, .75rem);
        margin:1.5rem auto;
    }
    &.is-resized{
        width:auto;
    }
    &.has-background{
        @media screen and (max-width: 640px){
            margin-top:0;
            margin-bottom:0;
        }
    }
    &.wp-block-embed{
        width:var(--wp--custom--width--float);
        max-width:100%;
    }
    &.wp-block-social-links{
        flex-direction: column;
        width:100px;
        margin-top:1.5rem;
        @media screen and (max-width: 640px) {
            width:100px;
        }
    }
    &.wp-block-file:not(.specificity){
        width:-moz-fit-content;
        width:fit-content;
        margin-top:1.5rem;
        text-align:left;
        @media screen and ( max-width : 480px ) {

            width:100%;
            max-width:100%;
            padding:0 var(--wp--custom--padding--content, .75rem);
            margin:1.5rem auto;
        }
    }
    &.wp-block-search,
    &.wp-block-latest-comments{
        width:320px;
        margin-top:1.5rem;
        margin-right:0;
        &.is-style-list-style-inline{
            margin-left:var(--wp--custom--padding--content, .75rem);
        }
        @media screen and ( max-width : 640px ) {

            width:100%;
            max-width:100%;
            padding:0 var(--wp--custom--padding--content, .75rem);
            margin:1.5rem auto;
        }
    }
    &.wp-block-archives,
    &.wp-block-categories{
        width:320px;
        margin-top:0;
        margin-right:0;
        &.is-style-list-style-inline{
            width:320px;
            margin-right:var(--wp--custom--padding--content, .75rem);
        }
        @media screen and ( max-width : 640px ) {

            width:100%;
            max-width:100%;
            padding-left: clamp( 2rem, calc( 100vw / 36 ), calc(40px + var(--wp--custom--padding--content,.75rem)));
            &.is-style-list-style-inline{
                width:100%;
                max-width:100%;
                margin:1.5rem auto;
            }
        }
        @media (min-width: 640px) and (max-width: 1360px){

            & ~ .wp-block-separator{
                width:auto;
                clear:none!important;
            }
            & ~ .wp-block-image,
            & ~ .wp-block-gallery{
                width:auto;
                clear:none!important;
            }
            & ~ .wp-block-table{
                width:auto;
                clear:none!important;
            }

            & ~ .wp-block-group{
                .wp-block-image,
                .wp-block-separator,
                .wp-block-embed__wrapper{
                    display:flex;
                    flex-direction:column;
                    width:auto;
                }
                .wp-block-table,
                .wp-block-gallery,
                .wp-block-separator{
                    width:auto;
                    clear:none!important;
                }
            }

        }
    }
    & > figure{
        margin-top:0;
        margin-bottom:0;
    }
    &.wp-block-media-text{
        p{
            max-width:100%;
        }
    }

    .alignleft,
    .alignright{
        float:none;
        width:100%;
        max-width:100%;
        margin-right:0;
        margin-left:0;
    }
    @media screen and ( max-width : 640px ) {
        float:none;
        width:100%;
        max-width:100%;
        padding:0 var(--wp--custom--padding--content, .75rem);
        margin-right:auto;
        margin-left:auto;
        clear:both;
        &.alignright{
            margin-right:auto;
            margin-left:auto;
            &.is-resized figcaption:not(.specificity),
                figcaption{
                text-align:center;
            }
        }
    }

    & ~ :where(h1,h2,h3,h4,h5,h6,p) {
        position: static;

    }

    & ~ [class*="alignleft"] :where(ul,ol),
        & ~ [class*="alignleft"]:where(ul,ol){
        position:relative;
        left:24px;
        width:calc(var(--wp--custom--width--float));
        @media screen and (max-width: 720px) {

            position:static;
            width:calc(var(--wp--custom--width--content, 720px ) );
        }
        &:not(.specificity){
            padding-left:24px;
        }

        ul,ol{
            width:auto;
            padding-left:40px;
            li{
                width:auto;
            }
        }

    }
}
.html-header ~ .layout{
    .alignright{
        & ~ :where(ul,ol){
            position:static;
            padding-left:40px;
        }

        & ~ .alignright:where(ul, ol),
            & ~ .alignleft:where(ul, ol){
            left:24px;
            width:calc(var(--wp--custom--width--float) );

            @media screen and (max-width: 720px) {
                position:static;
                width:calc(var(--wp--custom--width--content, 720px ));
                padding-left:40px;
                margin:1.5rem auto;
            }

            &:not(.specificity){
                // padding-left:24px;
            }
            ul,ol{

                width:auto;
                li{
                    width:auto;
                }
            }
        }

    }

}
.alignleft{
    box-sizing:border-box;
    float:left;
    width:var(--wp--custom--width--float);
    max-width:100%;
    //margin:var(--wp--custom--padding--content, .75rem);
    margin:var(--wp--custom--margin--alignleft);
    clear:left;
    @media screen and ( max-width : 640px ) {
        width:100%;
        max-width:100%;
        padding:0 var(--wp--custom--padding--content, .75rem);
        margin:1.5rem auto;
    }
    &.is-resized{
        width:auto;
    }
    &.has-background{
        @media screen and (max-width: 640px){
            margin-top:var(--wp--style--block-gap, 3px);
            margin-bottom:var(--wp--style--block-gap, 3px);
        }
    }

    &.wp-block-embed{
        width:var(--wp--custom--width--float);
        max-width:100%;
    }
    &.wp-block-social-links{
        flex-direction: column;
        width:100px;
        margin-top:1.5rem;
        @media screen and (max-width: 640px) {
            width:100px;
            margin:1.5rem auto;
        }
    }
    &.wp-block-file:not(.specificity){
        width:-moz-fit-content;
        width:fit-content;
        margin-top:1.5rem;
        @media screen and ( max-width : 480px ) {
            width:100%;
            max-width:100%;
            padding:0 var(--wp--custom--padding--content, .75rem);
            margin:1.5rem auto;
        }
    }
    &.wp-block-search,
    &.wp-block-latest-comments{
        width:320px;
        margin-top:1.5rem;
        @media screen and ( max-width : 640px ) {
            width:100%;
            max-width:100%;
            padding:0 var(--wp--custom--padding--content, .75rem);
            margin:1.5rem auto;
        }

    }
    &.wp-block-archives,
    &.wp-block-categories{
        z-index:10;
        width:320px;
        margin-top:0;
        margin-left:0;

        &.is-style-list-style-inline{
            width:320px;
            margin-right:var(--wp--custom--padding--content, .75rem);
        }
        @media screen and ( max-width : 640px ) {

            width:100%;
            max-width:100%;
            padding-left: clamp( 2rem, calc( 100vw / 36 ), calc(40px + var(--wp--custom--padding--content,.75rem)));
            &.is-style-list-style-inline{
                width:100%;
                max-width:100%;
                margin:1.5rem auto;
            }

        }
        @media (min-width: 640px) and (max-width: 1400px){
            & ~ .is-vertical ol:not([class*="wp-block"]),
                & ~ .is-vertical ul:not([class*="wp-block"]),
                & ~ ol:not([class*="wp-block"]),
                & ~ ul:not([class*="wp-block"]){
                li{
                    margin-right:1.75rem;
                    transform: translateX(1.75rem);

                }
            }

            & ~ .wp-block-separator{
                width:auto;
                clear:none!important;
            }
            & ~ .wp-block-image,
            & ~ .wp-block-gallery{
                width:auto;
                clear:none!important;
            }
            & ~ .wp-block-table{
                width:auto;
                clear:none!important;
            }

            & ~ .wp-block-group{
                .wp-block-image,
                .wp-block-separator,
                .wp-block-embed__wrapper{
                    display:flex;
                    flex-direction:column;
                    width:auto;
                }
                .wp-block-table,
                .wp-block-gallery,
                .wp-block-separator{
                    width:auto;
                    clear:none!important;
                }
            }
        }
    }

    & > figure{
        margin-top:0;
        margin-bottom:0;
    }
    .alignleft,
    .alignright{
        float:none;
        width:100%;
        max-width:100%;
        margin-right:0;
        margin-left:0;
    }
    @media screen and ( max-width : 640px ) {
        // static break point
        width:100%;
        max-width:100%;
        padding:0 var(--wp--custom--padding--content, .75rem);
        margin-right:auto;
        margin-left:auto;
        &.alignleft{
            margin-right:auto;
            margin-left:auto;
            &.is-resized figcaption:not(.specificity),
                figcaption{
                text-align:center;
            }
        }
    }
    & ~ :where(h1,h2,h3,h4,h5,h6,p) {

        position: relative;
        left: 1rem;
        padding-right:1.75rem;
        @media screen and (max-width: 720px) {
            position:static;
        }
    }
    & ~ :where(ul,ol){
        position:relative;
        list-style-position: inside;
        width:calc(var(--wp--custom--width--content, 720px ) - 3rem);
        &:not(.specificity){
            // left:3rem;
            padding-left:24px;
        }
        @media screen and (max-width: 720px) {
            position:static;
            width:var(--wp--custom--width--content, 720px );
            margin:1.5rem auto;
        }
    }
    & ~ .alignleft :where(ul,ol),
        & ~ .alignleft:where(ul,ol),
        & ~ .alignleft :where(h1,h2,h3,h4,h5,h6,p),
        & ~ .alignleft:where(h1,h2,h3,h4,h5,h6,p){
        position:static;
    }
    & ~ .alignleft :where(ul,ol),
        & ~ .alignleft:where(ul,ol){
        width:calc(var(--wp--custom--width--float));
        @media screen and (max-width: 720px) {
            position:static;
            width:var(--wp--custom--width--content, 720px );
            margin:1.5rem auto;
        }

        ul,ol{
            width:auto;
            li{
                width:auto;
            }
        }

    }
}
.html-header ~ .layout{
    .alignleft{

        & ~ :where(ul, ol){
            //left:64px;
            position:relative;
            &:not(.specificity){
                //padding-left:0;
            }
            @media screen and (max-width: 720px){
                position:static;
                padding-left:40px;
                margin:1.5rem auto;
            }
        }
        & ~ .alignleft :where(ul,ol),
            & ~ .alignleft:where(ul,ol){
            width:calc(var(--wp--custom--width--float) );

            @media screen and (max-width: 720px){
                position:static;
                padding-left:40px;
                margin:1.5rem auto;
            }

            ul,ol{
                width:auto;
                li{
                    width:auto;
                }
            }

        }
    }
}
.sticky{
    .wp-block-post-title{
        position:relative!important;
    }
}

.aligncenter{
    box-sizing:border-box;
    float:none;
    width:var(--wp--custom--width--aligncenter);
    max-width:100%;
    clear:both;

    @media screen and ( max-width : 640px ) {
        width:100%;
        max-width:100%;
        margin-right:0;
        margin-left:0;
    }
}
.alignwide{
    width:var(--wp--custom--width--wide, 920px);
}
.alignfull{
    width:100%;
    max-width:100%;
    overflow:auto;

    @media screen and ( min-width : 1280px ) {
        width:100%;
        // Limit width
        max-width:var(--wp--custom--width--limit, 1600px);
        margin-right:auto;
        margin-left:auto;
        overflow:visible;
    }
}

$elements: h1, h2, h3, h4, h5, h6, p, ul, ol,table, form, fieldset, address, dl, hr, iframe, noscript, output, section, video, pre, canvas;

@each $element in $elements {

    #{$element}{
        width: var(--wp--custom--width--content, 720px );
        max-width:100%;
        margin:1.5rem auto;
        @media screen and ( max-width : 640px ) {
            &:not(#specificity){
                position:static;
            }
        }
    }
    .is-layout-flex{
        #{$element}{
            width: auto;

        }
    }
}

/**
 * In the block editor, there is a problem that the layout cannot be kept
 * when inline elements are written using custom HTML blocks etc.
 * directly under wp-block-post-content.
 * Technically it should be in a block, but we'll add some CSS to the rescue.
 */
.emulsion.has-block{

    .wp-block-post-content > :where(a,abbr,b,big,button,canvas,cite,code,data,datalist,em,embed,i,img,input,ins,kbd,label,mark,picture,q,ruby,s,small,span,time,u,tt,var){
        display:block;
        width:-moz-fit-content;
        width:fit-content;
        padding:var(--wp--custom--padding--content,.75rem);
        margin:1.5rem auto 1.5rem 0;

        @media (min-width: 768px){
            margin-left:calc(50% - var(--wp--custom--width--content) / 2 );
        }
    }
}
.main-query ul,
.wp-block-post-featured-image,
.wp-block-group{
    width:var(--wp--custom--width--content, 720px );
    max-width:100%;
}

.wp-block-group[class],
address,
article.wp-block-group,
aside.wp-block-group,
footer.wp-block-group,
header.wp-block-group,
main.wp-block-group,
nav.fse-primary,
section.wp-block-group{
    box-sizing:border-box;
    padding:0 0 0 0;
    margin:0 auto;
    overflow:auto;
}
nav.fse-primary,
main.wp-block-group,
header.fse-header,
footer.fse-footer,
.wp-block-group.post-header.wp-block,
header.post-header,
.wp-block-group.post-footer.wp-block,
footer.post-footer{
    display:block;
    width:100%;
}
article > div > div,
.fit{
    width: var(--wp--custom--width--content, 720px );
    max-width:100%;
    margin:1.5rem auto;
}
.clear-float{
    float:none;
    clear:both!important;
}
.clear-left{
    float:none;
    clear:left!important;
}
.clear-right{
    float:none;
    clear:right!important;
}
.clear-none{
    overflow:visible;
    clear:none!important;
}
ol,
ul{
    padding-left:40px;

    &.alignfull,
    &.alignwide{
        ul,ol{
            width:auto;
        }
    }

    li{
        &[data-block]{ //block editor
                       & > [role="textbox"]{
                           display:inline-block;
                       }
        }
        padding:.75rem;
    }
    ol,ul{
        margin-top:.75rem;
    }
    li:empty{
        display:none;
    }
}
ul li:where(.menu-item){
    padding:0;
}
legend,
select,
textarea,
input{
    padding:var(--wp--custom--padding--content,.75rem);
}
.wp-block-site-logo a {
    display: inline-block;
    margin-top: 1.5rem;
}
table{
    th,td{
        padding:var(--wp--custom--padding--content,.75rem);
    }
    a:link{
        text-decoration:underline;
        text-decoration-color: currentColor;
    }
}
abbr,
kbd{
    padding:.25rem;
    margin:0 .25rem;
}
iframe{
    border:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));
}
.footer-widget-area-lists,
.wp-block-group,
.emulsion-prepend-page-wrapper,
.blocks-gallery-grid,
.shortcode-wrapper,
.header-text,
.wp-block-post-comments,
.wp-block-navigation,
.shortcode-wrapper.wrap-emulsion_relate_posts,
.wp-block-video,
.wp-site-blocks > header,
.wp-site-blocks > main,
.wp-site-blocks > footer,
.article-wrapper,
.taxsonomy,
.wp-block-columns,
.post-header-content,
.wp-block-gallery,
.wp-block-image,
.alignfull,
.loop-item .wp-block-post-excerpt,
.emulsion .wp-block-post-template,
.post-password-form,
.wp-block-navigation__responsive-container,
.wp-block-query,
.wp-block-post-template li,
.wp-block-template-part,
.wp-block-term-description,
.fse-header,
.wp-block-cover,
.fse-header-content,
.fse-footer,
.post-footer,
.emulsion-block-pattern-relate-posts,
.wrap-emulsion_relate_posts,
.emulsion-panel-content,
.dropdown-on-hover-content,
.loop-item,
.post-footer .comment-wrapper,
.wp-block-gallery[data-amp-carousel="true"]{
    box-sizing:border-box;
    padding:0;
    margin:0 auto;
}

.wp-block-image{
    padding:0;
    margin:1.5rem auto;
    &.is-style-circle-mask{

        figcaption{
            position: absolute;
            top: 40%;
            right: 0;
            left: 0;
            z-index: 10;
            display:block;
            width:-moz-fit-content;
            width:fit-content;
            padding:var( --wp--custom--padding--content, .75rem );
            color:#fff;
            visibility:hidden;
            background:rgba(0,0,0,.3);
        }
        &:hover{
            figcaption{
                visibility:visible;
            }
        }
        &.alignright,
        &.alignleft{

            text-align:center;
            shape-outside: circle();
            @media screen and ( max-width : 640px ) {
                shape-outside: none;
            }
        }
    }
}

.wp-block-social-links,
.search-results .wp-block-post-date time,canvas,dd,dl,dt,fieldset,
hr,noscript,output,section,video,pre,
table,p,form,h1,h2,h3,h4,h5,h6,
.wp-block-embed,
.wp-block-audio,
.wp-block-quote,
.wp-block-buttons,
.post-navigation,
.pagination,
blockquote cite,
.wp-block-query-pagination,
.wp-block-table-of-contents,
.wp-block-nextpage,
.post-nav-links,
.rich-header .wp-block-site-logo,
.posted-on,
.wp-block-table,
.wp-block-post-featured-image,
.wp-block-pullquote,
.comment-respond,
.wp-block-navigation__responsive-container-content,
.wp-block-navigation-item a,
.wp-site-blocks .wp-block-post-navigation,
.wp-block-term-description p,
.alignfull:is(h1,h2,h3,h4,h5,h6,p),
.paginate-comment-links,
.fse-header .wp-block-cover .wp-block-site-title,
.relate-posts,
.wp-block-group.emulsion-panel,
.dropdown-on-click,
.is-style-list-style-inline,
.breadcrumbs,
article footer .editor,
.wp-block-post-content > .wp-block-read-more,
.wp-block-post-content > .wp-block-post-comments-link,
.wp-block-post-content > .wp-block-post-author,
.wp-block-post-content > .wp-block-post-date,
.wp-block-column > .is-layout-flex,
.paginate-comment-links,
ol.wp-block-latest-comments,
.wp-block-verse,
.wp-block-preformatted{
    box-sizing:border-box;
    padding-right:var( --wp--custom--padding--content, .75rem );
    padding-left:var( --wp--custom--padding--content, .75rem );
    margin:1.5rem auto;
}

.emulsion .wp-block-comments-query-loop,
.emulsion .wp-block-post-content,
.main-query > .wp-block-query,
.wp-block-template-part.post-footer,
.wp-block-template-part.page-footer,
.emulsion .wp-block-query ul,
.emulsion .emulsion-block-pattern-relate-posts,
.shortcode-wrapper.wrap-emulsion_relate_posts,
.emulsion .comment-wrapper,
.emulsion .wp-block-post-comments{
    width:100%;
    max-width:100%;
    padding:0;
    overflow:hidden;
}
.post-footer{
    .relate-posts-title{
        width: var(--wp--custom--width--content, 720px );
    }
    .relate-posts{
        width: var(--wp--custom--width--content, 720px );
    }
}
/**
 * Color
 */

/**
 * plugin filtered page
 * bbpress, the event calendar
 */
.is-dark.emulsion.no-block.post-type-custom,
.is-fse-dark.no-block.post-type-custom{
    & > *:not(header):not(footer),
        main{
        color:var(--wp--preset--color--black);
        background:var(--wp--preset--color--white);
        a{
            color:var(--wp--preset--color--black);
        }
    }
}

.wp-block-navigation__responsive-container-close{
    .wp-block-navigation__responsive-dialog{
        border-bottom:1px solid #ccc;
    }
}
.has-vivid-cyan-blue-background-color,
.has-vivid-red-background-color,
.has-vivid-purple-background-color{
    color:var(--wp--preset--color--white, #ffffff);
    a{
        color:var(--wp--preset--color--white, #ffffff);
    }
}
body.is-fse-light div.wp-block-file{
    a.wp-block-file__button{
        color:#333333;
    }
}

.wp-block-post-navigation .wp-block-post-navigation-link,
.wp-block-query-pagination a,
.wp-block-button .wp-block-button__link,
.wp-block-file .wp-block-file__button,
.form-submit [type="submit"],
.is-style-list-style-inline li,
.wp-block-loginout a,
[type="submit"],
.wp-element-button,
.wp-block-read-more,
.wp-block-post-excerpt__more-text a{
    color:var(--wp--custom--color--button-text);

    background:var(--wp--custom--color--button-bg);
}



td,
.has-border,
.has-border-color{

    border:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));
}

.is-fse-bg-var--wp--preset--color--black{
    background: var(--wp--preset--color--black);
}
.is-fse-bg-var--wp--preset--color--cyan-bluish-gray{
    background: var(--wp--preset--color--cyan-bluish-gray);
}
.is-fse-bg-var--wp--preset--color--white{
    background: var(--wp--preset--color--white);
}
.is-fse-bg-var--wp--preset--color--pale-pink{
    background: var(--wp--preset--color--pale-pink);
}
.is-fse-bg-var--wp--preset--color--vivid-red{
    background: var(--wp--preset--color--vivid-red);
}
.is-fse-bg-var--wp--preset--color--luminous-vivid-orange{
    background: var(--wp--preset--color--luminous-vivid-orange);
}
.is-fse-bg-var--wp--preset--color--luminous-vivid-amber{
    background: var(--wp--preset--color--luminous-vivid-amber);
}
.is-fse-bg-var--wp--preset--color--light-green-cyan{
    background: var(--wp--preset--color--light-green-cyan);
}
.is-fse-bg-var--wp--preset--color--vivid-green-cyan{
    background: var(--wp--preset--color--vivid-green-cyan);
}
.is-fse-bg-var--wp--preset--color--pale-cyan-blue{
    background: var(--wp--preset--color--pale-cyan-blue);
}
.is-fse-bg-var--wp--preset--color--vivid-cyan-blue{
    background: var(--wp--preset--color--vivid-cyan-blue);
}
.is-fse-bg-var--wp--preset--color--vivid-purple{
    background: var(--wp--preset--color--vivid-purple);
}
.is-fse-bg-var--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple{
    background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple);
}
.is-fse-bg-var--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan{
    background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan);
}
.is-fse-bg-var--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange{
    background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange);
}
.is-fse-bg-var--wp--preset--gradient--luminous-vivid-orange-to-vivid-red{
    background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red);
}
.is-fse-bg-var--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray{
    background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray);
}
.is-fse-bg-var--wp--preset--gradient--cool-to-warm-spectrum{
    background: var(--wp--preset--gradient--cool-to-warm-spectrum);
}
.is-fse-bg-var--wp--preset--gradient--blush-light-purple{
    background: var(--wp--preset--gradient--blush-light-purple);
}
.is-fse-bg-var--wp--preset--gradient--blush-bordeaux{
    background: var(--wp--preset--gradient--blush-bordeaux);
}
.is-fse-bg-var--wp--preset--gradient--luminous-dusk{
    background: var(--wp--preset--gradient--blush-bordeaux);
}
.is-fse-bg-var--wp--preset--gradient--pale-ocean{
    background: var(--wp--preset--gradient--pale-ocean);
}
.is-fse-bg-var--wp--preset--gradient--electric-grass{
    background: var(--wp--preset--gradient--electric-grass);
}
.is-fse-bg-var--wp--preset--gradient--midnight{
    background: var(--wp--preset--gradient--midnight);
}
.is-fse-bg-var--wp--preset--duotone--dark-grayscale{ background: url('#wp-duotone-dark-grayscale');}
.is-fse-bg-var--wp--preset--duotone--grayscale{ background: url('#wp-duotone-grayscale');}
.is-fse-bg-var--wp--preset--duotone--purple-yellow{ background: url('#wp-duotone-purple-yellow');}
.is-fse-bg-var--wp--preset--duotone--blue-red{ background: url('#wp-duotone-blue-red');}
.is-fse-bg-var--wp--preset--duotone--midnight{ background: url('#wp-duotone-midnight');}
.is-fse-bg-var--wp--preset--duotone--magenta-yellow{ background: url('#wp-duotone-magenta-yellow');}
.is-fse-bg-var--wp--preset--duotone--purple-green{ background: url('#wp-duotone-purple-green');}
.is-fse-bg-var--wp--preset--duotone--blue-orange{ background: url('#wp-duotone-blue-orange');}
/**
 * Core over write
 * site editor layout issue
 */

nav.has-black-background-color:not(#specificity){
    //OW
    background:transparent ! important;
}

/** FSE AREA COLOR
 * plugin filtered page
 */

.is-fse-dark.no-block.post-type-custom{
    & > *:not(header):not(footer),
        main{
        color:var(--wp--preset--color--black);
        background:var(--wp--preset--color--white);
        a{
            color:var(--wp--preset--color--black);
        }
    }
}
.emulsion{

    &.is-fse-light,
    &.fse-scheme-default{
        color:var(--wp--preset--color--black);
        a{
            color:var(--wp--preset--color--primary);
            text-decoration-color:var(--wp--custom--border--common,1px solid #ccc);
        }
        a:focus,
            a:hover{
            color:var(--wp--preset--color--secondary);
        }
        .breadcrumbs{
            a{
                color:var(--wp--preset--color--primary);
                text-decoration-color:var(--wp--custom--border--common,1px solid #ccc);
            }
            a:focus,
                a:hover{
                color:var(--wp--preset--color--secondary);
            }
        }
        .rich-header{
            .has-text-color:not(.has-link-color){
                a{
                    color:inherit;
                }
            }
        }
        .relate-post-no-icon{
            background: var(--wp--preset--color--white);
            border: var(--wp--custom--border--common,1px solid #ccc);
        }

        .wp-block-comments-pagination-next,
        .wp-block-comments-pagination-previous,
        .wp-block-comments-pagination-numbers a,
        .comment-edit-link,
        .comment-reply-link,
        .wp-block-comment-edit-link,
        .wp-block-post-navigation-link a,
        .wp-block-post-navigation .wp-block-post-navigation-link,
        .wp-block-query-pagination a,
        .wp-block-button .wp-block-button__link,
        .wp-block-file .wp-block-file__button,
        .form-submit [type="submit"],
        .is-style-list-style-inline li,
        .wp-block-loginout a,
        [type="SUBMIT" i],
        .wp-element-button,
        .wp-block-read-more,
        .wp-block-post-excerpt__more-text a{
            color:var(--wp--custom--color--button-text);

            background:var(--wp--custom--color--button-bg);

            a{
                color:var(--wp--custom--color--button-text);
            }
        }

        .wp-block-button__link{
            color:var(--wp--custom--color--button-text);
        }

        blockquote:not(.content-excerpt){
            border-left:var(--wp--custom--border--common,1px solid #ccc);
        }
        .has-border,
        kbd,
        textarea,
        input,
        th,
        td{
            border:var(--wp--custom--border--common,1px solid #ccc);
        }
        .fse-footer p{
            font-size:var(--wp--preset--font-size--small);
        }
        .wp-site-blocks > header:not(.html-header),
            .wp-site-blocks > footer:not(.html-footer),
            .fse-header:not(.html-header),
            .fse-footer:not(.html-footer){
            background:var(--wp--custom--color--banner-bg);
            &.has-customizer-bg{
                color:var(--thm_header_text_color);
                background:var( --thm_header_bg_color);

                a:any-link{
                    color:var(--thm_header_link_color);
                    &:hover{
                        color:var(--thm_header_hover_color);
                    }
                }
                .rich-header{

                    a:any-link{
                        color:var(--wp--preset--color--black);
                    }
                }
            }
        }
        &.is-dark.custom-background{
            .wp-block-navigation,
            article{
                color:#fff;

                .gist .gist-data .entry-content{
                    color:#000;
                }
            }
        }

        .comment-wrapper{
            color:var(--wp--custom--color--comments-text);
            background:var(--wp--custom--color--comments-bg);
            p{
                padding:0;
            }

        }
        .emulsion-block-pattern-relate-posts,
        .wrap-emulsion_relate_posts{
            overflow:auto;
            color:var(--wp--custom--color--relate-posts-text);
            background:var(--wp--custom--color--relate-posts-bg);
        }

        .is-style-stripes{
            //OW
            border:none;
            tbody tr:nth-child(odd) {
                background-color:var(--wp--custom--color--stripe);
            }
        }
        .wp-block-table-of-contents{
            ol{
                background:var(--wp--custom--color--toc-bg);
                border:var(--wp--custom--border--common,1px solid #ccc);
                ol{
                    border:none;
                }
                a{
                    color:var(--wp--preset--color--primary);
                    &:hover{
                        color:var(--wp--preset--color--secondary);
                    }
                }
            }
        }
        .wp-block-post-comments{
            .wp-list-comments{
                padding:0;
            }
            .trackback,
            .pingback,
            .comment{
                background:var(--wp--preset--color--white);
            }
            .paginate-comment-links{
                a{
                    color:var(--wp--preset--color--black);
                    background:rgb(240,240,240);
                }
                .current{
                    color:var(--wp--preset--color--black);
                    background:var(--wp--preset--color--white);
                    border:var(--wp--custom--border--common,1px solid #ccc);
                }
            }
        }

    }

    /**
            * Background Dark
     */

    &.scheme-midnight:not(.specificity){
        color:var(--wp--preset--color--white);
        background: #1b262c;

        a{
            color:var(--wp--custom--color--dark-link);
            text-decoration-color:var(--wp--custom--border--common,1px solid #ccc);

        }
        .wp-block-comments-pagination-next,
        .wp-block-comments-pagination-previous,
        .wp-block-comments-pagination-numbers a,
        .comment-edit-link,
        .comment-reply-link,
        .wp-block-comment-edit-link,
        .wp-block-post-navigation-link a,
        .wp-block-post-navigation .wp-block-post-navigation-link,
        .wp-block-query-pagination a,
        .wp-block-button .wp-block-button__link,
        .wp-block-file .wp-block-file__button,
        .form-submit [type="submit"],
        .is-style-list-style-inline li,
        .wp-block-loginout a,
        [type="SUBMIT" i],
        .wp-element-button,
        .wp-block-read-more,
        .wp-block-post-excerpt__more-text a{
            color:var(--wp--custom--color--dark-button-text);

            background:var(--wp--custom--color--dark-button-bg);

            a{
                color:var(--wp--custom--color--dark-button-text);
            }
        }
        .breadcrumbs{
            a{
                color:var(--wp--custom--color--dark-link);
                text-decoration-color:var(--wp--custom--border--common,1px solid #ccc);

            }
        }
        .footer-layer,
        .header-layer{
            background:#0c3c5d;
        }
    }
    &.fse-scheme-daybreak.prefers-color-scheme-dark{
        .wp-block-site-title{
            a{
                color:var(--wp--preset--color--black);
            }
        }
    }
    &.scheme-midnight,
    &.is-fse-dark{
        color:var(--wp--preset--color--white);

        a{
            color:var(--wp--custom--color--dark-link);
            text-decoration-color:var(--wp--custom--border--common,1px solid #ccc);



        }


        .rich-header{
            .has-text-color:not(.has-link-color){
                a{
                    color:inherit;
                }
            }
        }

        .wp-block-comments-pagination-next,
        .wp-block-comments-pagination-previous,
        .wp-block-comments-pagination-numbers a,
        .comment-edit-link,
        .comment-reply-link,
        .wp-block-comment-edit-link,
        .wp-block-post-navigation-link a,
        .wp-block-post-navigation .wp-block-post-navigation-link,
        .wp-block-query-pagination a,
        .wp-block-button .wp-block-button__link,
        .wp-block-file .wp-block-file__button,
        .form-submit [type="submit"],
        .is-style-list-style-inline li,
        .wp-block-loginout a,
        [type="SUBMIT" i],
        .wp-element-button,
        .wp-block-read-more,
        .wp-block-post-excerpt__more-text a{
            color:var(--wp--custom--color--dark-button-text);

            background:var(--wp--custom--color--dark-button-bg);

            a{
                color:var(--wp--custom--color--dark-button-text);
            }
        }
        // .wp-block-navigation__submenu-container a,
        .rich-header a{
            color:var(--wp--preset--color--primary);
            &:focus,
                &:hover{
                color:var(--wp--preset--color--secondary);
            }
        }

        blockquote:not(.content-excerpt){
            border-left:var(--wp--custom--border--common,1px solid #ccc);
        }
        .has-border,
        kbd,
        textarea,
        input,
        th,
        td{

            border:var(--wp--custom--border--common,1px solid #ccc);
        }
        .wp-block-calendar{
            th{
                color:var(--wp--preset--color--black);
            }
            tbody{
                color:var(--wp--preset--color--white);
            }
        }

        .wp-site-blocks > header:not(.html-header),
            .wp-site-blocks > footer:not(.html-footer),
            .fse-header:not(.html-header),
            .fse-footer:not(.html-footer){
            color:var(--wp--preset--color--white);
            background:var(--wp--custom--color--dark-banner-bg);

            &.has-customizer-bg{
                color:var(--thm_header_text_color);
                background:var( --thm_header_bg_color);

                a:any-link{
                    color:var(--thm_header_link_color);
                    &:hover{
                        color:var(--thm_header_hover_color);
                    }
                }
                .rich-header{

                    a:any-link{
                        color:var(--wp--preset--color--black);
                    }
                }
            }
        }
        .comment-wrapper{
            //overflow:auto;
            color:var(--wp--custom--color--dark-comments-text);
            background:var(--wp--custom--color--dark-comments-bg);

        }
        .emulsion-block-pattern-relate-posts,
        .wrap-emulsion_relate_posts{
            overflow:auto;
            color:var(--wp--custom--color--dark-relate-posts-text);
            background:var(--wp--custom--color--dark-relate-posts-bg);
        }
        .is-style-stripes{
            //OW
            border:none;
            tbody tr:nth-child(odd) {
                background-color:var(--wp--custom--color--dark-stripe);
            }
        }
        .wp-block-table-of-contents{
            ol{
                background:var(--wp--custom--color--dark-toc-bg);
                border:var(--wp--custom--border--dark-common,1px solid #555);
                ol{
                    border:none;
                }

                a{
                    color:var(--wp--custom--color--dark-link);
                    &:hover{
                        color:var(--wp--custom--color--dark-link-hover);
                    }
                }
            }
        }

        .emulsion-modal-content *{
            color:var(--wp--preset--color--black);
        }
        .wp-block-post-comments{
            .wp-list-comments{
                padding:0;
            }
            .trackback,
            .pingback,
            .comment{
                background:var(--wp--preset--color--black);
            }
            .paginate-comment-links{
                a{
                    color:var(--wp--preset--color--white);
                    background:var(--wp--preset--color--black);
                }
                .current{
                    color:var(--wp--preset--color--black);
                    background:var(--wp--preset--color--white);
                    border:var(--wp--custom--border--dark-common,1px solid #555);
                }
            }
        }
        /*
        The background color is assumed to be bright. To be precise,
        it is necessary to determine whether the background color is bright or not.align-content:
        */
        .has-background{

            &:not(.has-text-color){
                color:var(--wp--preset--color--black);
                a{
                    color:var(--wp--preset--color--primary);
                    &:focus,
                        &:hover{
                        color:var(--wp--preset--color--secondary);
                    }
                }
            }
            h1,h2,h3,h4,h5,h6,p,table,ol,ul{
                color:inherit;
            }
        }
    }

    /**
            * Fix floating text background issue
     */

    &.fse-scheme-default{
        .alignleft,
        .alignright{
            &.wp-block-archives,
            &.wp-block-categories{
                background:#fff;
            }
        }
    }
    &.scheme-midnight,
    &.is-fse-dark{
        .alignleft,
        .alignright{
            &.wp-block-archives,
            &.wp-block-categories{
                background:#1b262c;
            }
        }
    }
}


/**
 * Exception of layout
 */

.emulsion .wp-site-blocks{

    .fse-primary{
        z-index:10;
    }

    .fse-primary{
        overflow:visible;
    }
    .wp-block-template-part-taxsonomy{
        padding:.75rem var(--wp--custom--padding--content);
    }
    .header-text .alignleft{
        margin-right:0 !important;
        margin-left:0 !important;
    }

    .wp-block-query{
        padding:0;
        &.included-block-template{
            width: 100%;
            padding:0;
            margin: 0 auto;
        }
        a{
            position:relative;
            z-index:10;
        }
    }
}

.emulsion .wp-block-post-title{
    position:relative;
    width:-moz-fit-content;
    width:fit-content;
    text-align:left;
    a.has-text{
        padding-right:0;
        padding-left:0;
    }
}

/**
 * Share
 */

.wp-block-columns{
    gap:var(--wp--style--block-gap, 3px);
}
////pagination


.wp-block-post-navigation{
    display:flex;
    flex-wrap:wrap;
    gap:var(--wp--style--block-gap, 3px);
    justify-content: center;
    overflow:visible;

    a{
        display:block;
        width:100%;
        padding: .75rem;
        margin: 0;
        text-align:center;
    }
    .wp-block-post-navigation-link{
        flex:1 1  auto;
        flex-basis: auto;
        flex-grow: 1;
        border:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));
        &:empty{
            visibility:hidden;
        }
    }
}

.wp-block-query-pagination{
    display:flex;
    gap:var(--wp--style--block-gap, 3px);
    justify-content: center;

    .wp-block-query-pagination-previous,
    .wp-block-query-pagination-next{
        display:block;
        flex:1 1  auto;
        flex-basis: auto;
        flex-grow: 1;
        min-width: 240px;
        padding: .75rem;
        margin:0;
        text-align:center;
        border:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));
        &:empty{
            visibility:hidden;
        }
        a{
            display:block;
            width:100%;
            padding: .75rem;
            margin: 0;
            text-align:center;
        }
    }
}

//read more
.wp-block-read-more{
    box-sizing:border-box;
    display:block;
    width:var(--wp--custom--width--content, 720px );
    max-width:100%;
    padding: var(--wp--custom--padding--content, 24px);
    margin:auto;
}

.wp-block-post-content:not(.specificity){
    // padding-bottom:var( --wp--custom--padding--content, .75rem );
    & > .wp-block-read-more{
        width:-moz-fit-content;
        width:fit-content;
    }
}

.wp-site-blocks{
    overflow:hidden;
    hr{
        &:not(#specificity){
            background:none !important;
        }
    }
    .wp-block-query{
        &.is-layout-enabled{
            // defined inline style
            --wp--custom--width--content:var(--thm_content_width, 720px);
            --wp--custom--width--wide:var(--thm_wide_width);
            & > ul{
                width:var(--thm_content_width, 720px);
                &.alignwide{
                    width:var(--thm_wide_width);
                }

            }
            .post-header{
                width:var(--thm_content_width, 720px);
                &.alignwide{
                    width:var(--thm_wide_width);
                }
            }
        }
    }
    .fse-query-post-template{
        .is-layout-flex{
            &.alignwide{
                margin-top:3rem;
            }
        }
    }
    //.emulsion .wp-block-query .is-layout-flex li .wp-block-post-excerpt p,
    .is-layout-flex{
        display:flex;
        flex-wrap:wrap;
        gap:var(--wp--style--block-gap, 3px);


        &.is-vertical{
            display:block;
        }


        @for $i from 1 through 6 {

            &.columns-#{$i} > li{
                flex:1 1 auto;
                //OW
                //width: calc(100% / #{$i} - var(--wp--style--block-gap, 3px) * 2 );
                flex-basis:calc(100% / #{$i + 1});
                margin:0;
                border:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));

                @media screen and ( max-width : 640px ) {
                    box-sizing:border-box;
                    width:100%;

                    margin-bottom:var(--wp--style--block-gap, 3px);
                }
            }
        }

        &.solid-border{
            border:none;
            li{
                border:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));
            }
        }


        li{
            // margin:var(--wp--style--block-gap, 3px);

            &:before{
                display:none ! important;
            }

            .wp-block-group[style]:not(#unbelievable){
                padding:0 ! important;
            }
            .wp-block-post-date{
                text-align:center;
            }
            .wp-block-post-excerpt{
                p{
                    display: -webkit-box;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: normal;
                    -webkit-line-clamp: var(--wp--custom--max-height--excerpt-lines);
                    -webkit-box-orient: vertical;
                }
            }

        }


    }

    .wp-block-query{
        overflow:hidden;
        & > ul:not(.is-layout-flex) {
            li{
                position:relative;
                &:after{
                    position:absolute;
                    top:0;
                    right:0;
                    bottom:-1px;
                    left:0;
                    width:720px;
                    max-width:100%;
                    margin:auto;
                    content:' ';
                    //  border-bottom:var(--thm_border_global) var(--thm_border_global_style) var(--thm_border_global_width);
                    border-bottom:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));

                }
            }
        }
    }
    .entry-content{
        .wp-block-query{
            & > ul:not(.is-layout-flex) {
                li:after{
                    width:100%;
                }
            }
        }
    }
    .wp-block-post-template{

        padding:0;

        li{
            -webkit-box-sizing:border-box;
            box-sizing:border-box;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-direction:column;
            flex-direction:column;
            align-items: center;
            justify-content: center;
            width:100%;
            min-height:0;
            padding:0;
            margin:0 auto;
            -webkit-box-pack: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -ms-flex-pack: center;

            article.wp-block-group{
                height:100%;
                padding:0;
                margin-top:0;
                margin-bottom:0;
                border:none;

            }
            .wp-block-post-featured-image{
                margin-top:0;
                margin-bottom:0;
                & + .wp-block-post-excerpt{
                    //  display:none;
                }
            }
        }
    }

}

.enable-alignfull.emulsion .wp-site-blocks{
    .emulsion-block-pattern-relate-posts{
        &.wrap-icon{
            padding:0;
        }
    }


    .emulsion-block-pattern-relate-posts{
        .relate-posts{

            li{
                .relate-post-no-icon{
                    position:relative;
                    background:var(--wp--preset--color--white);

                    &:before{
                        position: absolute;
                        top: 0;
                        left: 0;
                        z-index:2;
                        width: 100%;
                        height: 100%;
                        content: "";
                        background-image: linear-gradient(to right bottom, transparent 49.9%, #ccc 50%, transparent 50.1%);
                    }
                }
            }
        }
    }
}

.search{
    .header-text{
        margin:0 auto;
    }
    &.search-results{
        .emulsion-not-found{

            display:none ! important;
        }
    }
    &.search-no-results{
        .emulsion-not-found{

            display:block ! important;
        }
        .wp-site-blocks > header{
            display:none;
        }

    }

}
.emulsion{
    &.blog,
    &.home:not(.page),
        &.archive,
        &.search{
        .wp-block-post-template{
            li{
                min-height:50vh;
                overflow:visible;
            }
        }
    }
    &.is-comments-close{
        .page-footer,
        .post-footer{

            overflow:visible;
            .wp-block-post-comments{
                position:absolute;
                visibility:hidden;
            }
        }
    }
    &.is-comments-open{
        .page-footer,
        .post-footer{
            height:auto;
            .wp-block-post-comments{
                position:relative;
                visibility:visible;
                .comment-author{
                    margin:var(--wp--custom--margin--block);
                }
            }
        }
    }
    .comment-wrapper{
        text-align:left;
    }
}
.emulsion{
    .wp-block-post-excerpt{
        width:var(--wp--custom--width--content, 720px);

        padding:0;
        margin:0 auto .75rem;
    }
    .is-layout-flex{
        .wp-block-post-excerpt{
            padding:1.5rem 0;
        }
    }
    .wp-block-post-content{
        margin:0 auto;
        overflow:hidden;
    }
}
.emulsion{
    .wp-block-template-part-header-rich{

        .wp-block-cover{
            margin-top:0;
            margin-bottom:0;
        }

        .wp-block-cover.has-custom-content-position{
            &.is-position-bottom-right,
            &.is-position-top-right{
                div.wp-block-cover__inner-container{
                    display:inline-block;
                    width:-moz-fit-content;
                    width:fit-content;
                    .wp-block-site-tagline,
                    .wp-block-site-title{
                        box-sizing:border-box;
                        float:right;
                        width:var(--wp--custom--width--float, calc( 50% - var(--wp--custom--padding--content, 24px) - 1rem ) );

                        max-width:100%;
                        margin-right:1rem;
                        margin-left:var(--wp--custom--padding--content, 24px);
                        clear:right;
                    }
                }
            }
            &.is-position-bottom-left,
            &.is-position-top-left{
                div.wp-block-cover__inner-container{
                    display:inline-block;
                    width:-moz-fit-content;
                    width:fit-content;
                    .wp-block-site-tagline,
                    .wp-block-site-title{
                        box-sizing:border-box;
                        float:left;
                        width:var(--wp--custom--width--float, calc( 50% - var(--wp--custom--padding--content, 24px) - 1rem ) );

                        max-width:100%;
                        margin-right:var(--wp--custom--padding--content, 24px);
                        margin-left:1rem;
                        clear:left;
                    }

                }
            }

        }

    }

    .rich-header{
        .wp-block-site-title{
            font-size:clamp(var(--wp--preset--font-size--extra-large), calc( 100vw / 72 * 3), var(--wp--preset--font-size--huge));
        }
    }
    .wp-block-site-logo{
        width:fit-content!important;
        padding-left: var(--wp--custom--padding--content, 24px);
    }
    .site-title,
    .wp-block-site-title{
        padding-top: var(--wp--custom--padding--content, 24px);
        padding-left: var(--wp--custom--padding--content, 24px);
        font-size:24px;
        margin:0 auto 0 0;
        line-height:1.15;
        &.alignleft{
            margin:0;
            text-align:left;
        }
        &.alignright{
            margin:0;
            text-align:right;
        }
    }
    p.site-description{
        border:none;
    }
    .site-description,
    .wp-block-site-tagline{
        box-sizing: border-box;
        width: var(--wp--custom--width--content, 720px);
        max-width: 100%;
        padding-right: var(--wp--custom--padding--content, 24px);
        padding-left: var(--wp--custom--padding--content, 24px);
        margin: 0 auto 0.75rem 0;
        font-size:1rem;
        &.alignleft{
            margin:0 0 .75rem;
            text-align:left;
        }
        &.alignright{
            margin:0 0 .75rem;
            text-align:right;
        }
    }
    .rich-header{
        .site-description,
        .wp-block-site-tagline{
            margin:1.5rem auto;
        }
    }

    &.is-singular{

        &.emulsion-header-has-title{

            .wp-block-post-featured-image{
                & + .post-header{
                    position:absolute;
                    top:25vh;
                    right:0;
                    left:0;
                    display:block;
                    color:#fff;
                    *{
                        color:#fff;
                        background:transparent ! important;
                        &:hover{
                            color:#fff;
                        }
                    }
                }
            }

        }
    }

}
.emulsion{
    blockquote:not([class]){
        max-width:100%;
        // old tinymce quote
        border-left:6px solid rgba(188,188,188,.5);
    }

    .wp-block-quote{
        position:relative;
        max-width:100%;
        overflow:hidden;
        border:none;
        border-left:2px solid rgba(188,188,188,.5);
        &.has-text-align-left{
            border:none;
            border-left:2px solid rgba(188,188,188,.5);
        }
        &.has-text-align-center{
            border:none;
            border-top:2px solid rgba(188,188,188,.5);
        }
        &.has-text-align-right{
            border:none;
            border-right:2px solid rgba(188,188,188,.5);
        }
        &.has-background{
            padding-left:40px;
            &:before{
                position: absolute;
                top: .75rem;
                left: .75rem;
                display: inline-block;
                width:30px;
                height:30px;
                font-size: 40px;
                line-height: 1;
                color:rgba(255,255,255,.6);
                content: "“";
            }
        }
        @media (min-width: 768px){
            margin-left:var(--wp--custom--margin--start-content);
        }
    }
    .wp-block-pullquote:not(#specificity){

        border-top:var(--wp--custom--border--common);
        border-right:none !important;
        border-bottom:var(--wp--custom--border--common);
        border-left:none !important;
        &.allignleft{
            @extend %alignleft;
        }
        &.allignright{
            @extend %alignright;
        }
        blockquote{
            border:none;
            p{
                width:-moz-fitcontent;
                width:fit-content;
                line-height:inherit;
                text-align:left;
            }
        }
    }


    .wp-block-post-featured-image{
        width:100vw;
        padding-right:0;
        padding-left:0;
        margin-top:0;
        overflow:hidden;
        img{
            position:relative;
            width:100vw;
            height: var(--wp--custom--max-height--post-featured-image, 75vh);
            filter:brightness(70%);
            object-fit:cover;
        }

    }
    .pattern-sticky-posts{
        .wp-block-post-featured-image{
            img{
                height: var(--wp--custom--min-height--harf, 50vh);
                filter:brightness(70%);
                object-fit:cover;

            }
        }
    }

    .is-layout-flex{
        .wp-block-post-featured-image{
            img{
                width:100%;
                height:50vh;
                max-height:53vh;
            }
        }
    }
}


//.emulsion.is-presentation-theme,
//.emulsion.is-presentation-transitional{
.emulsion{
    //重要
    .wp-site-blocks{
        .fse-header{
            min-height:0;
            .wp-block-cover{
                //display:none;
            }
        }
        .loop-item{
            width:100%;
        }
        .footer-layer{
            //display:none;
        }
    }
    nav.fse-primary{
        //display:none;
    }
    .wp-block-group.fse-header-text{
        width:100%;
        min-height:var(--wp--custom--min-height--eighth);
        padding:1rem;
    }

    .wp-block-template-part-header-rich{
        .wp-block-site-logo{
            width:-moz-fit-content;
            width:fit-content;
            margin:1.5rem auto 0;
        }
    }
    $twenty_twenty_one_palette: black #000000, cyan-bluish-gray #28303D, white #ffffff, pale-pink #f78da7, vivid-red #cf2e2e, luminous-vivid-orange #ff6900,
        luminous-vivid-amber #fcb900, light-green-cyan #7bdcb5, vivid-green-cyan #00d084, pale-cyan-blue #8ed1fc, vivid-cyan-blue #0693e3, vivid-purple #9b51e0 ;

    @each $twenty_twenty_one_color in $twenty_twenty_one_palette {
        $slug: nth($twenty_twenty_one_color, 1);
        $color: nth($twenty_twenty_one_color, 2);


        .has-#{$slug}-link-color {
            a{
                color:var( --wp--preset--color--#{$slug});
            }
        }
        ol.has-#{$slug}-link-color,
        ul.has-#{$slug}-link-color {
            & > li > a{
                color:var( --wp--preset--color--#{$slug});
            }
        }

    }
    &.is-fse-light,
    &.fse-scheme-default{
        .has-link-color {
            a[style]:hover:not(#specificity){
                color: var(--wp--preset--color--secondary) !important;
                text-decoration: none;
            }
        }
    }
    &.is-fse-dark{
        .has-link-color {
            a[style]:hover:not(#specificity){
                color: var(--wp--custom--color--dark-link-hover) !important;
                text-decoration: none;
            }
        }
    }

    .wp-block-navigation{
        padding:0;
        .wp-block-navigation__responsive-container{
            padding:0;
            .wp-block-navigation__responsive-container-content{
                padding:0;
                margin:0 auto;
                .wp-block-navigation__container{
                    padding:0;
                    .wp-block-navigation-item{
                        flex:1 1 auto;
                        padding:.375rem .75rem;
                        .wp-block-navigation-item__content{
                            width:100%;
                            padding:.75rem;
                            margin:0;
                        }
                        &:hover{
                            .wp-block-navigation__submenu-icon{
                                //display:none;
                            }
                        }
                    }
                }
                .wp-block-navigation__submenu-container{
                    padding:0;
                }
            }
        }
        &.fse-primary{
            .wp-block-navigation__responsive-container{
                padding:0;
                .wp-block-navigation__responsive-container-content{
                    .wp-block-navigation__container{
                        .wp-block-navigation-item{
                            flex:0 1 auto;
                            padding:0;
                            .wp-block-navigation-item__content{
                                display:inline-block;
                                width:auto;

                            }
                        }

                    }
                }
            }

        }
    }

}

//.emulsion.is-presentation-theme,
//.is-presentation-transitional{
.emulsion{
    .wp-block-post-excerpt__excerpt{
        max-height: calc(var(--thm_common_font_size, 16px) * var(--thm_content_line_height, 1.5) * 4 );
        font-size:var(--thm_common_font_size, 16px);
    }
    .menu-main-container{
        z-index:20;
    }

}
.emulsion{

    .has-post-thumbnail{
        .wp-block-template-part{
            &.post-header,
            &.wp-block-template-part-taxsonomy{
                background:transparent;
            }

        }
        .wp-block-post-excerpt{
            display:none;
        }
    }
    .wp-block-post-featured-image ~ .wp-block-template-part{
        &.post-header{
            background:transparent;
        }
    }

    .wp-block-post-template{

        padding:0;
        margin:0 auto;

        li{
            position:relative;
            &:before{
                display:none;
            }

            &.has-post-thumbnail{

                position:relative;

                header{
                    position:absolute;
                    top:calc( var(--wp--custom--max-height--post-featured-image, 75vh) / 4);
                    right:0;
                    left:0;
                    z-index:10;
                    color:#fff;
                    &.wp-block-template-part{
                        background:transparent;
                    }


                    .wp-block-post-title{
                        position:static;
                        z-index:10;
                    }
                    .posted-on{
                        .wp-block-post-date{
                            position:static;

                        }
                    }
                    a{
                        color:#fff;
                    }
                    .wp-block-post-date{
                        position:relative;
                        z-index:11;
                    }



                }
                .taxsonomy{
                    top:calc( var(--thm_header_media_max_height, 75vh) / 1.5);

                    z-index:10;

                    color:#fff;
                    a{
                        color:#fff;
                    }

                }
                .wp-block-post-featured-image{
                    width:100%;
                    padding-right:0;
                    padding-left:0;
                    margin-top:0;
                    overflow:hidden;
                    img{
                        position:relative;
                        width:100vw;
                        height: var(--wp--custom--max-height--post-featured-image, 75vh);
                        filter:brightness(70%);
                        object-fit:cover;
                    }
                }

                .wp-block-post-excerpt__excerpt{

                    display:none;
                    .wp-block-post-excerpt__more-text{
                        display:none;
                    }
                }
            }

            .taxsonomy{
                margin:0 auto 3px;
            }
        }


    }
    .is-layout-flex{
        &.wp-block-post-template{
            .has-post-thumbnail{
                header{
                    position:absolute;
                    top: calc(var(--wp--custom--max-height--post-featured-image, 75vh) / 6);
                }
            }
        }
    }
}
.emulsion .badge:not(.has-image-badge){
    display:inline-block;
    width:fit-content;
    padding-top:0;
    padding-bottom:0;
    &:before {
        position: relative;
        display: block;
        width: 1px;
        height: 0;
        vertical-align: middle;
        content: '';
    }

    &.wp-block-image{

        &:before{
            position:absolute;
            padding:0;
        }

    }

    &.circle{
        border-radius:9999px;

    }
    &.square{
        padding-top:0;
        padding-bottom:0;
    }
    &.contort{
        border-radius: 70% 30% 30% 70%/60% 40% 60% 40%;
        mix-blend-mode: multiply;

        &:before{
            content:'';

        }
    }
    &.awarding{
        padding-top:0;
        padding-bottom:0;
        border-radius: 50% 50% 50% 50% / 10% 10% 90% 90%;
        &:before{
            content:'';
        }
    }
    .exclusion{
        padding-top:0;
        padding-bottom:0;
        background:linear-gradient(90deg,blue 0%,blue 50%,red 50%,red 100%);
        mix-blend-mode:exclusion;
    }
}

.post-header,
body.emulsion .centered{
    -webkit-box-sizing:border-box;
    box-sizing:border-box;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-direction:column;
    flex-direction:column;
    grid-template-columns: minmax(0, 1fr);
    align-items: center;
    justify-content: center;
    -webkit-box-pack: center;
    -webkit-box-align: center;
    -ms-flex-align: center;
    -ms-flex-pack: center;
}

.emulsion .has-avatars .wp-block-latest-comments__comment .wp-block-latest-comments__comment-meta{
    margin-left:0;
    text-align:left;
}
body.emulsion .entry-content .wp-block-columns.emulsion-cta-block{
    .wp-block-column{
        margin:var(--wp--style--block-gap, 3px);
    }
}
.page.emulsion-layout-has-title .entry-text,
.single.emulsion-layout-has-title .entry-text{
    display:none;
}
.has-background:not(ul,ol){
    padding-top:.75rem;
    padding-bottom:.75rem;
    &.wp-block-media-text{
        padding-top:0;
        padding-bottom:0;
    }
    &.wp-block-group{
        padding-top:0;
        padding-bottom:0;
    }
    &.wp-block-columns{
        padding-top:0;
        padding-bottom:0;
        margin:0 auto;
    }
    &.wp-block-column{
        padding-top:0;
        padding-bottom:0;
        margin:0 auto;
    }

}
.emulsion-cta-block{
    .wp-block-column.has-background{
        & > .wp-block-image{
            margin-top:-.75rem;
        }
    }
}
.enable-alignfull{
    .wp-block-template-part{
        padding:0;
    }

}
.wp-block-template-part{
    display:block;
    padding:0;
    margin:auto;
    margin-right:auto;
    margin-left:auto;

    [class|="wp-block"].alignfull{
        width:100%;
    }
    [class|="wp-block"].alignwide{
        position: relative;
        left:0;
        width:var(--wp--custom--width--wide, 920px);
        max-width:100%;
        margin-right:auto;
        margin-left:auto
    }
}
#document{

    // query loop grid layout
    .is-layout-flex[style]{

        main{
            padding:0 ! important;
        }

    }
}
.wp-block-post-date{
    font-size:var(--thm_meta_data_font_size, 13px);
    text-transform:var(--thm_meta_data_font_transform);
}
.emulsion-fse-active{

    .wp-block-post-featured-image{
        margin-bottom:0;
    }

}
.wp-block-post-author{
    width:-moz-fit-content;
    width:fit-content;
}
.post-header{
    z-index:10;
    margin-top:1.5rem;
    margin-bottom:0;
    text-align:center;
    .post-header-content{
        margin:0 auto;
    }
    .posted-on{
        display:block;
        display:inline-flex;
        flex-wrap:wrap;
        align-items: center;
        justify-content: center;
        width:-moz-fit-content;
        width:fit-content;
        padding:0;
        margin:var(--wp--custom--margin--block);
        @media screen and ( max-width : 600px ) {
            width:100%;
        }

        .wp-block-post-date{
            display:inline-block;
            flex-shrink:1;
            width:-moz-fit-content;
            width:fit-content;
            padding:0;
            margin:0 1rem 0 0 !important;
            font-size:var(--thm_meta_data_font_size, 13px);
            line-height:calc(var(--thm_meta_data_font_size, 13px) * var(--thm_content_line_height, 1.5));
            white-space:pre;
        }
        .wp-block-post-author{
            display:flex;
            flex-direction:row;
            flex-wrap: wrap;
            align-items: baseline;
            width:-moz-fit-content;
            width:fit-content;
            padding:0;
            margin:0 ! important;
            font-size:var(--thm_meta_data_font_size, 13px);
            line-height:calc(var(--thm_meta_data_font_size, 13px) * var(--thm_content_line_height, 1.5));
            .wp-block-post-author__avatar{
                display:inline-block;
                flex:0 0 auto;
                //Avatar size are specified by the user in the site editor
                margin:0;
                img{
                    vertical-align:middle;
                }
            }
            .wp-block-post-author__content{
                display:inline-block;
                flex:1 1 auto;
                width:fit-content;
                height:calc( var(--thm_meta_data_font_size, 13px) * var(--thm_content_line_height, 1.5));
                margin:0;
                overflow:visible;
                white-space:pre;
                .wp-block-post-author__name{
                    width:auto;
                    padding-right:0;
                    padding-left:1rem;
                    margin:0;
                    text-align:left;

                }

            }

        }
        &.has-author-bio{
            display:block;
            .wp-block-post-author{
                box-sizing:border-box;
                display:flex;
                flex-wrap: nowrap;
                width: var(--wp--custom--width--content, 720px );
                max-width:100%;
                padding-right:var( --wp--custom--padding--content, 24px );
                padding-left:var( --wp--custom--padding--content, 24px );
                margin:var(--wp--custom--margin--block);
                .wp-block-post-author__avatar{
                    flex:0 0 auto;
                }
                .wp-block-post-author__content{
                    height:auto;
                    .wp-block-post-author__bio{
                        width:-moz-fit-content;
                        width:fit-content;
                        margin:.75rem auto;
                        text-align:left;
                        white-space:normal;
                    }
                }
            }
        }
        .wp-block-post-comments-count{
            display:inline;
            width:auto;

            vertical-align:middle;
        }
        .wp-block-post-comments-link{
            flex-basis:100%;
            padding-top:.385rem;
            padding-bottom:3px;
            overflow:hidden;
            clear:both;
        }
    }
    .taxsonomy{
        margin:0 auto;
    }
}
.wp-block-post-author__name{
    width:auto;
    padding-right:0;
    padding-left:1rem;
    margin:0;
    text-align:left;

}
button.wp-block-navigation-submenu__toggle{
    margin:0;
    line-height:1.5;
    background:transparent;
    border:none;
}

.footer-layer{
    position:relative;
    z-index:10;
    font-family: sans-serif;
    font-size: var(--thm_meta_data_font_size, 13px);
    text-transform: none;
    address{
        padding:1.5rem var(--wp--custom--padding--content, 24px);
        margin-top: 0;
        margin-right: auto;
        margin-left: auto;
        font-style: normal;
        text-align: center;
    }
    .privacy-policy{
        background:transparent;
    }
    p{
        font-size: var(--thm_meta_data_font_size, 13px);
    }
}
#emulsion_theme_svgs{
    display:none ! important;
}

.wp-block-media-text{
    padding-right:0;
    padding-left:0;
    &.alignfull{
        padding-right:0;
        padding-left:0;
    }
    p{
        width:auto;
    }

    .wp-block-media-text__content{
        & > *{
            width:auto;
            max-width:100%;
        }
    }

}
.wp-block-term-description{
    margin:0 auto 1.5rem;
}
.wp-block-post-terms{
    width:-moz-fit-content;
    width:fit-content;
    margin:.375rem auto;

    a{
        display:inline-block;
        padding:.33rem;
        margin:var(--wp--style--block-gap, 3px) 0;
        border: 1px solid rgba(0,0,0,.3);
    }
    .wp-block-post-terms__separator{
        visibility:hidden;

    }
}
.has-post-thumbnail .wp-block-post-terms{
    a{
        padding:.33rem;
        margin:var(--wp--style--block-gap, 3px) 0;
        border: 1px solid rgba(255,255,255,.3);
    }
}
.wp-block-post-excerpt{
    .wp-block-post-excerpt__excerpt{
        display: -webkit-box;
        width:-moz-fit-content;
        width:fit-content;
        max-width:100%;
        margin:0 auto;
        overflow: hidden;
        font-size:var(--thm_common_font_size, 16px);
        text-overflow: ellipsis;
        word-break:break-word;
        white-space: normal;
        -webkit-line-clamp: var(--wp--custom--max-height--excerpt-lines);
        -webkit-box-orient: vertical;
        &:empty{
            display:none;
        }



    }
}
.stream{
    .wp-block-post-excerpt{
        .wp-block-post-excerpt__excerpt{
            max-width:100%;
            height:calc(var(--thm_common_font_size, 16px) * var(--thm_content_line_height, 1.5) * 2);
            overflow:hidden;
            word-break:break-word;
            &:empty{
                display:none;
            }
        }
    }
}

.search .wp-block-post-title,
.search p{
    -webkit-hyphens: none;
    -moz-hyphens: none;
    hyphens: none;
    overflow-wrap: break-word;
    white-space:pre-wrap;
}

/**
 * Content block
 */

.article-wrapper{
    article{
        position:relative;
    }
}

.wp-block-media-text__content{
    address,canvas,dd,dl,dt,fieldset,
    figcaption,hr,iframe,noscript,output,pre,section,video,
    ul,ol,table,p,form,h1,h2,h3,h4,h5,h6{
        width:auto;
    }
}

/**
 * Transitional
 */
//.emulsion.is-presentation-theme,
//.is-presentation-transitional{
.emulsion{

    &.is-dark:not(.is-fse-light):not([class*="is-fse-bg-"]){
        .emulsion-prepend-page-wrapper,
        main{
            color:var(--wp--preset--color--white, #ffffff);
            a{
                color:var(--thm_cloud_color);
                &:hover{
                    color:var(--thm_white_color);
                }
            }

        }
    }
    &.is-fse-light,
    &.fse-scheme-default{
        main{
            .wp-block-button__link{
                color:var(--wp--custom--color--button-text);
                background:var(--wp--custom--color--button-bg);
            }
            .wp-block-comments-pagination{

                a{
                    color:var(--wp--custom--color--button-text);
                    background:var(--wp--custom--color--button-bg);
                }
                .wp-block-comments-pagination-numbers{

                    span,a{
                        color:var(--wp--custom--color--button-text);
                        background:var(--wp--custom--color--button-bg);

                    }
                }
            }
        }
    }
    &.is-dark,
    &.is-fse-dark{
        main{
            .wp-block-button__link{
                color:var(--wp--custom--color--dark-button-text);
                background:var(--wp--custom--color--dark-button-bg);
            }
            .wp-block-comments-pagination{

                a{
                    color:var(--wp--custom--color--dark-button-text);
                    background:var(--wp--custom--color--dark-button-bg);
                }
                .wp-block-comments-pagination-numbers{

                    span,a{
                        color:var(--wp--custom--color--dark-button-text);
                        background:var(--wp--custom--color--dark-button-bg);

                    }
                }
            }

            .post-footer{
                .wp-block-comments-query-loop{
                    a:any-link{
                        color:#fff;
                    }
                }
            }

        }


        .wp-block-query.pattern-sticky-posts{
            //OW
            /**
            Destroyer
            .wp-block-post-template.wp-block-post-template,
            .wp-block-query-loop.wp-block-post-template{

                background-color:none;
                    }*/
            background:#000;

        }

    }

    .wp-block-post-comments-form,
    .wp-block-post-comments{

        .comment-form{
            padding:0;
            p
            .logged-in-as a:any-link{
                text-decoration:underline;
            }
            .submit.wp-block-button__link{
                padding: 0.667rem 1.333rem;
                font-size:1rem;
                border-radius: 5px;
            }
        }
        .wp-list-comments{
            .reply{
                padding:0 var(--thm_content_gap, 24px);
                a{
                    padding: 0.25rem .75rem;
                    border-radius: 5px;
                }
            }
            .children{
                li:before{
                    display:none;
                }
            }

        }


        .comment-is-light{
            .comment-form{
                .submit.wp-block-button__link{
                    color: var(--wp--preset--color--white);
                    background: var(--wp--preset--color--black);
                }
            }
            .wp-list-comments{
                .comment-content *,
                .comment-body{
                    color: var(--wp--preset--color--black);
                    background: var(--wp--preset--color--white);
                    a{
                        color: var(--wp--preset--color--black);
                    }
                }
                .reply{
                    a{
                        color: var(--wp--preset--color--white);
                        background: var(--wp--preset--color--black);
                    }
                }
            }

            .paginate-comment-links{
                width: calc(var(--wp--custom--width--content) - var(--wp--custom--padding--content, .75rem) * 2);

                padding:.75rem 24px;
                margin:1.5rem auto .75rem;
                color: var(--wp--preset--color--black);
                background: var(--wp--preset--color--white);
                span,
                a{
                    display:inline-block;
                    padding: var(--wp--custom--padding--content);
                    color: var(--wp--preset--color--black);
                }
            }

        }
        .comment-is-dark{
            .comment-form{
                .submit.wp-block-button__link{
                    color: var(--wp--preset--color--black);
                    background: var(--wp--preset--color--white);
                }
            }
            .wp-list-comments{
                .comment-content *,
                .comment-body{
                    color: var(--wp--preset--color--black);
                    background: var(--wp--preset--color--white);
                    a{
                        color: var(--wp--preset--color--black);
                    }
                }
                .reply{
                    a{
                        color: var(--wp--preset--color--white);
                        background: var(--wp--preset--color--black);
                    }
                }

            }

            .paginate-comment-links{
                width: calc(var(--wp--custom--width--content) - var(--wp--custom--padding--content, .75rem) * 2);
                height:auto;
                padding:.75rem 24px;
                margin:1.5rem auto .75rem;
                overflow:visible;
                color: var(--wp--preset--color--black);
                background: var(--wp--preset--color--white);
                span,
                a{
                    display:inline-block;
                    padding: var(--wp--custom--padding--content);
                    color: var(--wp--preset--color--black);
                }
            }
        }


    }
    &.emulsion{
        main{
            .emulsion-block-pattern-relate-posts,
            .wrap-emulsion_relate_posts{
                color:var(--thm_relate_posts_color);
                background:var(--thm_relate_posts_bg);
                .relate-posts{

                    a{
                        color:var(--thm_relate_posts_link_color);
                    }
                }
            }
            .wp-block-post-content{
                .emulsion-block-pattern-relate-posts,
                .wrap-emulsion_relate_posts{
                    color:currentColor;
                    background:transparent;
                }
            }
        }
    }

    .post-navigation{
        display:none;
    }
    &.is-presentation-theme{
        .post-navigation{
            display:block;
        }
    }
}

.emulsion-has-sidebar{
    //transitional
    .wp-block-post-featured-image{
        width:100%;
        padding-right:0;
        padding-left:0;
        margin-top:0;
        overflow:hidden;
        img{
            position:relative;
            width:100vw;
            max-height: var(--wp--custom--max-height--post-featured-image, 75vh);
            filter:brightness(70%);
            object-fit:cover;
        }
    }
    .pattern-sticky-posts{
        .wp-block-post-featured-image{
            img{
                max-height: var(--wp--custom--min-height--harf, 50vh);
                filter:brightness(70%);
                object-fit:cover;

            }
        }
    }
    .wp-block-post-template{

        li.has-post-thumbnail{
            position:relative;

            .wp-block-post-date{
                position:relative;
                top:calc( var(--wp--custom--max-height--post-featured-image, 75vh) / -2);
                z-index:11;
                color:#fff;
            }
            .wp-block-post-excerpt{
                position:absolute;
                margin:0;
                .wp-block-post-excerpt__excerpt{
                    display:none;
                    margin:0;
                    .wp-block-post-excerpt__more-text{
                        display:none;
                        margin:0;
                    }
                }
            }
        }
    }
}
.emulsion{
    .wp-block-buttons{
        display:flex;
        flex-wrap:wrap;
        &.wp-block-columns,
        .columns-default{
            flex-wrap:nowrap;
        }
        gap:var(--wp--style--block-gap, 3px);
        --wp--style--block-gap:var(--wp--style--block-gap, 3px);
        .wp-block-button:not(.has-custom-width){
            width:-moz-fit-content;
            width:fit-content;
        }
        .wp-block-button{
            padding:0;
            .wp-block-button__link{
                box-sizing:border-box;
                width:100%;
                padding:.75rem;

                text-align:center;
                text-decoration: none;
                border-radius:5px;
                &:empty{
                    display:none;
                }
            }
            &.wp-block-button__width-25{
                flex-basis:calc( 25% - var(--wp--style--block-gap, 3px) * 4);
                width:calc( 25% - var(--wp--style--block-gap, 3px) * 4);
            }
            &.wp-block-button__width-50{
                flex-basis:calc(50% - var(--wp--style--block-gap, 3px) * 4);
                width:calc(50% - var(--wp--style--block-gap, 3px) * 4);
            }
            &.wp-block-button__width-75{
                flex-basis:calc( 75% - var(--wp--style--block-gap, 3px) * 4);
                width:calc( 75% - var(--wp--style--block-gap, 3px) * 4);
            }
            &.wp-block-button__width-100{
                flex-basis:calc( 100% - var(--wp--style--block-gap, 3px) * 4 );
                width:calc( 100% - var(--wp--style--block-gap, 3px) * 4 );
            }
        }

        &.is-vertical{
            width:-moz-fit-content;
            width:fit-content;
            .wp-block-button{
                display:block;
                margin:var(--wp--style--block-gap, 3px);
                a{
                    margin:0;
                }
                &.wp-block-button__width-25{
                    flex-basis:calc( 25% - var(--wp--style--block-gap, 3px) * 4);
                    width:calc( 25% - var(--wp--style--block-gap, 3px) * 4);
                }
                &.wp-block-button__width-50{
                    flex-basis:calc(50% - var(--wp--style--block-gap, 3px) * 4);
                    width:calc(50% - var(--wp--style--block-gap, 3px) * 4);
                }
                &.wp-block-button__width-75{
                    flex-basis:calc( 75% - var(--wp--style--block-gap, 3px) * 4);
                    width:calc( 75% - var(--wp--style--block-gap, 3px) * 4);
                }
                &.wp-block-button__width-100{
                    flex-basis:calc( 100% - var(--wp--style--block-gap, 3px) * 4 );
                    width:calc( 100% - var(--wp--style--block-gap, 3px) * 4 );
                }
                .wp-block-button__link{
                    min-width:146px;
                }
            }
        }
        &.is-style-has-shadow{
            .wp-block-button{
                .wp-block-button__link{
                    filter: var(--thm_filter_shadow, drop-shadow(3px 3px 3px rgba(0,0,0,0.3)));
                }
                .wp-block-button__link:active{
                    filter:none;
                }
            }
        }
    }
}
.menu{
    // transitional
    padding:0;
    .sub-menu{
        padding:0;
    }
    &[data-direction="vertical"]{
        .nav-menu-child-opener:checked ~ .children  .menu-item-has-children .nav-menu-child-opener-label:before,
            .nav-menu-child-opener:checked ~ .sub-menu  .menu-item-has-children .nav-menu-child-opener-label:before{
            transform: rotate(0deg);
        }
    }
    .nav-menu-child-opener-label{
        padding:.3em;
        outline-color:transparent;
    }
    .nav-menu-child-opener-label:hover{
        cursor:pointer;
    }
    .nav-menu-child-opener[type="checkbox"]{
        margin-top: 0;
        margin-top:0;
        margin-bottom: 0;
        margin-bottom:0;
        visibility: hidden;
        visibility:hidden;
    }
    .nav-menu-child-opener-label:before{
        display:inline-block;
        width:13px;
        height:13px;

        margin:0 5px;
        vertical-align:middle;
        content:" ";
        background-repeat:no-repeat;
        background-size:contain;
        transition: all 1s ease-in-out;
    }
    .nav-menu-child-opener[type="checkbox"]:checked ~ label:before{
        display:inline-block;
        width:13px;
        height:13px;

        margin:0 5px;
        vertical-align:middle;
        content:" ";
        background-repeat:no-repeat;
        background-size:contain;
        transition: all 1s ease-in-out;
    }
}
main .wp-site-blocks{
    a:any-link{
        text-decoration:none;
    }
    p a:any-link{
        text-decoration: solid underline purple 1px;
    }

    .wp-block-post-featured-image{
        width:100%;
        padding-right:0;
        padding-left:0;
        margin-top:0;
        overflow:hidden;

        img{
            position:relative;
            width:100vw;
            height: var(--wp--custom--max-height--post-featured-image, 75vh);
            object-fit:cover;
        }

    }


    $fse_containers: wp-block-post-content, wp-block-post-excerpt;

    @each $fse_container in $fse_containers {

        .enable-alignfull{
            .#{$fse_container}{
                width:100%;
                &.alignwide{
                    position: relative;
                    left:0;
                    width:var(--wp--custom--width--wide, 920px);
                    max-width:100%;
                    margin-right:auto;
                    margin-left:auto
                }
            }
        }
    }

    body{
        box-sizing:border-box;
        padding:0;
        margin:0;
        overflow-x:hidden;
        -webkit-hyphens: auto;
        -moz-hyphens: auto;
        hyphens: auto;
        overflow-wrap:break-word;
    }
    .wp-block-template-part{
        box-sizing:border-box;
        display:block;
        max-width:100%;
        padding:0;
        margin:auto;
    }

    //wrong html
    //<div class="class=" wp-block-post-comments-count""="">0</div>
    .wp-block-post-comments-count{
        width: var(--wp--custom--width--content, 720px);
        margin-right:auto;
        margin-left:auto;
    }




    .wp-block-group{
        &.emulsion-panel{
            padding:0;
            .emulsion-panel-title{
                margin-top:0;
                margin-bottom:0;
            }
        }
    }
    /**
     * Structure block
     */

    .wp-block-quote{
        box-sizing:border-box;

        .wp-block-quote{
            width:calc(100% - 1.5rem);
            margin-left:1.5rem;
        }
    }

    .enable-alignfull{
        [class|="wp-block"].alignfull,
        .comment-form,
        .wp-block-post-comments,
        .wp-block-post-content,
        .wp-block-post-excerpt,
        .wp-site-blocks,
        .page{
            width:var(--thm_main_width);
            max-width:100%;
            padding-right:0;
            padding-left:0;
            margin:1.5em auto .75em;
        }
    }

    body.layout-list article:not(.comment-body){
        border-bottom:none;
    }
    .nav-menu-child-opener{
        visibility:hidden;
    }
    .layout-list.excerpt article{
        display:block;
    }
    .post-navigation,
    .navigation.pagination{
        display:block;
        text-align:center;
        a{
            display: block;
            width: auto;
            text-align: center;
        }
    }
}
.wp-block-post-date{
    box-sizing:border-box;

    max-width:100%;
    padding-right:var(--wp--custom--padding--content, 24px);
    padding-left:var(--wp--custom--padding--content, 24px);
    margin:var(--wp--custom--margin--block);
}
.navigation.pagination{
    display:none;
}
.is-presentation-theme{
    .navigation.pagination{
        display:block;
    }
}
.wp-site-blocks > div:not([class]){
    box-sizing:border-box;

    //query pagination yet not has class

    width:var(--wp--custom--width--content, 720px);
    max-width:100%;
    padding-right:var(--wp--custom--padding--content, 24px);
    padding-left:var(--wp--custom--padding--content, 24px);
    margin:var(--wp--custom--margin--block);
    a{
        display:block;
        padding:1rem var(--wp--custom--padding--content, 24px);
        border:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));
    }
}
.wp-block-post-template:not(.list-style-initial):not(.is-style-list-style-initial) li:before,
.wp-block-query:not(.list-style-initial):not(.is-style-list-style-initial) li:before {
    display:none;
}
.wp-site-blocks{
    .wp-block-post-template{

        & ~ div:not(.wp-block-template-part){
            box-sizing: border-box;
            display:flex;
            flex-wrap:wrap;
            width: var(--wp--custom--width--content, 720px);
            max-width: 100%;
            margin: 1.5em auto 0.75em;
            a{

                display:block;
                flex:1 1 auto;
                text-align:center;
            }
        }
    }
    .wp-block-search .wp-block-search__label{
        width:auto;
    }
}

.emulsion{
    .fse-footer,
    .fse-header{

        -webkit-box-sizing:border-box;
        box-sizing:border-box;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-direction:column;
        flex-direction:column;
        align-items: center;
        justify-content: center;
        height:100%;
        margin-top:0;
        margin-bottom:0;
        overflow:auto;
        -webkit-box-pack: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        -ms-flex-pack: center;

        a:any-link{
            // color:var(--wp--preset--color--black);
        }
        .wp-block-cover{
            margin:0 auto;
        }

    }
}
.logged-out.wp-block-loginout,
.logged-in.wp-block-loginout{

    a{
        display:inline-block;
        padding: 0.685rem;
        text-decoration:none;
        border:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));
        border-radius:5px;

    }
}



.wp-block-group.fse-footer{
    margin-bottom:0;
}
.emulsion-fse-active .fse-footer.wp-block-template-part-footer.alignfull{
    overflow:hidden;
}
main.wp-block-group,
.wp-block-group.alignfull{
    padding-right:0;
    padding-left:0;
    margin:0 auto;
}
.wp-block-group.loop-item{
    width:100%;
    padding:0;
    margin:0 auto;
}
.editor-styles-wrapper .is-root-container > .is-layout-flex.is-content-justification-left > *{
    margin-left:0;
}

.editor-styles-wrapper .is-root-container > .is-layout-flex.is-content-justification-right > *{
    margin-right:0;
}
.wp-block-group{
    &.is-layout-flex{
        &.is-vertical{
            flex-direction:column!important;
        }
        &.items-justified-right > *{
            margin-right:0;
        }
        &.items-justified-left > *{
            margin-left:0;
        }
    }
}


#document{
    //.emulsion.is-presentation-theme,
    //.is-presentation-transitional{
    .emulsion{
        &.is-singular{
            main{
                .wp-site-blocks{
                    .fse-header,
                    .fse-footer{

                        display:none;
                    }
                }
            }
        }
        &.emulsion-header-has-title{
            &.is-singular{
                article{
                    & > .post-header{
                        display:none;
                    }
                    & > .page-header{
                        display:none;
                    }
                    & > .wp-block-post-featured-image{
                        display:none;
                    }
                    .wp-block-query{
                        article{
                            & > .post-header{
                                display:block;
                            }
                            & > .page-header{
                                display:block;
                            }
                            & > .wp-block-post-featured-image{
                                display:block;
                            }
                        }
                    }
                }
            }
        }
        &.search{
            .post-header{
                padding-bottom:3rem;
            }
        }

    }
}
.emulsion-archive-count.counter.badge{

    width:var(--wp--custom--padding--content,24px);
    text-align:center;
    &:before{
        display:none;
    }
}
body .scroll-button-top:before {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: -2px;
    display: block;
    width: 16px;
    height: 16px;
    margin: auto;
    background: url(../images/svg/arrow-up.svg);
    background-repeat: no-repeat;
    background-position: center center;
    background-size: contain;
}
.emulsion-fse-active{
    .toc{
        display:none;
    }
    &.on-scroll .wp-site-blocks input[type="checkbox"][data-skin="inset"][id="toc-toggle"]+label span,
    &.on-scroll .wp-site-blocks input[type="checkbox"][data-skin="inset"][id="toc-toggle"]+label{
        display:none;
    }
    &.on-scroll{
        .wp-site-blocks{
            .toc{
                &.wp-block-group{
                    background:transparent;
                }
                display:block;

                width:100%;
                padding:0;
                margin:var(--wp--custom--margin--block);
                border:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));
                ul{
                    padding:0 var(--wp--custom--padding--content);
                    background:transparent;
                    border:none;
                    li{
                        list-style-type:disc;
                        &.toc-active::marker{
                            color:red;
                        }
                        &:before{
                            display:none;
                        }

                    }
                }
            }
        }
    }
    .wp-site-blocks{
        & > [class|="wp-container"]{
            // site header site footer main nav container
            padding:0;
            margin:0 auto;
            overflow:hidden;
        }
    }
}
// Todo
.is-root-container{
    .fse-query-post-template{
        ul.wp-block-post-template{
            width:100%;
            max-width:100%;
            li{
                width:100%;
                max-width:100%;
                article{
                    header{
                        max-width:100%;
                        margin:auto;
                    }
                    .wp-block-post-featured-image{
                        width:100%;
                        max-width:100%;
                    }
                }
            }
        }
    }
}
.emulsion{
    main{
        &.wp-block-group {
            & > .wp-block-query{
                & > ul.wp-block-post-template:not(.is-flex-container){
                    width:100%;
                    padding:0;
                    li{
                        width:100%;
                    }
                }
            }
        }
    }
}
.emulsion{

    .main-query,
    .pattern-sticky-posts{
        ul{
            margin:1.5rem auto;

            //width:100%;
            .sticky{
                .wp-block-post-title{
                    padding:0 1.5rem;
                }
                &.has-post-thumbnail{
                    .wp-block-post-title{
                        &:before{
                            position:relative;
                            left:-1rem;
                            display:inline-block;
                            font-size:1.15rem;
                            color:currentColor;
                            vertical-align:top;
                            content:'\1f4cc';
                        }
                    }

                }

            }
        }
    }
    .main-query{
        ul{
            margin:0 auto;
        }
    }

    .pattern-sticky-posts{
        .wp-block-query-pagination{
            //Inheriting a query prevents front-end display
            display:none;
        }
        .is-layout-flex{
            li.has-post-thumbnail{
                header{
                    margin-top:4.5rem;
                }
            }
            article{
                -webkit-box-sizing:border-box;
                box-sizing:border-box;
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
                -ms-flex-direction:column;
                flex-direction:column;
                align-items: center;
                justify-content: center;
                -webkit-box-pack: center;
                -webkit-box-align: center;
                -ms-flex-align: center;
                -ms-flex-pack: center;
                header{
                    margin-top:0;
                }
            }
            .wp-block-post-title{
                margin:1.5rem auto;
                font-family: var(--wp--preset--font-family--system-font);
                font-size: var(--wp--preset--font-size--medium);
                font-weight: var(--wp--custom--font-weight--heading);
                line-height: var(--wp--custom--line-height--heading, 1.15);
                text-transform: var(--wp--custom--text-transform--heading);
            }
        }
    }
}
.sticky{
    .loop-item{
        header{
            .wp-block-post-title{
                &:before{
                    position:absolute;
                    top:.5rem;
                    left:0;
                    display:inline-block;
                    font-size:1.15rem;
                    color:currentColor;
                    vertical-align:top;
                    content:'\1f4cc';
                }
            }
        }
    }


}
.html-header ~ .layout{
    .sticky{
        .loop-item{
            .wp-block-post-title{
                &:before{
                    position:absolute;
                    top:.2rem;
                    left:0;
                    display:inline-block;
                    font-size:1.15rem;
                    color:currentColor;
                    vertical-align:top;
                    content:'\1f4cc';
                }
            }
        }
    }
}

.sticky-post{
    &.content-none{
        display:none;
    }
}
.show-relate-pages li{
    position:absolute;
    visibility:hidden;
}
.show-relate-pages li.current-menu-item *,
.show-relate-pages li.current-menu-ancestor *,
.show-relate-pages li.current-menu-item,
.show-relate-pages li.current-menu-ancestor{
    position:relative;
    display:block;
    visibility:visible;
    background:transparent;
}
/**
 * Editor
 */
.wp-block[data-align] .aligncenter,
.wp-block[data-align] .alignleft,
.wp-block[data-align] .alignright,
.wp-block[data-align] .alignwide,
.wp-block[data-align] .alignfull{
    width:auto;
    max-width:100%;
}
.wp-block[data-align="left"] .components-resizable-box__container{
    float:right;
}
.wp-block[data-align="right"] .components-resizable-box__container{
    float:left;
}


/**
 * Local style
 * for midnight.json
 */
/**
 * wp-block-cover
 */

.wp-block-cover .wp-block-cover__background.has-background-dim:not([class*="-background-color"]):not([class*="gradient-background"]) {
    //OW
    opacity:0;
}

.is-fse-light{
    .comment-wrapper{
        margin:1.5rem auto .75rem;
        overflow:hidden;
        color:#333333;
        background:#eeeeee;
    }
}
.is-fse-bg-1b262c{
    .relate-content-wrapper{
        color:#ffffff;
        background:#092d46;
    }
    .comment-wrapper{
        margin:1.5rem auto .75rem;
        overflow:hidden;
        color:#ffffff;
        background:#0c3c5d;
    }
}
.wp-block-separator{
    position:relative;
    height:3rem;
    clear:both;
    border:none;
    &:before{
        position:absolute;
        top:0;
        right:0;
        bottom:0;
        left:0;
        width:50%;
        height:2px;
        margin:auto;
        color:inherit;
        content:'';
        background:transparent;
        border-bottom:1px solid;
    }
    &.is-style-dots{
        height:3rem;
        &:before{
            width:fit-content;
            height:3rem;
            margin:1rem auto;
            font-size:3rem;
            color:inherit;
            content:'\2026';
            background:transparent;
            border:none;
        }
    }

    &.is-style-wide{
        background:transparent !important;
        &:before{
            width:100%;
            color:inherit;
            background:transparent;
        }
    }
}
/*
.emulsion{
    .wp-block-group.is-vertical,
    .wp-block-column{
        & > .wp-block-separator{
            width:auto;
            margin:auto;
            &:before{
               // position: absolute;
                top: 0;
                right: 0;
                bottom: 0;
                left:30%;
                width: 100px;
                height: 2px;
                margin: auto;
                color: inherit;
                content: '';
                background: transparent;
                border-bottom: 1px solid;
            }
            &.is-style-dots:before{
                left:0;
                border-bottom: none;
            }
        }
    }
}*/
/**
 * Sticky Posts
 * After the second page name, there seems to be a problem that the .sticky class is not added
 * It is not possible to determine if this behavior is intentional in the core
 */
.main-query{
    & > .wp-block-query{
        & > .wp-block-post-template{
            z-index:0;
            display: flex;
            padding:0;

            &:not(.is-layout-flex){
                width:100%;
            }

            li{
                order:2;
                &.sticky{
                    order:1;
                }
            }

        }
        & > .wp-block-post-template:not(.is-layout-flex):not(.is-flex-container){
            flex-direction: column;
            //width:100%;
        }

    }
}
/**
 * Date archives navigation
 */
.nav-links {
    position: relative;
    box-sizing:border-box;
    display: flex;
    flex-wrap: wrap;
    gap: var(--thm_box_gap, 3px);
    width: var(--thm_content_width, 720px);
    max-width: 100%;
    padding: 0;
    margin: 1.5em auto 0.75em;
}
.archive-year-links {
    width: -moz-fit-content;
    width: fit-content;
}
.nav-links > div{
    text-align: center;
}
.archive-year-links > div {
    flex-basis: 10%;
    min-width: 5rem;
}
div.emulsion-monthly-archive-prev-next-navigation > div {
    flex-grow: 1;
    width: 40%;
    min-width: 100px;
    padding: 0.685rem;
}
.emulsion{

    ol.wp-block-latest-comments{
        box-sizing:borer-box;
        padding-top: var(--wp--custom--padding--content, 24px);
        padding-left: var(--wp--custom--padding--content, 24px);
        //OW
        margin-left:auto;
    }

    .wp-block-comments-query-loop{
        margin-bottom:0;
        &:empty{
            display:none;
        }
        .wp-block-columns{
            overflow:visible;
            .wp-block-column:first-child{
                min-width:0;
            }
            .wp-block-column{
                .wp-block-avatar{
                    display:inline;
                    width:66px;

                }
            }
        }
        .wp-block-comments-pagination{
            width: var(--thm_content_width, 720px);
            max-width: 100%;
            padding-right: var(--thm_content_gap, 24px);
            padding-left: var(--thm_content_gap, 24px);
            margin: 1.5rem auto 0.75rem;
            a{
                display:inline-block;
                padding:.75rem;
                border:1px solid #ccc;
            }
            .wp-block-comments-pagination-numbers{
                display:inline-block;
                span,a{
                    padding:.75rem;
                    border:1px solid #ccc;
                }
            }
        }
    }
}


.is-root-container > .wp-block-group.is-layout-flex:not(.is-vertical),
.wp-block-post-content > .wp-block-group.is-layout-flex:not(.is-vertical){
    display:flex;
    flex-direction: row;
    flex-wrap:wrap;
    flex-wrap:nowrap;
    gap:var(--wp--style--block-gap, 3px);
    align-items: start;
    justify-content: flex-start;
    &.wp-block-columns,
    .columns-default{
        flex-wrap:nowrap;
    }

    @for $i from 1 through 6 {

        & > *:nth-child(1):nth-last-child(#{$i})~ *,
        & > *:nth-child(1):nth-last-child(#{$i}){
            width:calc( 100% / #{$i});
        }
    }
    @media screen and ( max-width : 640px ) {
        display:block;

        @for $i from 1 through 6 {

            & > *:nth-child(1):nth-last-child(#{$i})~ *,
            & > *:nth-child(1):nth-last-child(#{$i}){
                width:100%;
            }
        }
    }

}

.emulsion .wp-block-group.is-vertical>.wp-block-embed .wp-block-embed__wrapper,
.emulsion .wp-block-column>.wp-block-embed .wp-block-embed__wrapper {
    display: flex;
    flex-direction: column;
    width: auto;
}
#emulsion{
    &.bbpress{
        ul{
            li:before{
                display:none;
            }
        }
    }
}


.wp-block-post-content{
    .alignleft{
        &.wp-block-archives,
        &.wp-block-categories{
            margin-top:0;
            margin-bottom:0;
            margin-left:0;

            & ~ .wp-block-group{

                .wp-block-image:not([class*="align"]),
                    .wp-block-separator,
                    .wp-block-embed__wrapper{
                    display:flex;
                    flex-direction:column;
                    width:auto;
                }

                .wp-block-table,
                .wp-block-gallery,
                .wp-block-separator{
                    width:auto;
                    clear:none!important;
                }
            }


        }

    }

    .alignright{
        &.wp-block-archives,
        &.wp-block-categories{
            margin-top:0;
            margin-right:0;
            margin-bottom:0;
            color:var(--thm_general_text_color);
            background:var(--thm_background_color);
            a{
                color:var(--thm_general_link_color);
                &:hover{
                    color:var(--thm_general_link_hover);
                }
            }
            & ~ .wp-block-group{
                .wp-block-image:not([class*="align"]),
                    .wp-block-separator,
                    .wp-block-embed__wrapper{
                    display:flex;
                    flex-direction:column;
                    width:auto;
                }

                .wp-block-table,
                .wp-block-gallery,
                .wp-block-separator{
                    width:auto;
                    clear:none!important;
                }
            }
        }

    }
}
.has-background{
    p{
        color:var(--wp--preset--color--black);
    }
}
[amp]{

    .emulsion-prepend-page-wrapper,
    .site-description,
    .site-title{
        width:100%;
    }
    .wp-site-blocks{
        & > header{
            display:none;
            width:100%;
        }
        & > footer{
            display:none;
            width:100%;
        }
        & > .fse-query-post-template{
            width:100%;
        }

        .wp-block-gallery{
            display:flex;
            flex-wrap:wrap;



        }
        .wp-block-gallery[data-amp-carousel="true"]{
            width:var(--wp--custom--width--content);
            max-width:100%;
            margin:1.5rem auto;
            amp-carousel{
                width:100%;
                max-width:100%;
            }
        }
    }

    .alignfull.article-wrapper.wp-block-template-part{
        width:100%;
    }
}
.emulsion-block-pattern-relate-posts,
.wrap-emulsion_relate_posts{
    overflow:auto;
    color:var(--wp--custom--color--relate-posts-text);
    background:var(--wp--custom--color--relate-posts-bg);
}
.emulsion-block-pattern-relate-posts,
.wrap-emulsion_relate_posts{
    overflow:auto;
    color:var(--wp--custom--color--dark-relate-posts-text);
    background:var(--wp--custom--color--dark-relate-posts-bg);
}
.emulsion-block-pattern-relate-posts,
.wrap-emulsion_relate_posts{
    li{
        padding:0;
    }
}

.emulsion .emulsion-block-pattern-relate-posts,
.emulsion .wrap-emulsion_relate_posts{
    padding-top:.1rem;
    padding-bottom:.75rem;
    .relate-posts-title{
        padding-right:var(--wp--custom--padding--content);
        padding-left:var(--wp--custom--padding--content);
        margin-right:auto;
        margin-left:auto;
    }
    .relate-posts{
        padding-right:var(--wp--custom--padding--content);
        padding-left:var(--wp--custom--padding--content);
        margin-right:auto;
        margin-left:auto;
        li{
            display:flex;
            height:48px;
            margin-bottom:6px;
            vertical-align:middle;
            list-style:none;
            &:not(#specificity):before{
                display:none;
            }
            img{
                width:auto;
                max-width:48px;
                height:48px;
                padding-right:0;
                padding-left:0;
                margin-right:0;
                margin-left:0;
                vertical-align:middle;
            }
            .relate-post-no-icon + a,
            img + a{
                display:inline-block;
                max-width:calc( 100% - 48px - 2rem );
                height:100%;
                margin-left:var(--wp--custom--padding--content, .75rem);
                overflow: hidden;
                font-weight:700;

                text-overflow: ellipsis;
                white-space: nowrap;
                vertical-align:middle;
            }
            .relate-post-no-icon{
                display:inline-block;
                width:46px;
                height:46px;
                padding:0;
                font-size:24px;

                color:var(--wp--preset--color--white);

                text-align:center;
                text-transform: uppercase;
                vertical-align:middle;
                background:var(--wp--preset--color--black);
                border:var(--wp--custom--border--common,1px solid #ccc);

            }
        }
    }
    &:empty{
        display:none;
    }
}
.emulsion .emulsion-block-pattern-relate-posts{
    width:100%;
    padding:0;
    margin:0 auto;
    .relate-posts{
        li{
            .relate-post-no-icon{
                position:relative;
                background:var(--wp--preset--color--white);

                &:before{
                    position: absolute;
                    top: 0;
                    left: 0;
                    z-index:2;
                    width: 100%;
                    height: 100%;
                    content: "";
                    background-image: linear-gradient(to right bottom, transparent 49.9%, #ccc 50%, transparent 50.1%);
                }
            }
        }
    }
}
.emulsion .is-root-container .emulsion-block-pattern-relate-posts{
    .relate-posts li{
        padding:0;
        [role="textbox"]{
            width:100%;
        }
    }
}
.emulsion-prepend-page-wrapper{
    .breadcrumbs{
        padding:0 .75rem;
    }
}
/**
 * block-pattern-query-sticky.php
 */

.pattern-sticky-posts{

    .post-header{
        min-height:0;
    }
}
.paged .pattern-sticky-posts{
    display:none;
}
.wp-block-post-content{
    .wp-block-query{
        .pattern-sticky-posts:not(.specificity){
            padding-right: var(--thm_content_gap, 24px);
            padding-left: var(--thm_content_gap, 24px);
        }
    }

}

/**
 * wp-block-table-of-contents
 */

.emulsion .layout{
    .wp-block-table-of-contents{
        padding:0;
        ol{
            margin:0;
            width:100%;
            padding:.75rem var(--wp--custom--padding--content, 24px) .375rem 40px;
            ol{
                width:100%;
                padding-left:40px;
            }
        }
    }
}

/**
 * Password form
 */
.emulsion{
    .theme-message{
        box-sizing: border-box;
        display: block;
        float: none;
        width: calc(var(--thm_content_width, 720px) - var(--thm_align_offset, 200px));
        max-width:calc( 100% - 24px * 2);
        padding:0;
        margin: 1.5rem auto;
        clear: both;
        border:var(--wp--custom--border--common,1px solid #ccc);
        .post-password-form{
            .message{
                position:relative;
                left:32px;
                width:calc( 100% - 32px);
                &:before{
                    position:absolute;
                    left:-24px;
                    display:inline-block;
                    width:24px;
                    height:24px;
                    vertical-align:middle;
                    content:' ';
                    background: url("../images/svg/lock.svg#alert") no-repeat 50% 50%;
                    background-size:contain;
                    -webkit-mask-size: contain;
                    mask-size: contain;
                }
            }
            p:empty,
                br{
                display:none;
            }
            box-sizing: border-box;
            max-width: 100%;

            padding:0;
            margin: 1.5rem auto 0.75rem;
        }
    }
}
[data-type="core/post-featured-image"],
.wp-block-post-featured-image,
.block-editor-media-placeholder{
    min-height:50vh;
}

.wp-block-nextpage,
.post-nav-links{
    float:none;
    margin:1.5rem auto;
    clear:both;
    .post-page-numbers{
        padding:var( --wp--custom--padding--content, .75rem );
        text-decoration:none;
        border:var(--wp--custom--border--common,1px solid #ccc);
    }
    .current{
        padding:var( --wp--custom--padding--content, .75rem );
        font-weight:700;
    }
}
/**
        * Editor Layout 'Inner blocks use full width' on
 */
.emulsion:not(#specificity){
    .is-layout-flow:not(.is-root-container),
        .has-fluid-children{
        & > *{
            --thm_wide_width:100%;
            --wp--custom--width--wide:100%;
            --thm_content_width:100%;
            --wp--custom--width--content:100%;
            --wp--custom--width--float:100%;

        }

        h1,h2,h3,h4,h5,h6,p,ul,ol{
            width:100%;
        }
    }
}


.emulsion{
    &.enable-alignfull{
        .main-query > .wp-block-query,
        .alignfull{
            position: relative;
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            clear:both;
        }

    }
}

.emulsion{
    .post-header-content .wp-block-post-title{
        width:-moz-fit-content;
        width:fit-content;
    }


    .main-query{

        ul.is-layout-flex{
            margin-top:3rem;
        }

    }

}
.emulsion{
    .header-layer{
        .fse-header-content{
            display:flex;
            flex-wrap: nowrap;
            .wp-block-site-logo{
                vertical-align:middle;
            }
        }
        .fse-header-text{
            display:flex;
            flex-direction:column;
        }
    }

}


.is-style-new-line,
.clear-float{
    float:none;
    clear:both!important;
    &.wp-block-post-date,
    &.wp-block-post-author{
        display: flow-root;
    }

}
.clear-left{
    float:none;
    clear:left!important;
}
.clear-right{
    float:none;
    clear:right!important;
}
.clear-none{
    overflow:visible;
    clear:none!important;
}
.wp-block-table{
    // padding-right:var(--wp--custom--padding--content);
    //padding-left:var(--wp--custom--padding--content);
    padding:0;
    overflow-x:auto;
    overflow-y:hidden;
    table{
        //OW
        width: 100%;
        margin: 0 auto;
    }
    &.alignwide,
    &.alignfull,
    &.alignleft,
    &.alignright,
    &.aligncenter{
        table{
            width:100%;
        }
    }
}

.wp-block-code{
    padding:0;
    overflow-x:auto;
    code{
        position:relative;
        padding:var(--wp--custom--padding--content, .75rem);
        color:inherit;
        tab-size:var(--wp--custom--tab-size--default);
        white-space:pre;
        border:none;
    }
}

pre.wp-block-code{
    overflow-x:auto;
    overflow-y:hidden;
}
pre.wp-block-code.has-background code{
    background:transparent;
    color:inherit;
    tab-size:4;

}

.wp-block-gallery{
    gap:var(--wp--style--block-gap, 3px);
}
.emulsion .wp-block-query-pagination{
    display:flex;
    flex-wrap:wrap;
    .columns-default{
        flex-wrap:nowrap;
    }
    gap:var(--wp--style--block-gap, 3px);
    --wp--style--block-gap:var(--wp--style--block-gap, 3px);
    margin:var(--wp--custom--margin--block, 1.5rem auto);
    a{
        box-sizing:border-box;

        flex:1 1 auto;
        padding:var( --wp--custom--padding--content, .75rem );
        text-align:center;
        text-decoration: none;
        border:var(--wp--custom--border--common,1px solid #ccc);
        //border radius :Conflicts with site editor global style
        border-radius:5px;
    }
    .wp-block-query-pagination-numbers{
        display:flex;
        gap:var(--wp--style--block-gap, 3px);

        .current{
            padding:var(--wp--custom--padding--content,.75rem);
            border:var(--wp--custom--border--common,1px solid #ccc);
        }
        .dots{
            padding:var(--wp--custom--padding--content,.75rem);
            border:none;
        }
    }
}
.wp-block-post-navigation-link{
    margin:1.5rem auto;
    a{
        box-sizing:border-box;
        padding:var( --wp--custom--padding--content, .75rem );
        text-align:center;
        text-decoration: none;
        //border radius :Conflicts with site editor global style
        border-radius:5px;
    }


}
.wp-block-archives-list,.wp-block-categories-list{
    list-style:none;
    li{
        margin-bottom:var(--wp--style--block-gap, 3px);
    }
}

.emulsion{
    .sidebar-widget-area{
        .widget{
            padding:0;
            ul{
                box-sizing:border-box;
                padding-right: var(--wp--custom--padding--content, .75rem);
                padding-left: var(--wp--custom--padding--content, .75rem);
                border:none;
                li{
                    width:calc( 100% - var(--wp--custom--padding--content, .75rem) * 2);
                    border-bottom:var(--wp--custom--border--common, 1px solid rgba(188,188,188,.5));

                    .counter:empty{
                        display:none!important;
                    }
                }
            }

        }
        &.has-border-custom{

            ul{
                li{
                    border-bottom-color: var(--thm_border_sidebar, rgba(188, 188, 188, 0.5));
                    border-bottom-style: var(--thm_border_sidebar_style);
                    border-bottom-width: var(--thm_border_sidebar_width);
                }
            }
        }
    }
}
.error404,
.search-results{
    .wp-site-blocks{
        .fse-header{
          //  display:none;
        }
    }
}


.is-root-container{
    .wp-block-template-part-header-rich{
        .wp-block-site-logo{
            width:-moz-fit-content;
            width:fit-content;
            margin:auto;
            text-align:left;
        }
    }
}
.wp-block-latest-posts{

    .wp-block-latest-posts__post-excerpt{
        display: -webkit-box;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: normal;
        -webkit-line-clamp: var(--wp--custom--max-height--excerpt-lines);
        -webkit-box-orient: vertical;
    }
    &.is-grid{
        gap:var(--wp--style--block-gap, 3px);
        @for $i from 1 through 5 {
            &.columns-#{$i}{
                li{
                    box-sizing:border-box;
                    flex:1 1 auto;
                    width: calc( 99.9% / #{$i} - var(--wp--style--block-gap, 3px));
                    @media screen and ( max-width : 640px ) {
                        width:100%;
                    }
                    .wp-block-latest-posts__post-title{
                        display:block;
                        margin:1.5rem auto;
                    }
                }
            }
        }
        gap:var(--wp--style--block-gap, 3px);

        padding:0;
        list-style:none;
        li{
            margin:0;
            border: var(--wp--custom--border--common,1px solid #ccc);
            .wp-block-latest-posts__post-title{
                font-family: var(--wp--preset--font-family--system-font);
                font-size: var(--wp--preset--font-size--medium);
                font-weight: var(--wp--custom--font-weight--heading);
                line-height: var(--wp--custom--line-height--heading, 1.15);
                text-transform: var(--wp--custom--text-transform--heading);
            }

        }
    }
}
@for $i from 2 through 6 {
    ul.wp-block-rss.is-grid.columns-#{$i} li{
        flex:1 1 auto;
        gap:var(--wp--style--block-gap, 3px);
        width:calc(100% / #{$i} - var( --wp--custom--padding--content, .75rem ) * #{$i} );
        margin:0;
        border: var(--wp--custom--border--common,1px solid #ccc);

    }
}
.emulsion{
    ul.wp-block-rss.is-grid{
        gap:var(--wp--style--block-gap, 3px);
        @media screen and ( max-width : 640px ) {
            display:block;
            width:calc(100% - var( --wp--custom--padding--content, .75rem ) * 2 );
            .wp-block-rss__item{
                box-sizing:border-box;
                width:100%;
                margin-bottom:var(--wp--style--block-gap, 3px);
            }
        }
    }
}
.wp-block-rss__item{
    padding:var( --wp--custom--padding--content, .75rem );
}
.wp-block-rss__item-title{
    margin:1.5rem auto;
    font-family: var(--wp--preset--font-family--system-font);
    font-size: var(--wp--preset--font-size--medium);
    font-weight: var(--wp--custom--font-weight--heading);
    line-height: var(--wp--custom--line-height--heading, 1.15);
    text-transform: var(--wp--custom--text-transform--heading);
}

.wp-block-newspack-blocks-homepage-articles [data-posts] article .entry-wrapper .entry-title,
.wp-block-newspack-blocks-homepage-articles [data-posts] article .entry-wrapper p {
    display: -webkit-box;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: normal;
    -webkit-line-clamp:var(--wp--custom--max-height--excerpt-lines);
    -webkit-box-orient: vertical;
}
.emulsion{
    .wp-block-post-excerpt__more-text .wp-block-post-excerpt__more-link,
    .wp-block-read-more,
    .wp-block-post-comments-link,
    .wp-block-comments-pagination-next,
    .wp-block-comments-pagination-previous,
    .wp-block-comments-pagination-numbers a,
    .comment-edit-link,
    .comment-reply-link,
    .wp-block-comment-edit-link,
    .wp-block-post-navigation-link a,
    .wp-block-query-pagination a,
    .wp-block-button .wp-block-button__link,
    .wp-block-file .wp-block-file__button,
    .form-submit [type="submit"],
    .is-style-list-style-inline li,
    .wp-block-loginout a,
    [type="SUBMIT" i],
    .wp-element-button,
    .wp-block-read-more,
    .wp-block-post-excerpt__more-text a{
        box-sizing:border-box;
        padding:var( --wp--custom--padding--content, .75rem );
        text-align:center;
        text-decoration: none;
        //border radius :Conflicts with site editor global style
        border-radius:5px;
    }
}

.emulsion{
    .fse-header.html-header{
        overflow-x:hidden;
        .archive-title{
            text-align:center;
        }
    }

    header:not(.html-header) ~ .layout{
        .fse-primary.wp-block-navigation{
            display:none;
        }
        .wp-site-blocks > .wp-block-navigation{
            display:none;
        }
    }

    .html-header ~ .layout{
        .fse-primary.wp-block-navigation{
            display:block;
        }

        .page-title-block{
            display:none;
        }
    }
}

.layout-block .sidebar-widget-area{

    .sidebar-widget-area-lists{
        li{
            padding:0;
        }
    }
}

.html-header ~ .layout-block nav .wp-block-navigation__container{
    padding:0;
    li{
        padding:0;
    }
    .wp-block-navigation-item{
        padding:0;

        a{
            margin:.75rem auto;

        }
        .wp-block-navigation-item{
            a{
                margin:0 auto;
            }
        }
    }
}
header:not(.html-header) ~ .footer-widget-area{
    width:100%;
    ul.footer-widget-area-lists{
        list-style-type:none;
        background:var(--wp--custom--color--banner-bg);

    }
}
.html-header ~ .layout-block .footer-widget-area,
.html-header ~ .footer-widget-area{
    width:100%;

    overflow:hidden;

    ul.footer-widget-area-lists{

        display:flex;
        flex-wrap:nowrap;
        width:100%;
        padding:0;
        list-style-type:none;
        @media screen and (max-width: 960px){
            display:block;
        }
        li{
            flex:1 1 30%;
            max-width:33.33%;
            padding:0 var(--wp--custom--padding--content, .75rem);
            list-style:none;
            @media screen and (max-width: 960px){
                max-width:100%;

            }
            h1,h2,h3,h4,h5,h6,
            .widgettitle{
                padding:0 var(--wp--custom--padding--content, .75rem);
                margin:1.5rem auto;
            }
            li{
                width:100%;
                max-width:100%;
            }
            & > *{

                max-width:calc( 100% - var(--thm_content_gap, 24px) * 2);
            }
        }
    }
}
.html-header ~ .layout{
    .fse-primary{
        &.has-background{
            padding:0;
            .has-background{
                padding:0;
            }
            .wp-block-navigation__responsive-container-content{
                padding:0;
                a{
                    margin:.375rem auto;
                }
            }
        }

    }
}
.html-header ~ .layout{
    .wp-block-gallery{
        //OW
        &.alignleft{
            box-sizing: border-box;
            float: left;
            width: var(--wp--custom--width--float);
            max-width: 100%;
            //margin: var(--wp--custom--padding--content, 0.75rem);
            margin:var(--wp--custom--margin--alignleft);
            clear: left;
        }

        &.alignright{
            box-sizing: border-box;
            float: right;
            width: var(--wp--custom--width--float);
            max-width: 100%;
            //margin: var(--wp--custom--padding--content, 0.75rem);
            margin:var(--wp--custom--margin--alignright);
            clear: right;
        }
    }
}
.attachment{
    .attachment-navigation{
        display:none;
    }
}

[amp]{

    .custom-logo.amp-wp-enforced-sizes{
        width:auto;
    }

}
.emulsion{
    .is-style-dark{
        color: var(--thm_is_style_dark_color, #a9b7c6);
        background: var(--thm_is_style_dark_bg, #282b2e);
    }
}
.wp-block-archives-dropdown{
    &.alignleft,
    &.alignright{
        label{
            display:block;
            text-align:center;
        }
    }
}
.emulsion-cta-block{
    overflow:hidden;
    .wp-block-group{
        overflow:hidden;
    }

    .wp-block-image{
        margin-top:0;
    }
    .wp-block-buttons{
        margin:1.5rem auto;
    }

}
.wp-block-group{
    &.gallery-light-box .wp-block-gallery{
        margin-top:var(--wp--style--block-gap, 3px);
        margin-bottom:var(--wp--style--block-gap, 3px);
    }
}
.footer-widget-area{
    .widget_recent_entries{
        margin:1.5rem auto;

        li{

            padding:0;
            a{
                display:block;
                padding:.75rem;

            }
        }
    }
}
/**
        * .is-style-shrink
 */
//.emulsion.is-presentation-theme .wp-site-blocks,
//.emulsion.is-presentation-transitional .wp-site-blocks{
.emulsion .wp-site-blocks{

    .is-style-shrink{

        display:block;

        &.has-nested-images{
            display:flex;
        }
        &.alignleft{

            width:calc( var(--wp--custom--width--content, 720px ) / 2 - .375rem);
            margin-left: calc((100% - var(--wp--custom--width--content, 720px )) / 2 );

            &.size-thumbnail{
                width:150px;
                padding:0;
            }
            figure{
                width:100%;
            }
            @media screen and (max-width: 720px) {
                width:auto;
                margin-right:auto;
                margin-left:auto;
            }

        }

        &.alignright{

            width:calc( var(--wp--custom--width--content, 720px ) / 2 - .375rem);
            margin-right: calc((100% - var(--wp--custom--width--content, 720px )) / 2 );

            &.size-thumbnail{
                width:150px;
                padding:0;
            }
            figure{
                width:100%;
            }
            @media screen and (max-width: 720px) {
                width:auto;
                margin-right:auto;
                margin-left:auto;
            }

        }
    }
}
.emulsion .is-root-container,
.emulsion{
    .is-style-indent-5rem{
        padding-left:calc(1rem * 5 + var(--wp--custom--padding--content, .75rem) );

        @media screen and ( max-width : 720px ) {
            padding-left:var(--wp--custom--padding--content, .75rem);
        }
    }
    .is-style-indent-10rem{
        padding-left:calc(1rem * 10 + var(--wp--custom--padding--content, .75rem));

        @media screen and ( max-width : 720px ) {
            padding-left:var(--wp--custom--padding--content, .75rem);
        }
    }
    .is-style-indent-15rem{
        padding-left:calc(1rem * 15 + var(--wp--custom--padding--content, .75rem));

        @media screen and ( max-width : 720px ) {
            padding-left:var(--wp--custom--padding--content, .75rem);
        }
    }
    .is-style-indent-20rem{
        padding-left:calc(1rem * 20 + var(--wp--custom--padding--content, .75rem));

        @media screen and ( max-width : 720px ) {
            padding-left:var(--wp--custom--padding--content, .75rem);
        }
    }
}
.wp-block-image.alignleft>figcaption{
    //OW
    display:block;
}
/**
 * Social link
 * ========================================================================== */
.wp-block-social-links .wp-social-link button{
    padding:0;
    margin:0;
    &:before{
        display:none!important;
    }
}
ul.wp-block-social-links{

    &:not(.alignleft):not(.alignright){
        float:none;
        clear:both;
    }
    display:flex;
    justify-content: flex-start;
    margin: 1.5rem auto .75rem;
    .wp-block-social-link-anchor{
        min-width:1rem;
    }
    &.alignleft{
        justify-content: flex-end;
    }

    &.has-huge-icon-size{
        &.is-style-pill-shape{
            .wp-social-link{
                width:calc( 1rem * 8 );
            }
        }
        .wp-social-link{
            width:calc( 1rem * 4 );
            height:calc( 1rem * 4 );
            a{
                svg{
                    width:calc(1rem * 3);
                    height:calc(1rem * 3);
                }
            }
        }
    }
    &.has-large-icon-size{
        &.is-style-pill-shape{
            .wp-social-link{
                width:calc( 1rem * 6 );
            }
        }
        .wp-social-link{
            width:calc( 1rem * 3 );
            height:calc( 1rem * 3 );
            a{
                svg{
                    width:calc(1rem * 2);
                    height:calc(1rem * 2);
                }
            }
        }
    }
    &.has-normal-icon-size{
        &.is-style-pill-shape{
            .wp-social-link{
                width:calc( 1rem * 4 );
            }
        }
        .wp-social-link{

            width:calc( 1rem * 2 );
        }
    }
    &.has-small-icon-size{
        &.is-style-pill-shape{
            .wp-social-link{
                width:calc( 1rem * 3 );
            }
        }
        .wp-social-link{
            width:calc( 1rem * 1.3 );
            height:calc( 1rem * 1.3 );
        }
    }

    .wp-social-link{

        display:flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width:calc( 1rem * 2 );
        height:calc( 1rem * 2 );
        margin:0 .75rem .75rem 0;
        text-align:center;
        list-style:none;
        a{
            padding:0;
            background:transparent;
            svg{
                width:1rem;
                height:1rem;
                fill: var(--wp--social-links--icon-color,#fff);
            }
        }
    }

    &:not(.has-icon-background-color){
        &:not(.has-icon-color){
            .wp-social-link-chain {
                color:var(--thm_social_icon_color, #666);
                border: 2px solid rgba(188,188,188,.5);
                a{
                    svg{
                        fill:var(--thm_social_icon_color, #666);
                    }
                }
            }
        }
    }

    &.is-style-logos-only{
        &:not(.has-icon-color){
            .wp-social-link{
                //gutenberg deactivated WordPress 5.6
                a{
                    svg{
                        fill:var(--thm_social_icon_color, #666);
                    }
                }
            }
        }

        .wp-block-social-link.wp-social-link-chain {
            border:none;
        }
    }
}
.has-drop-cap:not(:focus)::first-letter {
    display:inline-block;
    float: left;
    padding:0 .7rem .4rem;
    margin: .4rem .5rem 0 0;
    font-size: 3rem;
    line-height: 1;
    text-transform: uppercase;
    background:rgba(255,255,255,.1);
}

.is-style-list-style-inline{
    display:flex;
    flex-wrap:wrap;
    align-items: center;
    justify-content: center;
    padding:0 var(--wp--custom--padding--content, .75rem);
    margin-top:1.5rem;
    margin-bottom:.75rem;
    font-size:var(--thm_meta_data_font_size, 13px);
    font-size:1rem;
    li{
        z-index: 2;
        display: inline-block;
        flex: 1 1 auto;
        width: -moz-fit-content;
        width: fit-content;
        margin: var(--thm_box_gap, 3px);
        text-align: center;
        text-indent: 0;
        list-style: none;
        list-style-type: none;
    }
}

/**
     * name: core/gallery
 */
@for $i from 2 through 10 {
    .emulsion figure.wp-block-gallery.columns-#{$i}.has-nested-images figure.wp-block-image:not(#specificity){
        width: calc( 99.9% / #{$i} - var(--wp--custom--margin--gap, 3px) * 2);// 99.9% for edge lauout broken when figcaption scroll
        padding:0;
    }
    /**
     * Block gallery WordPress 5.0 - 5.2
     */
    .gallery-columns-#{$i} .gallery-item{
        width: calc( 100% / #{$i} - var( --wp--custom--margin--gap, 3px ) * 2);
        padding:0;
        margin: var( --wp--custom--margin--gap, 3px );
    }
}
.emulsion{
    .wp-block-gallery{
        display:flex;
        flex-wrap:wrap;
        .columns-default{
            flex-wrap:nowrap;
        }
        gap:var(--wp--style--block-gap, 3px);
        --wp--style--block-gap:var(--wp--custom--margin--gap, 3px);

        margin:var(--wp--style--block-gap, 3px) auto;
        &.alignwide{
            margin:var(--wp--style--block-gap, 3px) auto;
        }
        &.has-nested-images{
            figure.wp-block-image:not(#individual-image) {
                //OW
                width: calc(50% - (var(--wp--style--block-gap, 3px) / 2));
                margin: 0;

            }

            //OW
            &.alignleft{
                box-sizing:border-box;
                float:left;
                width:calc( var(--wp--custom--width--float) - .5rem);
                max-width:100%;
                margin:var(--wp--custom--margin--alignleft);
                clear:left;

                @media screen and ( max-width : 640px ) {
                    float:none;

                    width:100%;
                    max-width:100%;
                    padding:0 var(--wp--custom--padding--content, .75rem);
                    margin:auto;
                    clear:both;

                }
                &.has-background{
                    @media screen and (max-width: 640px){
                        margin-top:var(--wp--style--block-gap, 3px);
                        margin-bottom:var(--wp--style--block-gap, 3px);
                    }
                }
            }
            &.alignright{
                box-sizing:border-box;
                float:right;
                width:calc( var(--wp--custom--width--float) - .5rem);
                max-width:100%;
                //margin:var(--wp--custom--padding--content, .75rem);
                margin:var(--wp--custom--margin--alignright);
                clear:right;

                @media screen and ( max-width : 640px ) {
                    float:none;

                    width:100%;
                    max-width:100%;
                    padding:0 var(--wp--custom--padding--content, .75rem);
                    margin:auto;
                    clear:both;

                }
                &.has-background{
                    @media screen and (max-width: 640px){
                        margin-top:0;
                        margin-bottom:0;
                    }
                }
            }
            .wp-block-image{
                padding:0;
            }

        }

    }
}
.wp-block-group.is-vertical,
.wp-block-column{
    & > .wp-block-gallery{
        width:auto;
        margin:1.5rem auto;
    }
}
.emulsion{
    .wp-block-image{
        max-width:100%;
        text-align:center;

        &.alignright,
        &.alignleft{
            display:block;
            @media screen and ( max-width : 640px ) {
                float:none;

                width:100%;
                max-width:100%;
                padding:0 var(--wp--custom--padding--content, .75rem);
                margin:auto;
                clear:both;

            }
            figcaption{
                display:block;
                width:-moz-fit-content;
                width:fit-content;
            }
        }
    }
}

// classic template ( php template) with html template

.article-wrapper footer .editor{
    display:none;
}
.posted-on{
    width: var(--wp--custom--width--content, 720px );
}
/**
 * Relate posts
 * ========================================================================== */
.emulsion .wrap-emulsion_relate_posts,
.relate-content-wrapper{
    padding-top:.1rem;
    padding-bottom:.75rem;
    .relate-posts-title{
        padding-right:var(--thm_content_gap, 24px);
        padding-left:var(--thm_content_gap, 24px);
        margin-right:auto;
        margin-left:auto;
    }
    .relate-posts{
        padding-right:var(--thm_content_gap, 24px);
        padding-left:var(--thm_content_gap, 24px);
        margin-right:auto;
        margin-left:auto;
        li{

            margin-bottom:6px;
            vertical-align:middle;
            list-style:none;
            &:not(#specificity):before{
                display:none;
            }
            img{
                width:auto;
                max-width:48px;
                height:48px;
                padding-right:0;
                padding-left:0;
                margin-right:0;
                margin-left:0;
                vertical-align:middle;
            }
            .relate-post-no-icon + a,
            img + a{
                display:inline-block;
                max-width:calc( 100% - 48px - 2rem );
                height:100%;
                margin-left:1rem;
                overflow: hidden;
                font-weight:700;
                line-height:48px;
                text-overflow: ellipsis;
                white-space: nowrap;
                vertical-align:middle;
            }
            .relate-post-no-icon{
                display:inline-block;
                width:46px;
                height:46px;
                padding:0;
                line-height:46px;
                color:var(--thm_header_text_color);
                text-align:center;
                text-transform: uppercase;


                vertical-align:middle;
                background: var(--thm_header_bg_color);
            }
        }
    }
    &:empty{
        display:none;
    }
}
@media screen and (min-width: 1024px){
    .search-no-results > .footer-layer,
    .error404 > .footer-layer{
        position:absolute;
        bottom:0;
        width:100%;
    }
}
.emulsion .wp-site-blocks .wp-block-query.pattern-sticky-posts{
    padding:1.5rem 0;
    & > .wp-block-post-template{
        width:calc(100% - var(--wp--custom--padding--content) * 2);
    }
}
.wp-block-template-part.wp-block-template-part-theme-front-page-demo{
    width:100%;

}

.block-editor-block-preview__container .block-editor-block-preview__content{
    transform-origin: top center;
}
.editor-styles-wrapper .block-editor-block-list__layout.is-root-container,
.emulsion.page .wp-site-blocks,
.emulsion.single .wp-site-blocks{
    /**
     * Increased the specificity so that it works even when @extend %fix-flex-container-push is used
     * example wp-block-gallery
     */
    .is-layout-flow,
    .has-fluid-children,
    .is-style-fluid-children{
        &.is-style-start-content{
            max-width:calc(100% - var(--wp--custom--margin--start-content) - var(--wp--custom--padding--content, .75rem) * 2);
            @media (max-width: 768px){
                max-width: calc(100% - var(--wp--custom--padding--content,.75rem) * 2);
            }
        }
        .is-style-start-content{
            max-width:calc(100% - var(--wp--custom--margin--start-content) - var(--wp--custom--padding--content, .75rem));
        }
        &.is-style-start-wide{
            max-width:calc(100% - var(--wp--custom--margin--start-wide) - var(--wp--custom--padding--content, .75rem) * 2);
            @media (max-width: 768px){
                max-width: calc(100% - var(--wp--custom--padding--content,.75rem) * 2);
            }
        }
        .is-style-start-wide{
            max-width:calc(100% - var(--wp--custom--margin--start-wide) - var(--wp--custom--padding--content, .75rem));
        }
    }
    /**
            * .is-style-start-content
     */
    .is-style-start-content{
        margin-right:auto;
        margin-left:auto;
        @media (min-width: 768px){
            position:static;
            margin-left:var(--wp--custom--margin--start-content);

        }
    }
    /**
            * .is-style-start-wide
     */
    .is-style-start-wide{
        margin-right:auto;
        margin-left:auto;
        @media (min-width: 768px){
            position:static;
            margin-left:var(--wp--custom--margin--start-wide);

        }


    }

    /**
            * .is-style-end-content
     */

    .is-style-end-content{
        margin-right:auto;
        margin-left:auto;
        @media (min-width: 768px){
            position:static;
            margin-right:var(--wp--custom--margin--start-content);
        }
    }

    /**
        * .is-style-end-wide
     */

    .is-style-end-wide{
        margin-right:auto;
        margin-left:auto;
        @media (min-width: 768px){
            position:static;
            margin-right:var(--wp--custom--margin--start-wide);
        }
    }
}
/**
        * .has-fluid-children change to .is-layout-flow,
 */

.emulsion:not(#specificity){
    .is-layout-flow:not(.is-root-container),
        .is-style-layout-flow:not(.is-layout-flex),
        .is-style-fluid-children:not(.is-layout-flex),
        .is-style-layout-flow.is-vertical,
        .has-fluid-children{
        & > *{
            --thm_wide_width:100%;
            --wp--custom--width--wide:100%;
            --thm_content_width:100%;
            --wp--custom--width--content:100%;
            --wp--custom--width--float:calc(100% - var(--wp--custom--margin--gap) * 2);
            --wp--custom--margin--alignleft:var(--wp--custom--margin--gap);
            --wp--custom--margin--alignright:var(--wp--custom--margin--gap);
            position:static;
            overflow:hidden;
        }
        .is-layout-flex,
        .wp-block-rss.is-grid,
        .wp-block-latest-posts   *{
            --thm_wide_width:100%;
            --wp--custom--width--wide:100%;
            --thm_content_width:100%;
            --wp--custom--width--content:100%;
            --wp--custom--width--float:calc(100% - var(--wp--custom--margin--gap) * 2);
            --wp--custom--margin--alignleft:var(--wp--custom--margin--gap);
            --wp--custom--margin--alignright:var(--wp--custom--margin--gap);
            float:none;
            padding-left:0;
            margin:1.5rem auto;
            clear:both;
            &:where(div,ol,ul){
                display:block;

            }
            &.is-grid,
            &.is-layout-flex{
                padding-left:0;
            }
            &:where(ol,ul){
                padding-left:40px;
            }
            &.wp-block-gallery{
                display:flex;
                .wp-block-image{
                    margin:0;
                    img{
                        margin:0;
                    }
                }
            }
            li{
                width:100%;
            }
            .has-background{
                padding-left:var(--wp--custom--margin--gap);
            }
        }
        .is-style-shrink{
            width:100%;
            padding:.75rem;
            margin:1.5rem auto;
        }
        .alignleft,
        .alignright{
            float:none;
            margin:1.5rem auto;
            clear:both;
        }
        .wp-block-image{
            text-align:center;
        }
        & > :where(h1,h2,h3,h4,h5,h6,p,ul,ol){
            width:100%;
        }
    }
}
//.emulsion.is-presentation-theme .wp-site-blocks,
//.emulsion.is-presentation-transitional .wp-site-blocks{
.emulsion .wp-site-blocks{
    /**
        * .is-style-fit-wide
     */

    .is-style-fit-wide{
        &.alignleft{

            width:calc( var(--wp--custom--width--wide, 920px ) / 2 - var(--wp--custom--padding--content, .75rem) - .375rem);
            margin-top:var(--wp--custom--padding--content, .75rem);
            margin-bottom:var(--wp--custom--padding--content, .75rem);
            margin-left: calc((100% - var(--wp--custom--width--wide, 920px )) / 2 + var(--wp--custom--padding--content, .75rem));
            &.size-thumbnail{
                width:150px;
                padding:0;
            }
            &.wp-block-image{
                figcaption{
                    margin-right:auto;
                    margin-left:auto;
                }
            }
            figure{
                width:100%;
            }
            @media screen and (max-width: 720px) {
                width:auto;
                margin-right:auto;
                margin-left:auto;
            }

        }

        &.alignright{

            width:calc( var(--wp--custom--width--wide, 920px ) / 2 - var(--wp--custom--padding--content, .75rem) - .375rem);
            margin-top:var(--wp--custom--padding--content, .75rem);
            margin-right: calc((100% - var(--wp--custom--width--wide, 920px )) / 2 + var(--wp--custom--padding--content, .75rem));
            margin-bottom:var(--wp--custom--padding--content, .75rem);
            &.size-thumbnail{
                width:150px;
                padding:0;
            }
            &.wp-block-image{
                figcaption{
                    margin-right:auto;
                    margin-left:auto;
                }
            }
            figure{
                width:100%;
            }
            @media screen and (max-width: 720px) {
                width:auto;
                margin-right:auto;
                margin-left:auto;
            }

        }
    }
}
/**
 * Experimental setting
 */
.prefers-color-scheme-dark{
    background:var(--wp--custom--color--dark-mode-bg, #1b262c);
    .wrap-emulsion_relate_posts:not(#specificity),
        .comment-wrapper:not(#specificity){
        background:#333;
        a{
            color:#fff;
        }
    }
}
.emulsion.fse-scheme-daybreak{
    //custom values in daybreak.json are not overridden
    --thm_header_background_gradient_color:linear-gradient(90deg, #82ccdd, #f8c291);
    --thm_header_bg_color:linear-gradient(90deg, #82ccdd, #f8c291);
    --thm_header_text_color:#333;
    --thm_header_link_color:#333;
    .footer-layer,
    .header-layer{
        color: var(--thm_header_text_color);
        background: var(--thm_header_bg_color);
    }
    .footer-widget-area, .sidebar-widget-area {
        color: #333;
        background: #faf7e5;
    }
    nav.fse-primary{
        color:#000;
        background:#fff;
    }

}
.emulsion.fse-scheme-default{
    nav.fse-primary{
        color:#000;
        background:#fff;
    }
}
.emulsion.fse-scheme-midnight{
    .rich-header a{
        color:#000;
    }
    nav.fse-primary{
        color:#fff;
        background:#000;
    }
    .footer-widget-area,
    .sidebar-widget-area{

        color:#ffffff;
        background:#0c3c5d;
        a{
            color:#cccccc;
            &:hover{
                color:#ffffff;
            }
        }
    }
}

/**
 * Preset Margins
 */
$spacings: 40,50,60,70;

@each $space in $spacings {
    [style*="margin-left:var(--wp--preset--spacing--#{$space})"]:not(#specificity){
        max-width:calc(100% - var(--wp--preset--spacing--#{$space}) );
        @media (min-width: 768px){
            width: auto;

            margin-left:calc(var(--wp--custom--margin--start-content) + var(--wp--preset--spacing--#{$space}) ) !important;
        }
    }
    [style*="margin-right:var(--wp--preset--spacing--#{$space})"]:not(#specificity){
        max-width:calc(100% - var(--wp--preset--spacing--#{$space}) );
        @media (min-width: 768px){
            width: auto;
            margin-right:calc(var(--wp--custom--margin--start-content) + var(--wp--preset--spacing--#{$space}) ) !important;
        }
    }
    [style*="margin-left:var(--wp--preset--spacing--#{$space})"][style*="margin-right:var(--wp--preset--spacing--#{$space})"]:not(#specificity){
        max-width:calc(100% - var(--wp--preset--spacing--#{$space}) * 2 );
        @media (min-width: 768px){
            width: auto;
            margin-right:calc(var(--wp--custom--margin--start-content) + var(--wp--preset--spacing--#{$space}) ) !important;
        }
    }
    .alignwide[style*="margin-left:var(--wp--preset--spacing--#{$space})"]:not(#specificity){
        max-width:calc(100% - var(--wp--preset--spacing--#{$space}) );
        @media (min-width: 920px){
            width: auto;
            margin-left:calc(var(--wp--custom--margin--start-wide) + var(--wp--preset--spacing--#{$space}) ) !important;
        }
    }
    .alignwide[style*="margin-right:var(--wp--preset--spacing--#{$space})"]:not(#specificity){
        max-width:calc(100% - var(--wp--preset--spacing--#{$space}) );
        @media (min-width: 920px){
            width: auto;
            margin-right:calc(var(--wp--custom--margin--start-wide) + var(--wp--preset--spacing--#{$space}) ) !important;
        }
    }
    .alignwide[style*="margin-left:var(--wp--preset--spacing--#{$space})"][style*="margin-right:var(--wp--preset--spacing--#{$space})"]:not(#specificity){
        max-width:calc(100% - var(--wp--preset--spacing--#{$space}) * 2);
        @media (min-width: 920px){
            width: auto;
            margin-right:calc(var(--wp--custom--margin--start-wide) + var(--wp--preset--spacing--#{$space}) ) !important;
        }
    }
}
[style*="margin-left:0"]:not(#specificity){
    @media (min-width: 768px){
        margin-left:auto !important;
    }
}
[style*="margin-right:0"]:not(#specificity){
    @media (min-width: 768px){
        margin-right:auto !important;
    }
}

/**
        * emulsion-block-pattern-list-tab
 * front end only style
 * class that transforms a nested list into a tab view
 */

.editor-styles-wrapper .emulsion-block-pattern-list-tab.is-selected{
    border:1px dashed;
    &:before{
        display:inline-block;
        padding:var( --wp--custom--padding--content, .75rem );
        margin-bottom:1rem;
        color:white;
        content:'emulsion block pattern list tab';
        background:#333;
    }
}

.list-style-tab{
    @extend %block;
    margin:1.5rem auto .75rem;
    &.success-js{
        position:relative;
        margin-top:1.5rem;
        margin-bottom:.75rem;
        overflow:hidden;
        list-style:none;
        & > li{
            box-sizing:border-box;
            float:left;
            padding:.75rem 1rem;
            margin-top:0;
            margin-right:3px;
            margin-bottom:0;
            clear:none;
            text-indent:0;
            list-style:none;
            visibility:visible;
            border:var(--wp--custom--border--common);
            &:before{
                visibility:hidden;
                outline:none;
            }
            &:hover{
                cursor:pointer;
            }
            &:focus,
                &.active{
                visibility:visible;
                outline:none;
            }
            &:after{
                position:absolute;
                top:calc(var(--wp--preset--font-size--medium,20px) * 3);
                right:0;
                left:0;
                box-sizing:inherit;
                display:block;
                content:'';
                border-top:var(--wp--custom--border--common);
            }
            ol,
            ul{
                position:absolute;
                left:0;
                box-sizing:border-box;
                width:100%;
                padding:var( --wp--custom--padding--content, .75rem );
                margin-top:.75rem;
                list-style-type:none;
                visibility:hidden;


                li{
                    text-indent:0;
                    &:before{
                        display:none;
                    }
                }
            }
            &:focus{
                ul{
                    top:calc(clamp(var(--wp--preset--font-size--normal), calc( 100vw / 72 * 1.5), var(--wp--preset--font-size--medium)) * 3);
                    visibility:visible;
                    &:before,
                        &:after {
                        display: table;
                        content: " ";
                    }
                    &:after {
                        clear: both;
                    }
                }
            }
        }
        &.has-background{
            & > li{
                &:after{
                    top:4rem;
                }
            }
        }
    }
}
.list-style-tab.success-js{
    & > li{
        &.active{
            background:rgba(188, 188, 188, 0.5);
        }
    }
}
.emulsion{
    .wp-block-column:not(.is-style-main)  .list-style-tab > li{
        padding:.75rem 1rem;
    }
}

/**
        * .dropdown-on-hover
 */

.emulsion:not(.block-editor-page){
    .dropdown-on-hover{
        position:relative;
        width:calc(var(--thm_content_width, 720px) - var(--wp--custom--padding--content, .75rem) * 2);
        padding:0;
        margin:1.5rem auto;
        border:var(--wp--custom--border--common);
        overflow:visible;

        &:focus-within,
            &:active,
            &:focus,
            &:hover{
            position:static;
            .dropdown-on-hover-content{
                position:relative;
                visibility:visible;
                border:var(--wp--custom--border--common);
            }
            .dropdown-on-hover-title{
                margin:0 auto;
                margin-bottom:0;
                border:var(--wp--custom--border--common);

            }
        }
        .dropdown-on-hover-content{
            position:absolute;
            box-sizing:border-box;
            display:block;
            visibility:hidden;
            border-top:none;
            box-sizing:border-box;
            padding:0 0 0 0;
            margin:0 auto;
            overflow:visible;
        }
        .dropdown-on-hover-title{
            position:relative;
            box-sizing:border-box;
            display:block;
            padding:.5em var(--wp--custom--padding--content, .75rem);
            margin:0 auto;
            font-weight:700;
            visibility:visible;
            &:hover{
                cursor:pointer;
            }

            &:after{
                display: inline-block;
                width: 13px;
                height: 13px;
                margin: 0 5px;
                margin-left:.5rem;
                vertical-align: middle;
                content: " ";
                background: url(../images/svg/arrow-down.svg);
                filter: none;
                background-repeat: no-repeat;
                background-size: contain;
                background-size: contain;
                transition: all 1s ease-in-out;
            }
        }
    }
}

/**
        * .dropdown-on-click
 */

[amp]{
    .emulsion:not(.block-editor-page){
        .dropdown-on-click{
            .dropdown-on-click-title{
                &:after{
                    display:none;
                    content:'';
                }
            }
            .dropdown-on-click-content{
                position:relative;
                box-sizing:border-box;
                display:block;
                visibility:visible;
                border-top:none;
            }
        }
    }
}

.emulsion:not(.block-editor-page){
    .wp-block-post-content{
        .dropdown-on-click{
            margin:1.5rem auto;
        }
    }
    .dropdown-on-click{
        position:relative;
        width:calc(var(--thm_content_width, 720px) - var(--wp--custom--padding--content, .75rem) * 2);
        padding:0;
        overflow:visible;
        //border:var(--wp--custom--border--common);
        outline:none;
        box-sizing:border-box;
        //padding-right:var( --wp--custom--padding--content, .75rem );
        //padding-left:var( --wp--custom--padding--content, .75rem );
        padding:0;
        margin:1.5rem auto;

        &:focus-within,
            &:active,
            &:focus{
            position:static;
            .dropdown-on-click-content{
                position:relative;
                margin:0;
                visibility:visible;
                border:var(--wp--custom--border--common);
            }
            .dropdown-on-click-title{
                margin:0;
                border:var(--wp--custom--border--common);
                border-bottom:none;

            }
        }
        .dropdown-on-click-content{
            position:absolute;
            box-sizing:border-box;

            display:block;
            visibility:hidden;
            border-top:none;
        }
        .dropdown-on-click-title{
            position:relative;
            box-sizing:border-box;
            display:block;
            margin:0;
            font-weight:700;
            visibility:visible;
            &:hover{
                cursor:pointer;
            }

            &:after{
                display: inline-block;
                width: 13px;
                height: 13px;
                margin: 0 5px;
                margin-left:.5rem;
                vertical-align: middle;
                content: " ";
                background: url(../images/svg/arrow-down.svg);
                filter: none;
                background-repeat: no-repeat;
                background-size: contain;
                background-size: contain;
                transition: all 1s ease-in-out;
            }
        }

    }
}
/**
        * .modal
 */

.emulsion:not(.block-editor-page){
    &:not(.agent-mobile-phone){
        .modal-open-link + .modal,
        [id|="modal-group"].is-opened,
        [id|="modal-group"].modal{
            visibility:hidden;

            .emulsion-modal-title{
                visibility:visible;
            }
            .modal-close-link{
                visibility:hidden;
            }
        }
        .modal-open-link a{
            pointer-events:none;
        }

        .modal-open-link:focus-within + .modal,
            [id|="modal-group"].is-opened,
            [id|="modal-group"]:target.modal{

            position:fixed;
            top:100px;
            right:0;
            bottom:auto;
            left:0;
            z-index:10000;
            max-height:var(--wp--custom--min-height--3-quarters, 75vh);
            overflow-y:auto;
            visibility:visible;
            filter: drop-shadow(3px 3px 3px rgba(0,0,0,0.3));

            &.alignwide{
                position:fixed;
            }
            &.alignfull{
                position:fixed;
            }
            .modal-close-link{
                visibility:visible;
            }
        }
    }
    &.agent-mobile-phone{
        .modal-open-link{
            display:none;
        }
        .wp-block-group.modal{
            position:static;
            overflow:visible;
            visibility:visible;

            .emulsion-modal-title{
                display:none;
            }
        }

    }
    .wp-block-group.modal{
        position:absolute;
        left:-9999px;
        padding:0;
        overflow:hidden;
        color:#333;
        visibility:hidden;
        background:#fff;
        border:1px solid;


        .emulsion-modal-title{
            width:100%;
            padding:.5rem;
            margin:0 auto;
            border:none;
            border-color:transparent;
            .modal-close-link{
                padding-left:24px;
                &:hover{
                    cursor:pointer;
                }
            }
        }
        .emulsion-modal-content{
            width:100%;
            margin-top:0;


        }
    }
}
[amp]{
    .emulsion{
        .modal-open-link{
            display:none;
        }
        &:not(.block-editor-page):not(.agent-mobile-phone) [id|="modal-group"].modal{
            visibility:visible;
            .emulsion-modal-title{
                display:none;
            }
        }
        .wp-block-group.modal{
            position:relative;
            left:0;
            padding:0;
            overflow:hidden;
            color:#333;
            visibility:visible;
            background:#fff;
        }
    }
}
.html-header  .wp-block-site-logo{
    margin:0;
}
.logged-in .debug{
    border:1px solid red ! important;
}
.edit-site-sidebar-navigation-screen__content{
    overflow-y: auto;
    overflow-x:hidden;
    height: 50vh;
}
