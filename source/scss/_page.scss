/**
 * Pagination
 * ========================================================================== */
div.archive-year-links{
    width: -moz-fit-content;
    width:fit-content;
    margin: 1.5em auto 0.75em;
    & > div{
        margin-left:3px;
        margin-right:3px;
        a{
            line-height:3rem;
        }
        &.current,
        &.dots{
            line-height:3rem;
        }
    }
}

.attachment-navigation{
    & > div{
        @extend %block_main_wide;
    }
    .nav-links{
        max-width:100%;
        display:flex;
        margin:1.5em auto .75em;
        flex-wrap:wrap;
        padding:0;
    }
    .nav-next:empty,
        .nav-previous:empty{
        visibility:hidden;
    }
}
.emulsion-no-sidebar{
    .post-navigation{
        @extend %block_main_wide;
        margin-left:auto;
        margin-right:auto;
        padding-top: .1rem;
        padding-bottom: 0.75em;
        max-width:100%;
    }
}

.nav-links{
    display:flex;
    margin:1.5em auto .75em;
    flex-wrap:wrap;
    padding:0;
    position:relative;
}
main .nav-links > div{
    text-align:center;
    margin:3px;
    padding:.685rem;
    flex-basis: auto;
    flex-grow: 1;
    min-width:240px;
}
main .nav-links > div:first-child:last-child{
    flex-basis: 50%; /* default value */
    flex-grow: 0;
}
main .nav-links > div > a{
    display:inline-block;
    text-align:left;
    width: -moz-fit-content;
    width:fit-content;
    margin-left:auto;
    margin-right:auto;
}
.nav-links a{
    display:inline-block;
    text-align:left;
    width: -moz-fit-content;
    width:fit-content;
}
.pagination{
    padding-left:var(--thm_content_gap, 24px);
    padding-right:var(--thm_content_gap, 24px);
}
.stream + .pagination,
.grid + .pagination{
    padding-left:16px;
    padding-right:16px;
}
.pagination .nav-links{
    display:flex;
    padding-left:0;
    padding-right:0;
}
.pagination .nav-links span,
.pagination .nav-links a{
    flex:1 1 5%;
    text-align:center;
    margin:3px;
    padding:.685rem;
    width: -moz-fit-content;
    width:fit-content;
    white-space:pre;
}
.post-navigation{
    .nav-links{
        .nav-previous{
            a{
                display:block;
                width:auto;
                text-align:center;
                .text{
                    display:block;
                }
                .title{
                    display:block;
                }
                @supports ( width:fit-content ) or ( width: -moz-fit-content ){
                    .title{
                        text-align:left;
                        width: -moz-fit-content;
                        width:fit-content;
                        margin-left:auto;
                        margin-right:auto;
                        font-size:var(--thm_common_font_size, 16px);
                        font-family:var(--thm_common_font_family);
                        font-weight:var(--thm_heading_font_weight);
                        text-transform:var(--thm_heading-font-transform);
                    }
                }
            }
        }
        .nav-next{
            a{
                display:block;
                width:auto;
                text-align:center;
                .text{
                    display:block;
                }
                .title{
                    display:block;
                }
                @supports ( width:fit-content ) or ( width: -moz-fit-content ){
                    .title{
                        text-align:left;
                        width: -moz-fit-content;
                        width:fit-content;
                        margin-left:auto;
                        margin-right:auto;
                        font-size:var(--thm_common_font_size, 16px);
                        font-family:var(--thm_common_font_family);
                        font-weight:var(--thm_heading_font_weight);
                        text-transform:var(--thm_heading-font-transform);
                    }
                }
            }
        }
    }
}
/**
 * Page break
 * ========================================================================== */
.page-break-links{
    @extend %block;
    margin-top:3rem;
    display:flex;
}
.page-break-links > span,
.page-break-links a{
    flex:1 1 5%;
    text-align:center;
    margin:3px;
    width: -moz-fit-content;
    width:fit-content;
    padding:.685rem;
    font-size:var(--thm_meta_data_font_size);
}
/**
 * Static Page
 * ========================================================================== */
body.page{
    .posted-on{
        display:none;
    }
    .header-layer div.entry-text {
        margin-left: auto;
        margin-right: auto;

    }
}

/**
 * Attachment Page
 * ========================================================================== */
.template-part-content-attachment{
    article{
        padding-left:0;
        padding-right:0;
        .attachment{
            text-align:center;
        }
        .attachment-image{
            width:100%;
            max-width:100%;
            figcaption{
                @extend %block;
                margin:.75rem auto;
                width:-moz-fit-content;
                width:fit-content;
            }
            a{
                display:block;
                overflow:hidden;
                margin-left:auto;
                margin-right:auto;
                width: -moz-fit-content;
                width:fit-content;
            }
            img{
                display:block;
                margin-left:auto;
                margin-right:auto;
            }
        }
        .entry-content.attachment-content{
            min-height:0;
        }
        .attachment-content{
            @extend %block;
            margin-left:auto;
            margin-right:auto;
            .attachment-metadata{
                width:var(--thm_content_width, 720px);
                max-width:100%;
                margin-top:1.5rem;
                margin-bottom:.75rem;
                padding-left:var(--thm_content_gap, 24px);
                padding-right:var(--thm_content_gap, 24px);
                .relate-post-title{
                    margin-bottom:.75rem;
                }
                .caption-text{
                    font-size:var(--thm_meta_data_font_size);
                    text-transform:var(--thm_meta_data_font_transform);
                }
                .description-text{
                    margin-bottom:.75rem;
                    font-size:var(--thm_common_font_size, 16px);
                    .label{
                        width:120px;
                        display:inline-block;
                        font-weight:700;
                    }
                }
                .alt-text{
                    font-size:var(--thm_common_font_size, 16px);
                    margin-bottom:.75rem;
                    .label{
                        width:120px;
                        display:inline-block;
                        font-weight:700;
                    }
                }
                .relate-post-title{
                    .label{
                        width:120px;
                        display:inline-block;
                        font-weight:700;
                    }
                    a{
                        text-decoration:underline;
                    }
                }
            }
        }
    }
}
.enable-alignfull{
    &.page-template-gallery,
    &.post-template-gallery{
        .entry-content{
            figure.wp-block-image{
                margin-top:var(--thm_box_gap, 3px);
                margin-bottom:var(--thm_box_gap, 3px);
                &.alignfull{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                }
                figcaption{
                    position: absolute;
                    bottom: 1rem;
                    right: 1rem;
                    width: calc(100% - var(--thm_content_gap, 24px));
                    text-align: right;
                    color: var(--thm_white_color);
                    background: transparent;
                    text-shadow: #000 1px 0 10px;
                    overflow: hidden;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                }
            }
            section{
                margin-top:0;
                margin-bottom:0;
            }
            div.wp-block-image{
                figure{
                    margin-top:0;
                    margin-bottom:0;
                }
                figcaption{
                    position: absolute;
                    bottom: 1rem;
                    right: 1rem;
                    width: calc(100% - var(--thm_content_gap, 24px));
                    text-align: right;
                    color: var(--thm_white_color);
                    background: transparent;
                    text-shadow: #000 1px 0 10px;
                    overflow: hidden;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                }
                &.alignleft{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                    max-width:calc(50% - var(--thm_box_gap, 3px));
                    margin-right:var(--thm_box_gap, 3px);
                    margin-left:0;
                }
                &.alignright{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                    max-width:calc(50% - var(--thm_box_gap, 3px));
                    margin-left:var(--thm_box_gap, 3px);
                    margin-right:0;
                }
                @media screen and ( max-width : $content_width + $content_gap * 2 ) {
                    &.alignright,
                    &.alignleft{
                        max-width:100%;
                        margin-left:0;
                        margin-right:0;
                    }
                }
            }
            .wp-block-cover{
                margin-top:var(--thm_box_gap, 3px);
                margin-bottom:var(--thm_box_gap, 3px);
                &.alignfull{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                }
                &.alignleft{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                    max-width:calc(50% - var(--thm_box_gap, 3px));
                    margin-right:var(--thm_box_gap, 3px);
                    margin-left:0;
                }
                &.alignright{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                    max-width:calc(50% - var(--thm_box_gap, 3px));
                    margin-left:var(--thm_box_gap, 3px);
                    margin-right:0;
                }
                @media screen and ( max-width : $content_width + $content_gap * 2 ) {
                    &.alignright,
                    &.alignleft{
                        max-width:100%;
                        margin-left:0;
                        margin-right:0;
                    }
                }
            }
            .wp-block-video{
                &.alignfull{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                }
                &.alignleft{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                    width:calc(50% - var(--thm_box_gap, 3px));
                    max-width:calc(50% - var(--thm_box_gap, 3px));
                    margin-right:var(--thm_box_gap, 3px);
                    margin-left:0;
                    video{
                        padding:0;
                    }
                }
                &.alignright{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                    width:calc(50% - var(--thm_box_gap, 3px));
                    max-width:calc(50% - var(--thm_box_gap, 3px));
                    margin-left:var(--thm_box_gap, 3px);
                    margin-right:0;
                    video{
                        padding:0;
                    }
                }
                @media screen and ( max-width : $content_width + $content_gap * 2 ) {
                    &.alignright,
                    &.alignleft{
                        width:100%;
                        max-width:100%;
                        margin-left:0;
                        margin-right:0;
                    }
                }
            }
            .wp-block-media-text{
                &.alignfull{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                }
                &.alignwide{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                }
            }
            .wp-block-embed{
                margin:var(--thm_box_gap, 3px) auto ;
                &.alignfull{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                }
                &.alignleft{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                    max-width:calc(50% - var(--thm_box_gap, 3px));
                    margin-right:var(--thm_box_gap, 3px);
                    margin-left:0;
                }
                &.alignright{
                    margin-top:var(--thm_box_gap, 3px);
                    margin-bottom:var(--thm_box_gap, 3px);
                    max-width:calc(50% - var(--thm_box_gap, 3px));
                    margin-left:var(--thm_box_gap, 3px);
                    margin-right:0;
                }
                figcaption{
                    position:absolute;
                    bottom:3rem;
                    left:1rem;
                    color:var(--thm_white_color);
                    background-color:rgba(0,0,0,.5);
                }
                @media screen and ( max-width : $content_width + $content_gap * 2 ) {
                    &.alignright,
                    &.alignleft{
                        max-width:100%;
                        margin-left:0;
                        margin-right:0;
                    }
                }
            }
        }
    }
}
