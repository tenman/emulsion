/**
 * Borders
 * Header
 * Custom Background
 * Sidebar Background Default
 * Sidebar Background Light
 * Sidebar Background Dark
 * Main Sequential Control with bocy_class
     * If blowser scrolled
     * Custom background is Dark
     * Custom background is light
     * Custom background is light or dark
     * Site header fallback
     * Header background is dark
     * Header background not set
     * Header background is dark
     * Header and wp-nav-menu () related settings
     * When body is dark. Primary Menu SVG CSS
     * When body is light. Primary Menu SVG CSS
     * When body is dark. Sidebar widget
     * when Sidebar background default. Sidebar widget
     * when Sidebar background dark. Sidebar widget
     * when Sidebar background light. Sidebar widget
     * Footer widget
     * Header Video
     * Is Paged
     * Header
     * Header Template Default
     * Custom Background
         * Custom Background Dark
         * Custom Background Light
         * Main Area
     * Single Post
     * Archive
     * Is Paged
     * Block group
 * When Category color enable
 * Basic
 * Table
 * Editor Color Palette
 * Theme Color Classes
 * skin-button
 * Block Button
 * wp-block-archives
 * Sectionize
 * Plugin fallback
 * Hover
 * ========================================================================== */
/**
 * Borders
 * ========================================================================== */
body{
    color: var(--thm_black_color);

    &[class*="background-css-pattern"]{
        background-color:var(--thm_background_color);
    }    
    &.noscript{
        .template-part-header{
            .sub-menu,
            .children{
                border:var(--thm_common_border);
            }
        }
    }
    &.emulsion-no-sidebar{
        .primary-menu-wrapper{
            border-top:var(--thm_common_border);
            border-bottom:var(--thm_common_border);
        }
    }
    &.emulsion-has-sidebar{
        .primary-menu-wrapper{
            border-top:var(--thm_common_border);
            nav[class|="menu"]{
                border-bottom:var(--thm_common_border);
            }
        }
        &.is-dark{
            .primary-menu-wrapper{
                border-top:none;
                nav[class|="menu"]{
                    border-bottom:none;
                }
            }
        }
        .menu-is-light{
            .primary-menu-wrapper{
                border-top:none;
                nav[class|="menu"]{
                    border-bottom:none;
                }
            }
        }
    }
    nav[class|="menu"]{
        ul.wp-nav-menu{
            &[data-direction="vertical"]{
                border:var(--thm_common_border);
            }
        }
    }
    .side-right{
        .sidebar-widget-area{
            border-left:var(--thm_common_border);
        }
    }
    .side-left{
        .sidebar-widget-area{
            border-right:var(--thm_common_border);
        }
    }
    .footer-layer{
        border-top:var(--thm_common_border);
    }
    blockquote:not([class]){
        // old tinymce quote
        border-left:6px solid rgba(188,188,188,.5);
        max-width:100%;
    }
    .wp-block-quote{
        border:none;
        max-width:100%;
        border-left:2px solid rgba(188,188,188,.5);
        &.has-text-align-left{
            border:none;
            border-left:2px solid rgba(188,188,188,.5);
        }
        &.has-text-align-center{
            border:none;
            border-top:2px solid rgba(188,188,188,.5);
        }
        &.has-text-align-right{
            border:none;
            border-right:2px solid rgba(188,188,188,.5);
        }
    }
    .wp-block-pullquote{
        border:none;
        border-top:2px solid;
        border-bottom:2px solid;
        border-color:rgba(188,188,188,.5);
        .is-style-solid-color{
            &.has-success-background-color{
                color: var(--thm_black_color);
            }
            &.has-notice-background-color{
                color: var(--thm_black_color);
            }
            &.has-info-background-color{
                color: var(--thm_black_color);
            }
            &.has-alert-background-color{
                color: var(--thm_black_color);
            }
            &.has-cool-background-color{
                color: var(--thm_black_color);
            }
        }
        blockquote{
            max-width:100%;
            width:auto;
            border:none;
        }
    }
    .wp-block-cover{
        // background:transparent;
        .wp-block-cover__inner-container{
            & > p.has-background{
                &:first-of-type{
                    font-weight:bold;
                    -webkit-mask-image: linear-gradient(to right, transparent, #000 var(--thm_content_gap), #000 calc(100% - var(--thm_content_gap)), transparent);
                    mask-image: linear-gradient(to right, transparent, #000 var(--thm_content_gap), #000 calc(100% - var(--thm_content_gap)), transparent);
                }
            }
            [data-type="core/paragraph"]:first-of-type{
                [data-block]{
                    p.has-background{
                        font-weight:bold;
                        -webkit-mask-image: linear-gradient(to right, transparent, #000 var(--thm_content_gap), #000 calc(100% - var(--thm_content_gap)), transparent);
                        mask-image: linear-gradient(to right, transparent, #000 var(--thm_content_gap), #000 calc(100% - var(--thm_content_gap)), transparent);
                        &:before{
                            content:none;
                            border:3px solid red;
                        }
                    }
                }
            }
        }
    }
    .wp-block-latest-posts{
        .wp-block-cover__inner-container{
            & > p.has-background{
                &:first-of-type{
                    -webkit-mask-image:none;
                    mask-image: none;
                }
            }
        }
    }
    .tag-cloud-style-flat a,
    .wp-block-tag-cloud{
        border:var(--thm_common_border);
    }
    .wp-block-button__link{
        border:var(--thm_common_border);
    }
    .list-style-inline li,
    .horizontal-list-group li{
        border:var(--thm_common_border);
    }
    .wp-block-latest-posts__post-excerpt > a:only-child,
        .skin-button,
        .wp-block-file a,
        .theme-message,
        .wp-block-column .wp-block-archives li,
        textarea,
        input,
        .wp-block-search__button,
        .attachment-pdf .attachment img,
        .wp-list-comments > li,
        .reply a,
        th,
        td,
        .wp-block-archives select,
        .wp-block-latest-posts > li,
        .wp-block-rss.is-grid > li,
        .wp-block-categories > ul > li,
        .wp-block-categories-dropdown select,
        fieldset,
        .wp-block-table.is-style-stripes td,
        .wp-block-table td,
        .page-break-links > span,
        .page-break-links a,
        .wp-block-code,
        .nav-links > div,
        .solid-border,
        .wp-caption,
        kbd,
        .paginate-comment-links .current,
        .paginate-comment-links a,
        .pagination .nav-links span,
        .pagination .nav-links a,
        .widget_nav_menu .children,
        ins:hover:before,
        del:hover:before{
        border:var(--thm_common_border);
    }
    .entry-content{
        .wp-block-categories-list{
            li{
                border-bottom:var(--thm_common_border);
            }
            .sub-menu li,
            .children li{
                border-bottom:none;
            }
        }
        ul.wp-block-archives li:before{
            border-top:var(--thm_common_border);
        }
    }
    hr{
        border-bottom:1px solid rgba(188,188,188,.7);
        &.wp-block-separator{
            &.is-style-dots{
                &:before{
                    content:'\2026';
                    font-size:3rem;
                    margin:1rem auto;
                }
            }
        }
    }
    .article-wrapper{
        border-bottom:var(--thm_common_border);
    }
    &.page,
    &.single{
        .article-wrapper{
            border-bottom:none;
        }
    }
    .grid{
        .article-wrapper{
            border:var(--thm_common_border);
        }
    }
    .stream{
        .stream-wrapper{
            border:var(--thm_common_border);
        }
        .template-part-content{
            // post formats
            article{
                border:var(--thm_common_border);
            }
        }
    }
    .wp-nav-menu.primary[data-direction="horizontal"] .sub-menu,
    .wp-nav-menu.primary[data-direction="horizontal"] .children{
        border-top:var(--thm_common_border);
        border-right:var(--thm_common_border);
        border-left:var(--thm_common_border);
    }
    .wp-nav-menu.primary[data-direction="vartical"]{
        border:var(--thm_common_border);
    }
    .article-wrapper{
        border-bottom:var(--thm_common_border);
    }
    &.single .article-wrapper{
        border-bottom:none;
    }
    figure.wp-block-table{
        &::-webkit-scrollbar-thumb{
            outline: 1px solid currentColor;
        }
    }
    .wp-block-subhead,
    .taxonomy-description{
        color:var(--thm_header_text_color);
    }
    .wp-block-calendar{
        table{
            th{
                border:var(--thm_common_border);
                td{
                    border:var(--thm_common_border);
                }
            }
            tbody{
                td{
                    border:var(--thm_common_border);
                }
            }
        }
    }
    .horizontal-list-group li,
    .entry-meta li{
        border:var(--thm_common_border);
    }
    .post-navigation{
        .nav-links{
            .nav-previous{
                a{
                    .text{
                        color:rgba(128,128,128,1);
                    }
                }
            }
            .nav-next{
                a{
                    .text{
                        color:rgba(128,128,128,1);
                    }
                }
            }
        }
    }
    .post-password-form{
        input[type="password" i]:required{
            border-bottom:1px solid rgba(188, 188, 188, .3);
        }
    }
    .entry-content{
        .wp-block-columns{
            .wp-block-column{
                .wp-block-archives{
                    &.wp-block-archives-list{
                        padding-left:var(--thm_box_gap);
                        padding-right:var(--thm_box_gap);
                        li{
                            border-top:none;
                            border-left:none;
                            border-right:none;
                        }
                    }
                }
                .wp-block-categories{
                    &.wp-block-categories-list{
                        border:none;
                        .children{
                            padding-right:0;
                            margin-top:0;
                            margin-bottom:0;
                            li{
                                padding-right:0;
                            }
                        }
                    }
                }
            }
        }
    }
    .header-layer.template-part-header{
        border-bottom: var(--thm_common_border);
        .header-layer-nav-menu nav[class|="menu"]{
            border-bottom:none;
            .wp-nav-menu.primary > li > .children,
            .wp-nav-menu.primary > li > .sub-menu{
                border-bottom: var(--thm_common_border);
                .sub-menu,
                .children{
                    border:none;
                }
            }
        }
    }
}
input[type="checkbox"][data-skin="inset"] + label span{
    background:rgba(188, 188, 188, .5);
}
/**
 * Header
 * ========================================================================== */
.header-layer{
    & ~ .page-wrapper{
        //no sidebar
        .template-part-content-attachment,
        .template-part-content{
            a.skin-button{
                color:var(--thm_header_text_color);
                background: var(--thm_header_bg_color);
            }
        }
        .post-navigation,
        .pagination{
            color: var(--thm_general_text_color);
            background: var(--thm_background_color);
        }
        .pagination .current,
        .pagination .prev,
        .pagination .next{
            color:var(--thm_header_text_color);
            background: var(--thm_header_bg_color);
        }
        .post-password-form{
            input[type="submit"] {
                color:var(--thm_header_text_color);
                background: var(--thm_header_bg_color);
            }
        }
    }
    & ~ .layout-block{
        //has sidebar
        .page-wrapper{
            a.skin-button{
                color:var(--thm_header_text_color);
                background: var(--thm_header_bg_color);
            }
            .template-part-content-attachment,
            .template-part-content{
                a.skin-button{
                    color:var(--thm_header_text_color);
                    background: var(--thm_header_bg_color);
                }
            }
            .post-navigation,
            .pagination{
                color: var(--thm_general_text_color);
                background: var(--thm_background_color);
            }
            .pagination .current,
            .pagination .prev,
            .pagination .next{
                color:var(--thm_header_text_color);
                background: var(--thm_header_bg_color);
            }
            .post-password-form{
                input[type="submit"] {
                    color:var(--thm_header_text_color);
                    background: var(--thm_header_bg_color);
                }
            }
        }
    }
    & ~ .scroll-button-top{
        &.skin-button{
            color:var(--thm_header_text_color);
            background: var(--thm_header_bg_color);
        }
    }
}
/**
 * Custom Background
 * ========================================================================== */
body{
    &.is-loop[class]{
        /**
         * The background image is displayed only on pages and posts
         * @see _css-custom-prop.scss
         */
        background-image:none;
        background:var(--thm_background_color);
    }
}
.custom-background[class]{

    /**
     *
     * need <style type="text/css" id="custom-background-css">
     * overwrite spacificity
     */

    &:not([class*="background-css-pattern"]) {
        &:not(.emulsion-has-custom-background-image){
            /**
             * For posts and pages, specify a background color 
             * only if there is no background image
             */
            background:var(--thm_background_color);
        }
        &.error404.emulsion-has-custom-background-image,
        &.attachment.emulsion-has-custom-background-image,
        &.is-loop.emulsion-has-custom-background-image{
            /**
             * The background image is displayed only on pages and posts
             */
            background:var(--thm_background_color);
        }
    }
    a{
        &.skin-button{
            color:var(--thm_header_text_color);
            background: var(--thm_header_bg_color);
        }
    }
    &.emulsion-no-sidebar{
        .primary-menu-wrapper{
            border-top:none;
            border-bottom:none;
        }
    }
    &.emulsion-has-sidebar{
        .primary-menu-wrapper{
            [data-direction="horizontal"]{
                border:none;
                nav[class|="menu"]{
                    border:none;
                }
            }
        }
    }
    .side-right{
        .sidebar-widget-area{
            border-left:none;
        }
    }
    .side-left{
        .sidebar-widget-area{
            border-right:none;
        }
    }
    .footer-layer{
        border-top:none;
    }
    &.is-dark{

        .layout *:not(.wp-block-separator){
            border-color:rgba(188,188,188,.3);
        }
        .article-wrapper{
            border-color:rgba(188,188,188,.3);
        }
        .wp-nav-menu.primary .sub-menu,
        .wp-nav-menu.primary .children{
            border-color:rgba(188,188,188,.3);
        }
        .grid{
            .article-wrapper{
                border-color:rgba(188,188,188,.3);
            }
        }
        .stream{
            .stream-wrapper{
                border-color:rgba(188,188,188,.3);
            }
            .template-part-content{
                // post formats
                article{
                    border-color:rgba(188,188,188,.3);
                }
            }
        }
        .wp-block-calendar{
            table{
                th{
                    border-color:rgba(188,188,188,.3);
                    td{
                        border-color:rgba(188,188,188,.3);
                    }
                }
                tbody{
                    td{
                        border-color:rgba(188,188,188,.3);
                    }
                }
            }
        }
        .horizontal-list-group li,
        .entry-meta li{
            border-color:rgba(188,188,188,.3);
        }
        .post-navigation{
            .nav-links{
                .nav-previous{
                    color:var(--thm_general_text_color);
                    a{
                        .text{
                            color:rgba(188,188,188,1);
                            background:transparent;
                        }
                    }
                }
                .nav-next{
                    color:var(--thm_general_text_color);
                    a{
                        .text{
                            color:rgba(188,188,188,1);
                            background:transparent;
                        }
                    }
                }
            }
        }
    }
    &.is-light{

        .layout *:not(.wp-block-separator){
            border-color:var(--thm_sub_background_color_darken);
        }
        .article-wrapper{
            border-color:var(--thm_sub_background_color_darken);
        }
        .grid{
            .article-wrapper{
                border-color:var(--thm_sub_background_color_darken);
            }
        }
        .stream{
            .stream-wrapper{
                border-color:var(--thm_sub_background_color_darken);
            }
            .template-part-content{
                // post formats
                article{
                    border-color:var(--thm_sub_background_color_darken);
                }
            }
        }
        .wp-block-calendar{
            table{
                th{
                    border-color:var(--thm_sub_background_color_darken);
                    td{
                        border-color:var(--thm_sub_background_color_darken);
                    }
                }
                tbody{
                    td{
                        border-color:var(--thm_sub_background_color_darken);
                    }
                }
            }
        }
        .horizontal-list-group li,
        .entry-meta li{
            border-color:var(--thm_sub_background_color_darken);
        }
        .post-navigation{
            .nav-links{
                .nav-previous{
                    color:var(--thm_general_text_color);
                    a{
                        .text{
                            color:var(--thm_general_link_color);
                            background:transparent;
                        }
                    }
                }
                .nav-next{
                    color:var(--thm_general_text_color);
                    a{
                        .text{
                            color:var(--thm_general_link_color);
                            background:transparent;
                        }
                    }
                }
            }
        }
    }
}
/**
 * Sidebar Background Default
 * ========================================================================== */
.sidebar-is-default{
    .widget_nav_menu{
        .menu li .sub-menu > li,
        .menu li .children > li{
            border-bottom:var(--thm_common_border);
        }
        .widget_nav_menu .children a,
        .widget_nav_menu .sub-menu a,
        .widget_nav_menu .children,
        .widget_nav_menu .sub-menu{
            border:none;
        }
    }
    .footer-widget-area-lists,
    .sidebar-widget-area-lists{
        .widget_archive select,
        .widget_categories select{
            border:var(--thm_common_border);
        }
        .widget > ul > li{
            border-bottom:var(--thm_common_border);
        }
        .children,
        .sub-menu{
            border-top:var(--thm_common_border);
            padding-right:0;
        }
        .widget li{
            border-bottom:var(--thm_common_border);
        }
        .widget li:last-child{
            border-bottom:none;
        }
        .widget > ul{
            border-bottom:var(--thm_common_border);
            border-top:var(--thm_common_border);
        }
        .widget{
            &.widget_meta li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
            &.widget_pages li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
            &.widget_recent_comments li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
            &.widget_recent_entries li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
        }
    }
    .footer-widget-area-lists{
        .widget_nav_menu,
        .widget_categories,
        .widget_archive{
            li{
                border:none;
                border-bottom:var(--thm_common_border);
            }
        }
    }
}
/**
 * Sidebar Background Light
 * ========================================================================== */
.sidebar-is-light{
    .widget_nav_menu{
        .menu li .sub-menu > li,
        .menu li .children > li{
            border-bottom:var(--thm_common_border);
        }
        .widget_nav_menu .children a,
        .widget_nav_menu .sub-menu a,
        .widget_nav_menu .children,
        .widget_nav_menu .sub-menu{
            border:none;
        }
    }
    .footer-widget-area-lists,
    .sidebar-widget-area-lists{
        .widget_archive select,
        .widget_categories select{
            border:var(--thm_common_border);
        }
        .widget > ul > li{
            border-bottom:var(--thm_common_border);
        }
        .children,
        .sub-menu{
            border-top:var(--thm_common_border);
            padding-right:0;
        }
        .widget li{
            border-bottom:var(--thm_common_border);
        }
        .widget li:last-child{
            border-bottom:none;
        }
        .widget .textwidget li{
            border:initial;
            line-height:var(--thm_common_line_height);
        }
        .widget > ul{
            border-bottom:var(--thm_common_border);
            border-top:var(--thm_common_border);
        }
        .widget{
            &.widget_meta li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
            &.widget_pages li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
            &.widget_recent_comments li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
            &.widget_recent_entries li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
        }
    }
    .footer-widget-area-lists{
        .widget_nav_menu,
        .widget_categories,
        .widget_archive{
            li{
                border:none;
                border-bottom:var(--thm_common_border);
            }
        }
    }
}
/**
 * Sidebar Background Dark
 * ========================================================================== */
.sidebar-is-dark{
    .widget_nav_menu{
        .widget_nav_menu .children a,
        .widget_nav_menu .sub-menu a,
        .widget_nav_menu .children,
        .widget_nav_menu .sub-menu{
            border:none;
        }
    }
    .footer-widget-area-lists,
    .sidebar-widget-area-lists{
        .widget_nav_menu .children a,
        .widget_nav_menu .sub-menu a,
        .widget_nav_menu .children,
        .widget_nav_menu .sub-menu{
            border:none;
        }
        .widget > ul > li{
            border-bottom:var(--thm_common_border);
        }
        .children,
        .sub-menu{
            border-top:var(--thm_common_border);
            padding-right:0;
        }
        .widget li{
            border-bottom:var(--thm_common_border);
        }
        .widget li:last-child{
            border-bottom:none;
        }
        .widget > ul{
            border-bottom:var(--thm_common_border);
            border-top:var(--thm_common_border);
        }
        .widget .textwidget li{
            border:initial;
            line-height:var(--thm_common_line_height);
        }
        .widget{
            &.widget_meta li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
            &.widget_pages li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
            &.widget_recent_comments li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
            &.widget_recent_entries li{
                border-top:none;
                border-left:none;
                border-right:none;
            }
        }
    }
    .footer-widget-area-lists{
        .widget_nav_menu,
        .widget_categories,
        .widget_archive{
            li{
                border:none;
                border-bottom:var(--thm_common_border);
            }
        }
    }
}
/**
 * Main Sequential Control with bocy_class
 * ========================================================================== */
body{
    /**
     * If blowser scrolled
     */
    &.on-scroll{
        .header-layer-site-title-navigation{
            background:var(--thm_header_bg_color);
        }
        .menu-placeholder{
            [for="toc-toggle"]{
                span{
                    background:var(--thm_header_bg_color);
                }
            }
            .toc{
                background:var(--thm_background_color);
                color:var(--thm_general_text_color);
                a{
                    color:var(--thm_general_link_color);
                }
                ul{
                    @include font_size(5);
                    li{
                        &.toc-active{
                            color:red;
                            a{
                                color:var(--thm_hover_color);
                            }
                        }
                    }
                }
            }
        }
        &.is-dark .header-is-default-color ~ .primary-menu-wrapper{
            [for="toc-toggle"]{
                span{
                    background:var(--thm_sub_background_color_lighten);
                }
            }
        }
        &.is-light .header-is-default-color ~ .primary-menu-wrapper{
            [for="toc-toggle"]{
                span{
                    background:rgba(188, 188, 188, .2);
                }
            }
        }
        &.is-dark .header-is-default-color ~ .layout{
            .pagination{
                .current{
                    color: var(--thm_header_text_color);
                    background: var(--thm_header_bg_color);
                }
            }
        }
        &.is-light .header-is-default-color ~ .layout{
            .pagination{
                .current{
                    background:rgba(188, 188, 188, .2);
                }
            }
        }
    }
    /**
     * Custom background is Dark
     * relate post custom field setting
     * ========================================================================== */
    &.is-dark{
        &.metabox-reset-post-presentation{
            .header-layer-site-title-navigation{
                .menu{
                    .nav-menu-child-opener-label{
                        &:before{
                            background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                            background-size: contain;
                            filter:none;
                            -webkit-filter:none;
                        }
                    }
                    .nav-menu-child-opener[type="checkbox"]:checked ~ label{
                        &:before {
                            content:' ';
                            background:url('#{$theme_image_dir}svg/arrow-up.svg#white');
                            background-size:contain;
                        }
                    }
                }
            }
        }

        .ui-tooltip {
            background:var(--thm_white_color);
            color: var(--thm_black_color);
            .ui-tooltip-content:before{
                border-color:var(--thm_white_color);
                border: 10px solid transparent;
                border-top: 10px solid  var(--thm_white_color);
            }
            &.bottom-tooltip .ui-tooltip-content:before{
                border: 10px solid transparent;
                border-bottom: 10px solid  var(--thm_white_color);
            }
        }


    }
    /**
     * Custom background is light
     * relate post custom field setting
     * ========================================================================== */
    &.is-light{
        &.metabox-reset-post-presentation{
            .header-layer-site-title-navigation{
                .menu{
                    .nav-menu-child-opener-label{
                        &:before{
                            background: url(#{$theme_image_dir}svg/arrow-down.svg);
                            background-size: contain;
                            filter:none;
                            -webkit-filter:none;
                        }
                    }
                    .nav-menu-child-opener[type="checkbox"]:checked ~ label{
                        &:before {
                            content:' ';
                            background:url('#{$theme_image_dir}svg/arrow-up.svg');
                            background-size:contain;
                        }
                    }
                }
            }
        }
    }
    /**
     * Custom background is light or dark
     * relate post custom field setting
     * ========================================================================== */
    &.is-dark,
    &.is-light{
        &.metabox-reset-page-presentation{
            &.custom-background main *{
                border-color:#999;
            }
            .header-layer.template-part-header-custom + .primary-menu-wrapper .wp-nav-menu{
                &.menu{
                    .nav-menu-child-opener-label{
                        &:before{
                            background: url(#{$theme_image_dir}svg/arrow-down.svg);
                            background-size: contain;
                            filter:none;
                            -webkit-filter:none;
                        }
                    }
                    .nav-menu-child-opener[type="checkbox"]:checked ~ label{
                        &:before {
                            content:' ';
                            background:url('#{$theme_image_dir}svg/arrow-up.svg');
                            background-size:contain;
                        }
                    }
                }
            }
        }
    }
    /**
     * Site header fallback
     */
    .header-layer{
        color:var(--thm_header_text_color);
        a{
            color:var(--thm_header_link_color);
            &:hover{
                color:var(--thm_header_hover_color);
            }
        }
    }
    /**
     * Header background is dark
     * relate Customizer setting
     * ========================================================================== */
    .header-is-dark{
        &.template-part-header{
            &.header-video-active{
                background:#000;
            }
        }
        .emulsion-monthly-archive-prev-next-navigation{
            & > div{
                border:1px solid rgba(188,188,188,.3);
            }
        }
        .header-layer-site-title-navigation{
            .menu{
                .nav-menu-child-opener-label{
                    &:before{
                        background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                        background-size: contain;
                        filter:none;
                        -webkit-filter:none;
                    }
                }
                .nav-menu-child-opener[type="checkbox"]:checked ~ label{
                    &:before {
                        content:' ';
                        background:url('#{$theme_image_dir}svg/arrow-up.svg#white');
                        background-size:contain;
                    }
                }
            }
        }
    }
    /**
     * Header background not set
     * relate Customizer setting
     * ========================================================================== */
    .header-is-default-color .header-layer-site-title-navigation{
        color:var(--thm_header_text_color);
        a{
            color:var(--thm_header_link_color);
        }
        .menu{
            .nav-menu-child-opener-label{
                &:before{
                    background: url(#{$theme_image_dir}svg/arrow-down.svg);
                    background-size: contain;
                    filter:none;
                    -webkit-filter:none;
                }
            }
            .nav-menu-child-opener[type="checkbox"]:checked ~ label{
                &:before {
                    content:' ';
                    background:url(#{$theme_image_dir}svg/arrow-up.svg);
                    background-size:contain;
                }
            }
            .children,
            .sub-menu{
                background:var(--thm_header_bg_color);
            }
        }
    }
    /**
     * Header background is dark
     * relate Customizer setting
     * ========================================================================== */
    .header-is-light{
        &.template-part-header{
            &.header-video-active{
                background:#000;
            }
        }
        .emulsion-monthly-archive-prev-next-navigation{
            & > div{
                border:var(--thm_common_border);
            }
        }
        .header-layer-site-title-navigation{
            .menu{
                .nav-menu-child-opener-label{
                    &:before{
                        background: url('#{$theme_image_dir}svg/arrow-down.svg');
                        background-size: contain;
                        filter:none;
                        -webkit-filter:none;
                    }
                }
                .nav-menu-child-opener[type="checkbox"]:checked ~ label{
                    &:before {
                        content:' ';
                        background:url('#{$theme_image_dir}svg/arrow-up.svg');
                        background-size:contain;
                    }
                }
            }
        }
    }
    /**
     * Header and wp-nav-menu () related settings
     * relate Customizer setting
     * ========================================================================== */
    .header-layer{
        &.cta-layer-active{
            .cta-layer{
                .skin-button{
                    border-left:var(--thm_common_border);
                    &:hover{
                        border-left:var(--thm_common_border);
                    }
                }
            }
        }

        &.template-part-header-custom + .primary-menu-wrapper{
            &.menu-is-dark{
                .wp-nav-menu.primary[data-direction="horizontal"] .sub-menu,
                .wp-nav-menu.primary[data-direction="horizontal"] .children{
                    border-top:var(--thm_common_border);
                    border-right:var(--thm_common_border);
                    border-left:var(--thm_common_border);
                    li{
                        border-bottom:var(--thm_common_border);
                        .sub-menu,
                        .children{
                            border:none;
                        }
                    }
                }
                .menu{
                    &.wp-nav-menu{
                        .nav-menu-child-opener-label{
                            &:before{
                                background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                                background-size: contain;
                                filter:none;
                                -webkit-filter:none;
                            }
                        }
                        .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                            content:' ';
                            background:url('#{$theme_image_dir}svg/arrow-up.svg#white');
                            background-size:contain;
                        }
                    }
                }
            }
            &.menu-is-light{
                .wp-nav-menu.primary .sub-menu,
                .wp-nav-menu.primary .children{
                    border-top:var(--thm_common_border);
                    border-right:var(--thm_common_border);
                    border-left:var(--thm_common_border);
                    .sub-menu,
                    .children{
                        border:none;
                    }
                }
                .wp-nav-menu.primary .children li,
                .wp-nav-menu.primary .sub-menu li,
                .widget_nav_menu .children a,
                .widget_nav_menu .sub-menu a{
                    border-bottom:var(--thm_common_border);
                    .sub-menu li:last-child a,
                        .children li:last-child a{
                        border:none;
                    }
                }
                .menu{
                    &.wp-nav-menu{
                        .nav-menu-child-opener-label{
                            &:before{
                                background: url(#{$theme_image_dir}svg/arrow-down.svg);
                                background-size: contain;
                                filter:none;
                                -webkit-filter:none;
                            }
                        }
                        .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                            content:' ';
                            background:url('#{$theme_image_dir}svg/arrow-up.svg');
                            background-size:contain;
                        }
                        &[data-direction="vertical"] .children,
                        &[data-direction="vertical"] .sub-menu{
                            border:none;
                            li{
                                border:none;
                            }
                        }
                    }
                }
            }
        }
    }
    /**
     * When body is dark. Primary Menu SVG CSS
     */
    &.is-dark{
        &.metabox-reset-post-presentation{
            .header-layer{
                &.template-part-header-custom + .primary-menu-wrapper{
                    .menu{
                        &.wp-nav-menu{
                            .nav-menu-child-opener-label{
                                &:before{
                                    background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                                    background-size: contain;
                                    filter:none;
                                    -webkit-filter:none;
                                }
                            }
                            .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                                content:' ';
                                background:url('#{$theme_image_dir}svg/arrow-up.svg#white');
                                background-size:contain;
                            }
                        }
                    }
                }
            }
        }
    }
    /**
     * When body is light. Primary Menu SVG CSS
     */
    &.is-light{
        &.metabox-reset-post-presentation{
            .header-layer{
                &.template-part-header-custom + .primary-menu-wrapper{
                    .menu{
                        &.wp-nav-menu{
                            .nav-menu-child-opener-label{
                                &:before{
                                    background: url(#{$theme_image_dir}svg/arrow-down.svg);
                                    background-size: contain;
                                    filter:none;
                                    -webkit-filter:none;
                                }
                            }
                            .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                                content:' ';
                                background:url('#{$theme_image_dir}svg/arrow-up.svg');
                                background-size:contain;
                            }
                        }
                    }
                }
            }
        }
    }
    /**
     * When body is dark. Sidebar widget
     */
    &.is-dark{
        .footer-widget-area,
        .sidebar-widget-area{
            &.sidebar-is-default{
                .widget_nav_menu{
                    .menu-item{
                        .nav-menu-child-opener-label{
                            &:before{
                                content:' ';
                                background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                                background-size: contain;
                                filter:none;
                                -webkit-filter:none;
                            }
                        }
                        .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                            content:' ';
                            background:url('#{$theme_image_dir}svg/arrow-up.svg#white');
                            background-size:contain;
                        }
                    }
                }
            }
        }
    }
    /**
     * when Sidebar background default. Sidebar widget
     */
    .sidebar-widget-area{
        &.sidebar-is-default{
            background:var(--thm_background_color);
            color:var(--thm_general_text_color);
            a{
                color:var(--thm_general_link_color);
            }
            .widget_nav_menu{
                .menu-item{
                    .nav-menu-child-opener-label{
                        &:before{
                            content:' ';
                            background: url(#{$theme_image_dir}svg/arrow-down.svg);
                            background-size: contain;
                            filter:none;
                            -webkit-filter:none;
                        }
                    }
                    .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                        content:' ';
                        background:url('#{$theme_image_dir}svg/arrow-up.svg');
                        background-size:contain;
                    }
                }
            }
        }
        /**
         * when Sidebar background dark. Sidebar widget
         */
        &.sidebar-is-dark{
            background:var(--thm_sidebar_bg_color);
            color:var(--thm_sidebar_text_color);
            a{
                color:var(--thm_sidebar_link_color);
            }
            .widget_nav_menu{
                .menu-item{
                    .nav-menu-child-opener-label{
                        &:before{
                            content:' ';
                            background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                            background-size: contain;
                            filter:none;
                            -webkit-filter:none;
                        }
                    }
                    .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                        content:' ';
                        background:url('#{$theme_image_dir}svg/arrow-up.svg#white');
                        background-size:contain;
                    }
                }
            }
        }
        /**
         * when Sidebar background light. Sidebar widget
         */
        &.sidebar-is-light{
            background:var(--thm_sidebar_bg_color);
            color:var(--thm_sidebar_text_color);
            a{
                color:var(--thm_sidebar_link_color)
            }
            .widget_nav_menu{
                .menu-item{
                    .nav-menu-child-opener-label{
                        &:before{
                            content:' ';
                            background: url(#{$theme_image_dir}svg/arrow-down.svg);
                            background-size: contain;
                            filter:none;
                            -webkit-filter:none;
                        }
                    }
                    .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                        content:' ';
                        background:url('#{$theme_image_dir}svg/arrow-up.svg');
                        background-size:contain;
                    }
                }
            }
        }
    }
    /**
     * Footer widget
     * ========================================================================== */
    .footer-widget-area{
        &.sidebar-is-default{
            background:var(--thm_background_color);
            color:var(--thm_general_text_color);
            a{
                color:var(--thm_general_link_color);
            }
        }
        &.sidebar-is-light,
        &.sidebar-is-dark{
            background:var(--thm_sidebar_bg_color);
            color:var(--thm_sidebar_text_color);
            a{
                color:var(--thm_sidebar_link_color);
            }
        }
        &.footer-is-dark{
            .widget_nav_menu{
                .menu-item{
                    .nav-menu-child-opener-label{
                        &:before{
                            content:' ';
                            background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                            background-size: contain;
                            filter:none;
                            -webkit-filter:none;
                        }
                    }
                    .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                        content:' ';
                        background:url('#{$theme_image_dir}svg/arrow-up.svg#white');
                        background-size:contain;
                    }
                }
            }
        }
        &.footer-is-light{
            a{
                color:var(--thm_sidebar_link_color)
            }
            .widget_nav_menu{
                .menu-item{
                    .nav-menu-child-opener-label{
                        &:before{
                            content:' ';
                            background: url(#{$theme_image_dir}svg/arrow-down.svg);
                            background-size: contain;
                            filter:none;
                            -webkit-filter:none;
                        }
                    }
                    .nav-menu-child-opener[type="checkbox"]:checked ~ label:before {
                        content:' ';
                        background:url('#{$theme_image_dir}svg/arrow-up.svg');
                        background-size:contain;
                    }
                }
            }
        }
    }
    footer.banner address{
        a{
            color:var(--thm_sidebar_link_color);
        }
    }
    .has-category-colors .widget_categories > ul > li:hover{
        a{
            color:var(--thm_white_color);
        }
    }
    /**
     * Header Video
     * ========================================================================== */
    .header-layer{
        &.header-video-active{
            background:#000;
            .header-layer-site-title-navigation{
                .menu{
                    .nav-menu-child-opener-label{
                        &:before{
                            background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                            background-size: contain;
                            filter:none;
                            -webkit-filter:none;
                        }
                    }
                }
            }
        }
    }
    /**
     * Is Paged
     * ========================================================================== */
    &.paged{
        .header-layer{
            &.header-video-active{
                background:var(--thm_header_bg_color);
            }
            &.header-is-dark{
                .header-layer-site-title-navigation{
                    .menu{
                        .nav-menu-child-opener-label{
                            &:before{
                                background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                                background-size: contain;
                                filter:none;
                                -webkit-filter:none;
                            }
                        }
                    }
                }
            }
            &.header-is-light{
                .header-layer-site-title-navigation{
                    .menu{
                        .nav-menu-child-opener-label{
                            &:before{
                                background: url(#{$theme_image_dir}svg/arrow-down.svg);
                                background-size: contain;
                                filter:none;
                                -webkit-filter:none;
                            }
                        }
                    }
                }
            }
        }
    }
    /**
     * Header
     * ========================================================================== */
    & > header{
        color:var(--thm_header_text_color);
        background:var(--thm_header_bg_color);
        &.header-is-default-color{
            color: var(--thm_black_color);
            color:var(--thm_header_text_color);
            a{
                color:var(--thm_header_link_color);
                background:transparent;
            }
        }
        &.header-is-dark{
            color:var(--thm_white_color);
            color:var(--thm_header_text_color);
            a{
                color:var(--thm_header_link_color);
                background:transparent;
            }
        }
        &.header-is-light{
            color: var(--thm_black_color);
            color:var(--thm_header_text_color);
            a{
                color:var(--thm_header_link_color);
                background:transparent;
            }
        }
        &.template-part-header{
            .header-layer-site-title-navigation{
                a{
                    color:var(--thm_header_link_color);
                    background:transparent;
                }
            }
            .site-title{
                .site-title-text{
                    color:var(--thm_header_text_color);
                }
            }
            &.header-is-default-color{
            }
            &.header-is-dark{
                input[type="checkbox"][data-skin="hamburger"] + label[for="primary-menu-controll"] span{
                    background:var(--thm_white_color);
                    &:after,
                        &:before{
                        background:var(--thm_white_color);
                    }
                }
                input[type="checkbox"][data-skin="hamburger"]:checked + label[for="primary-menu-controll"] span{
                    background:transparent;
                    &:after,
                        &:before{
                        background:var(--thm_white_color);
                    }
                }
                .header-layer-site-title-navigation{
                    .menu{
                        &[data-direction="vertical"]{
                            .menu-item{
                                .nav-menu-child-opener:checked{
                                    & ~ .nav-menu-child-opener-label{
                                        &:before{
                                            background: url(#{$theme_image_dir}svg/arrow-up.svg#white);
                                            background-size: contain;
                                            filter:none;
                                            -webkit-filter:none;
                                        }
                                    }
                                }
                                .nav-menu-child-opener:checked{
                                    & ~ .nav-menu-child-opener-label{
                                        &:before{
                                            background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                                            background-size: contain;
                                            filter:none;
                                            -webkit-filter:none;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            &.header-is-light{
                input[type="checkbox"][data-skin="hamburger"] + label[for="primary-menu-controll"] span{
                    background: var(--thm_black_color);
                    &:after,
                        &:before{
                        background: var(--thm_black_color);
                    }
                }
                input[type="checkbox"][data-skin="hamburger"]:checked + label[for="primary-menu-controll"] span{
                    background:transparent;
                    &:after,
                        &:before{
                        background: var(--thm_black_color);
                    }
                }
                .header-layer-site-title-navigation{
                    .menu{
                        &[data-direction="vertical"]{
                            .menu-item{
                                .nav-menu-child-opener:checked{
                                    & ~ .nav-menu-child-opener-label{
                                        &:before{
                                            background: url(#{$theme_image_dir}svg/arrow-up.svg);
                                            background-size: contain;
                                            filter:none;
                                            -webkit-filter:none;
                                        }
                                    }
                                }
                                .nav-menu-child-opener{
                                    & ~ .nav-menu-child-opener-label{
                                        &:before{
                                            background: url(#{$theme_image_dir}svg/arrow-down.svg);
                                            background-size: contain;
                                            filter:none;
                                            -webkit-filter:none;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            .header-layer-nav-menu{
                .has-chckbox-control{
                    .menu{
                        li{
                            a{
                                color:var(--thm_header_link_color);
                                background:transparent;
                            }
                        }
                        &[data-direction="vertical"]{
                            border:var(--thm_common_border);
                            color:var(--thm_header_text_color);
                            background:var(--thm_header_bg_color);
                            li{
                                a{
                                    color:var(--thm_header_link_color);
                                    background:transparent;
                                }
                                .sub-menu,
                                .children{
                                    color:var(--thm_header_text_color);
                                    background:var(--thm_header_bg_color);
                                }
                                input[type="checkbox"][data-skin="hamburger"]:checked ~ nav .sub-menu a,
                                    input[type="checkbox"][data-skin="hamburger"]:checked ~ nav .children a{
                                    color:var(--thm_header_link_color);
                                    background:var(--thm_header_bg_color);
                                }
                            }
                        }
                    }
                }
            }
            &.header-is-dark{
                .header-layer-nav-menu{
                    .wp-nav-menu{
                        .sub-menu,
                        .children{
                            border:var(--thm_common_border);
                            color:var(--thm_header_text_color);
                            background:var(--thm_header_bg_color);
                        }
                    }
                }
            }
            &.header-is-light{
                .header-layer-nav-menu{
                    .wp-nav-menu{
                        .sub-menu,
                        .children{
                            border:var(--thm_common_border);
                            color:var(--thm_header_text_color);
                            background:var(--thm_header_bg_color);
                        }
                    }
                }
            }
        }
        &.header-layer{
            color:var(--thm_header_text_color);
            background: var(--thm_header_bg_color);
            @include bg-gradient;

            .site-title-link{
                color:var(--thm_header_text_color);
            }
            .widget_nav_menu .children a,
            .widget_nav_menu .sub-menu a{
                color:var(--thm_general_link_color);
            }
            &.header-is-dark{
                .menu .nav-menu-child-opener-label:before {
                    background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                    background-size: contain;
                }
            }
            &.header-is-light{
                .menu .nav-menu-child-opener-label:before {
                    background: url(#{$theme_image_dir}svg/arrow-down.svg);
                    background-size: contain;
                }
            }
            &.header-is-dark,
            &.header-is-light{
                &.no-header-media{
                    .taxonomy-description,
                    .page-title-block,
                    .site-title-text,
                    .site-description,
                    .header-text{
                        z-index:7;
                        text-shadow:none;
                        a{
                            color:var(--thm_header_link_color);
                            background:transparent;
                        }
                    }
                    .header-text{
                        a{
                            color:var(--thm_header_text_color);
                        }
                    }
                    .entry-text{
                        color: var(--thm_header_text_color);
                        .entry-title{
                            color: var(--thm_header_text_color);
                            background:transparent;
                            text-shadow:none;
                        }
                        .posted-on{
                            color: var(--thm_header_text_color);
                            background:transparent;
                            text-shadow:none;
                            .entry-date,
                            a{
                                color:var(--thm_header_link_color);
                                text-shadow:none;
                                background:transparent;
                            }
                        }
                        .entry-meta{
                            a{
                                color: var(--thm_header_link_color);
                                background:transparent;
                                text-shadow:none;
                            }
                            .cat-item{
                                a{
                                    color: var(--thm_header_link_color);
                                }
                            }
                        }
                    }
                    div.emulsion-monthly-archive-prev-next-navigation a,
                    div.archive-year-links,
                    div.archive-year-links a{
                        .current{
                            text-decoration:underline;
                        }
                    }
                }
            }
            &.cta-layer-active{
                .cta-layer{
                    a{
                        color:var(--thm_header_text_color);
                        background:var(--thm_header_bg_color);
                        &:focus{
                            border:2px solid rgb(94, 158, 214);
                            border:2px auto -webkit-focus-ring-color;
                        }
                    }
                }
            }
            &.header-is-default-color{
                .cta-layer{
                    a{
                        background:var(--thm_white_color);
                    }
                }
            }
            &.header-is-light{
                .cta-layer{
                    a{
                        background:var(--thm_white_color);
                    }
                }
            }
            &.header-is-dark{
                .cta-layer{
                    a{

                    }
                }
            }
            &.header-video-active{
                &.template-part-header-custom{
                    .site-title .site-title-text,
                    .entry-text,
                    .entry-text a,
                    .site-description,
                    .header-text a{
                        color: var(--thm_white_color);
                        background:transparent;
                        text-shadow: #000 1px 0 10px;
                    }
                    &.cta-layer-active{
                        .cta-layer{
                            a{
                                color:var(--thm_header_text_color);
                                background:var(--thm_header_bg_color);
                            }
                        }
                    }
                }
                .site-title .site-title-text,
                .entry-text,
                .entry-text a,
                .site-description,
                .header-text a{
                    color:var(--thm_white_color);
                    background:transparent;
                }
            }
            &.header-image-active{
                &.template-part-header-custom{
                    .site-title-text,
                    .taxonomy-description a,
                    .taxonomy-description,
                    .emulsion-monthly-archive-prev-next-navigation a,
                    .archive-year-links,
                    .archive-year-links a,
                    .site-description,
                    .header-text a,
                    .entry-text,
                    .entry-text a{
                        color:var(--thm_white_color);
                        background:transparent;
                        text-shadow: #000 1px 0 10px;
                    }
                    &.cta-layer-active{
                        .cta-layer{
                            a{
                                color:var(--thm_header_text_color);
                                background:var(--thm_header_bg_color);

                            }
                        }
                    }
                }
                .site-title-text,
                .taxonomy-description a,
                .taxonomy-description,
                .emulsion-monthly-archive-prev-next-navigation a,
                .archive-year-links,
                .archive-year-links a,
                .site-description,
                .header-text a{
                    color:var(--thm_white_color);
                    background:transparent;                  
                }
                .entry-text,
                .entry-text a{
                    color:var(--thm_white_color);
                    background:transparent;
                }
                .entry-text a{
                    color: var(--thm_header_link_color);
                }
            }
            .search-drawer{
                color:var(--thm_header_text_color);
                background:var(--thm_header_bg_color);
                @include bg-gradient;
                h1,h2,h3,h4{
                    text-transform:var(--thm_heading-font-transform);
                    font-weight:var(--thm_heading_font_weight);
                    font-family: var(--thm_heading_font_family);
                }
                a{
                    color:var(--thm_header_text_color);
                }
            }
            .taxonomy-description{
                padding:var(--thm_content_gap, 24px);
            }
        }
    }
    /**
     * Search Drawer
     * ========================================================================== */
    &.drawer-is-active{
        .header-layer{
            .header-text{
                .site-title-text{
                    color: var(--thm_header_text_color);
                    text-shadow:none;
                }
                .site-description{
                    color: var(--thm_header_text_color);
                    text-shadow:none;
                }
            }
            &.header-image-active{
                &.template-part-header-custom{
                    .header-text{
                        width:calc(100% - 64px);
                        .site-title-text{
                            color: var(--thm_header_text_color);
                            text-shadow:none;
                            font-family: var(--thm_heading_font_family);
                            font-weight: var(--thm_heading_font_weight);
                            text-transform: var(--thm_heading-font-transform);
                            @include font_size(3);
                        }
                        .site-description{
                            color: var(--thm_header_text_color);
                            text-shadow:none;
                        }
                    }
                    div.header-text:hover{
                        .site-title-link{
                            .site-title-text{
                                color: var(--thm_header_text_color);
                                text-shadow:none;
                            }
                        }
                        .site-title-text,
                        .site-description{
                            color: var(--thm_header_text_color);
                            text-shadow:none;
                        }
                    }
                }
            }
        }
        &.home:not(.paged){
            &.drawer-is-active{
                header.cta-layer-active{
                    .cta-layer{
                        text-align: center;
                        position: absolute;
                        top: 70px;
                        z-index: 10;
                        width: 100%;
                        height:80px;
                        a{
                            filter: none;
                        }
                    }
                }
                header{
                    &.header-image-active{
                        &.template-part-header-custom{
                            div.header-text:hover{
                                .site-description{
                                    color: var(--thm_header_text_color);
                                    text-shadow:none;
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    &.customize-partial-edit-shortcuts-shown{
        // for customizer
        & > header{
            &.header-layer{
                color:var(--thm_header_text_color);
            }
        }
    }
    /**
     * Header Template Default
     */
    .template-part-header-custom ~ .primary-menu-wrapper input[type="checkbox"][data-skin="hamburger"]:checked ~ nav {
        background:var(--thm_primary_menu_background);
        color:var(--thm_primary_menu_color);
        a{
            color:var(--thm_primary_menu_link_color);
        }
        .sub-menu,
        .children{
            background:var(--thm_primary_menu_background);
            color:var(--thm_primary_menu_color);
            a{
                color:var(--thm_primary_menu_link_color);
            }
        }
    }
    .template-part-header-custom{
        & + .primary-menu-wrapper{
            background:var(--thm_primary_menu_background);
            color:var(--thm_primary_menu_color);
            a{
                color:var(--thm_primary_menu_link_color);
            }
            .widget_nav_menu .children li:first-child:last-child a,
                .widget_nav_menu .sub-menu li:first-child:last-child a{
                border-bottom:none;
                color:var(--thm_sidebar_link_color);
            }
        }
    }
    .header-layer-nav-menu input[type="checkbox"][data-skin="hamburger"]:checked ~ nav{
        background:var(--thm_primary_menu_background);
        color:var(--thm_primary_menu_color);
        a{
            color:var(--thm_primary_menu_link_color);
        }
        .sub-menu,
        .children{
            background:var(--thm_primary_menu_background);
            color:var(--thm_primary_menu_color);
            a{
                color:var(--thm_primary_menu_link_color);
            }
        }
    }
    /**
     * Custom Background
     */
    &.custom-background{

        /**
         * Custom Background Dark
         * ========================================================================== */
        &.is-dark{
            .wp-block-group{
                &.emulsion-add-dark-color{
                    color:var(--thm_white_color);
                }
                &.emulsion-add-light-color{
                    color: var(--thm_black_color);
                }
                &.has-success-background-color{
                    color:var(--thm_white_color);
                }
                &.has-notice-background-color{
                    color:var(--thm_white_color);
                }
                &.has-info-background-color{
                    color:var(--thm_white_color);
                }
                &.has-alert-background-color{
                    color:var(--thm_white_color);
                }
            }
            .wp-block-group{
                &.emulsion-add-dark-color{
                    color:var(--thm_white_color);
                    a{
                        color:var(--thm_white_color);
                    }
                    figcaption{
                        color:var(--thm_white_color);
                    }
                }
                &.emulsion-add-light-color{
                    color: var(--thm_black_color);
                    a{
                        color: var(--thm_black_color);
                    }
                    figcaption{
                        color: var(--thm_black_color);
                    }
                }
                &.has-success-background-color{
                    color:var(--thm_white_color);
                    a{
                        color:var(--thm_white_color);
                    }
                    figcaption{
                        color:var(--thm_white_color);
                    }
                }
                &.has-notice-background-color{
                    color:var(--thm_white_color);
                    a{
                        color:var(--thm_white_color);
                    }
                    figcaption{
                        color:var(--thm_white_color);
                    }
                }
                &.has-info-background-color{
                    color:var(--thm_white_color);
                    a{
                        color:var(--thm_white_color);
                    }
                    figcaption{
                        color:var(--thm_white_color);
                    }
                }
                &.has-alert-background-color{
                    color:var(--thm_white_color);
                    a{
                        color:var(--thm_white_color);
                    }
                    figcaption{
                        color:var(--thm_white_color);
                    }
                }
                &.has-cool-background-color{
                    color:var(--thm_white_color);
                    a{
                        color:var(--thm_white_color);
                    }
                    figcaption{
                        color:var(--thm_white_color);
                    }
                }
            }
            .wp-block-categories{
                color: var(--thm_black_color);
            }
            .wp-block-latest-comments__comment-date{
                color:var(--thm_white_color);
            }
            .wp-block-calendar{
                table{
                    caption{
                        color:var(--thm_general_text_color);
                    }
                    th{
                        background:var(--thm_background_color);
                    }
                    tbody{
                        td{
                            background:var(--thm_background_color);
                        }
                    }
                }
            }
            .wp-block-embed-reddit .embedly-card-hug{
                background:var(--thm_white_color);
                color: var(--thm_black_color);
            }
        }
        /**
         * Custom Background Light
         * ========================================================================== */
        &.is-light{
            .wp-block-categories{
                color: var(--thm_black_color);
            }
            .wp-block-calendar{
                table{
                    caption{
                        color:var(--thm_general_text_color);
                    }
                    th{
                        background:var(--thm_background_color);
                    }
                    tr{
                        td{
                            background:var(--thm_background_color);
                        }
                    }
                }
            }
        }
        /**
         * Main Area
         * ========================================================================== */
        main{
            .taxonomy-description,
            .page-title-block,
            .site-title-text,
            .site-description,
            .header-text{
                z-index:7;
                text-shadow:none;
                color:var(--thm_general_text_color);
                a{
                    color:var(--thm_general_link_color);
                    background:transparent;
                }
            }
            .grid{
                .article-wrapper{
                    article{
                        header{
                            time,
                            a{
                                color:var(--thm_sidebar_link_color);
                            }
                            &.has-post-image{
                                color:var(--thm_white_color);
                                time,
                                a{
                                    color:var(--thm_white_color);
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    /**
     * Single Post
     * ========================================================================== */
    &.single{
        .header-layer{
            &.no-header-media{
                &.template-part-header-custom{
                    .site-title .site-title-text,
                    .taxonomy-description a,
                    .taxonomy-description,
                    .emulsion-monthly-archive-prev-next-navigation a,
                    .archive-year-links,
                    .archive-year-links a,
                    .site-description,
                    .header-text a,
                    .entry-text .entry-title,
                    .entry-text .entry-date,
                    .entry-text .posted-on a,
                    .entry-text .entry-meta a{
                        text-shadow:none;
                    }
                }
            }
        }
        &.is-light{
            .nav-previous{
                &:hover{
                    background:var(--thm_white_color);
                }
            }
        }
    }
    /**
     * Archive
     * ========================================================================== */
    &.archive{
        .header-layer{
            .emulsion-monthly-archive-prev-next-navigation a{
                text-shadow:none;
            }
            .taxonomy-description{
                color:var(--thm_header_text_color);
            }
        }
    }
    /**
     * Is Paged
     * ========================================================================== */
    &.paged{
        .header-layer{
            &.header-image-active,
            &.no-header-media,
            &.header-video-active{
                &.template-part-header-custom{
                    .site-title .site-title-text,
                    .taxonomy-description a,
                    .taxonomy-description,
                    .emulsion-monthly-archive-prev-next-navigation a,
                    .archive-year-links,
                    .archive-year-links a,
                    .site-description,
                    .header-text a,
                    .entry-text .entry-date,
                    .entry-text .entry-title,
                    .entry-text .posted-on a,
                    .entry-text .entry-meta a{
                        text-shadow:none;
                    }
                }
            }
        }
    }
    /**
     * Block group
     * ========================================================================== */
    .wp-block-group{
        &.emulsion-add-dark-color{
            color:var(--thm_white_color);
            a{
                color:var(--thm_white_color);
            }
            figcaption{
                color:var(--thm_white_color);
            }
        }
        &.emulsion-add-light-color{
            color: var(--thm_black_color);
            a{
                color: var(--thm_black_color);
            }
            figcaption{
                color: var(--thm_black_color);
            }
        }
        &.has-success-background-color{
            color: var(--thm_black_color);
            a{
                color: var(--thm_black_color);
            }
            figcaption{
                color: var(--thm_black_color);
            }
        }
        &.has-notice-background-color{
            color: var(--thm_black_color);
            a{
                color: var(--thm_black_color);
            }
            figcaption{
                color: var(--thm_black_color);
            }
        }
        &.has-info-background-color{
            color: var(--thm_black_color);
            a{
                color: var(--thm_black_color);
            }
            figcaption{
                color: var(--thm_black_color);
            }
        }
        &.has-alert-background-color{
            color: var(--thm_black_color);
            a{
                color: var(--thm_black_color);
            }
            figcaption{
                color: var(--thm_black_color);
            }
        }
        &.has-cool-background-color{
            color: var(--thm_black_color);
            a{
                color: var(--thm_black_color);
            }
            figcaption{
                color: var(--thm_black_color);
            }
        }
    }
}
/**
 * When Category color enable
 * ========================================================================== */
body{
    &.has-category-colors{
        & > header{
            &.header-layer{
                &.no-header-media{
                    .entry-text{
                        .entry-meta{
                            .cat-item{
                                a{
                                    color: var(--thm_header_link_color);
                                    background:transparent;
                                    text-shadow:none;
                                }
                            }
                        }
                    }
                }
            }
        }
        &.category{
            & > header{
                &.header-layer{
                    .drawer-wrapper{
                        label[for="c1"]{
                            .icon{
                                fill:var(--thm_white_color);
                            }
                        }
                    }
                    &.template-part-header{
                        .header-layer-site-title-navigation{
                            .site-title-text{
                                color:var(--thm_white_color);
                            }
                            .site-description{
                                color:var(--thm_white_color);
                            }
                            .nav-menu-child-opener-label{
                                &:before{
                                    background: url(#{$theme_image_dir}svg/arrow-down.svg#white);
                                    background-size: contain;
                                    filter:none;
                                    -webkit-filter:none;
                                }
                            }
                            .nav-menu-child-opener[type="checkbox"]:checked ~ label{
                                &:before {
                                    content:' ';
                                    background:url('#{$theme_image_dir}svg/arrow-up.svg#white');
                                    background-size:contain;
                                }
                            }
                            .menu-main-container{
                                .sub-menu,
                                .children{
                                    color:var(--thm_white_color);
                                    a{
                                        color:var(--thm_white_color);
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        .page-wrapper{
            article{
                header{
                    .entry-meta{
                        .post-category{
                            .cat-item{
                                a{
                                    color:var(--thm_general_link_color);
                                }
                                &.current-cat{
                                    a{
                                        color:var(--thm_white_color);
                                    }
                                }
                            }
                        }
                    }
                    &.has-post-image{
                        .entry-meta{
                            .post-category{
                                .cat-item{
                                    a{
                                        color:var(--thm_white_color);
                                    }
                                    &.current-cat{
                                        a{
                                            color:var(--thm_white_color);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    &.disable-category-colors{
        & > header{
            &.header-layer{
                &.no-header-media{
                    .entry-text{
                        .entry-meta{
                            .cat-item{
                                a{
                                    color: var(--thm_header_link_color);
                                    background:transparent;
                                    text-shadow:none;
                                }
                            }
                        }
                    }
                }
            }
        }
        .layout{
            article{
                header{
                    .entry-meta{
                        .post-category{
                            .cat-item{
                                a{
                                    color:var(--thm_general_link_color);
                                    background:transparent;
                                }
                            }
                        }
                    }
                }
                &.has-post-thumbnail{
                    header[style]{ // if has background image
                                   .entry-meta{
                                       .post-category{
                                           .cat-item{
                                               a{
                                                   color:var(--thm_white_color);
                                               }
                                           }
                                       }
                                   }
                    }
                }
            }
        }
    }
}
.entry-content{
    .wp-block-categories{
        li:hover{
            .emulsion-cat-count{
                color:var(--thm_white_color);
            }
        }
    }
}
/**
 * Basic
 * ========================================================================== */
a{
    color:var(--thm_general_link_color);
    &:hover{
        color:var(--thm_general_link_hover_color);
    }
}
a:any-link{
    color:var(--thm_general_link_color);
    &:hover{
        color:var(--thm_general_link_hover_color);
    }
}
a:-moz-any-link{
    color:var(--thm_general_link_color);
    &:hover{
        color:var(--thm_general_link_hover_color);
    }
}
a:-webkit-any-link{
    color:var(--thm_general_link_color);
    &:hover{
        color:var(--thm_general_link_hover_color);
    }
}
body{
    $background_tranparent_hover:rgba(188, 188, 188, .2);
    &.is-dark{
        div.gallery .gallery-item,/* classic editor */
        .wp-block-gallery .blocks-gallery-item{
            background:rgba(188, 188, 188, .2);
        }
        .wp-block-gallery.badge .blocks-gallery-item{
            background:transparent;
        }
        div.gallery .gallery-item{
            border:var(--thm_common_border);
        }
        p.has-drop-cap:not(:focus):first-letter {
            background:#000;
            color:var(--thm_white_color);
            border:1px solid rgba(188,188,188,.3);
        }
    }
    &.is-light{
        div.gallery .gallery-item,/* classic editor */
        .wp-block-gallery .blocks-gallery-item{
            background:rgba(188, 188, 188, .2);
        }
        .wp-block-gallery.badge .blocks-gallery-item{
            background:transparent;
        }
        div.gallery .gallery-item{
            border:var(--thm_common_border);
        }
        p.has-drop-cap:not(:focus):first-letter {
            background: rgba(188,188,188,.3);
            color: var(--thm_general_text_color);
        }
        p.has-drop-cap.has-background:not(:focus):first-letter {
            background:var(--thm_white_color);
            color:var(--thm_black_color);
        }
    }
    .primary-menu-wrapper{
        background:var(--thm_primary_menu_background);
        color:var(--thm_primary_menu_color);
        a{
            color:var(--thm_primary_menu_link_color);
        }
        nav{
            .wp-nav-menu{
                .sub-menu li,
                .children li,
                .sub-menu,
                .children{
                    background:var(--thm_primary_menu_background);
                    color:var(--thm_primary_menu_color);
                    a{
                        color:var(--thm_primary_menu_link_color);
                    }
                }
            }
        }
    }
    .wp-block-tag-cloud{
        color: var(--thm_general_text_color);
        a{
            color: var(--thm_general_link_color);
        }
    }
    .wp-block-cover-text{
        a{
            color:var(--thm_general_link_color);
        }
    }
    .sidebar-widget-area{
        &.sidebar-is-light,
        &.sidebar-is-dark{
            background:var(--thm_sidebar_bg_color);
            color:var(--thm_sidebar_text_color);
            a{
                color:var(--thm_sidebar_link_color);
            }
            th,td{
                color:var(--thm_sidebar_text_color);
                a{
                    color:var(--thm_sidebar_link_color);
                }
            }
        }
    }
    .footer-layer{
        &.sidebar-is-light,
        &.sidebar-is-dark{
            background:var(--thm_sidebar_bg_color);
            color:var(--thm_sidebar_text_color);
            .footer-widget-area{
                a{
                    color:var(--thm_sidebar_link_color);
                    &:hover{
                        color:var(--thm_sidebar_text_color);
                    }
                }
            }
            th,td{
                color:var(--thm_sidebar_text_color);
                a{
                    color:var(--thm_sidebar_link_color);
                }
            }
        }
        .banner{
            background:var(--thm_sidebar_bg_color);
            color:var(--thm_sidebar_text_color);
            a{
                color:var(--thm_sidebar_link_color);
                &:hover{
                    color:var(--thm_sidebar_hover_color);
                }
            }
        }
    }
    .wp-block-verse{
        color:var(--thm_general_text_color);
        a{
            color:var(--thm_general_link_color);
        }
    }
    .wp-block-preformatted,
    pre code,
    pre.wp-block-code{
        color:#555;
        background: #f8f8ff;
        &.dark{
            color: #a9b7c6;
            background: #282b2e;
            code,
            .block-editor-plain-text{
                color: #a9b7c6;
                background: #282b2e;
            }
        }
    }
    p > code{
        // inline code
        background: rgba(188, 188, 188, .4);
        padding-left:.5rem;
        padding-right:.5rem;
    }
}
main{
    color: var(--thm_general_text_color);
}
.page-wrapper{
    article{
        color: var(--thm_general_text_color);
        a{
            color:var(--thm_general_link_color);
        }
        header{
            .entry-title{
                text-transform:var(--thm_heading-font-transform);
                font-weight:var(--thm_heading_font_weight);
                font-family:var(--thm_heading_font_family);
                color: var(--thm_general_text_color);
                a{
                    color:var(--thm_general_link_color);
                }
            }
            .posted-on{
                a{
                    color:var(--thm_general_link_color);
                    .entry-date{
                        color:var(--thm_general_link_color);
                    }
                }
            }
            .entry-meta{
                a{
                    color:var(--thm_general_link_color);
                }
                .cat-item{
                    a{
                        color:var(--thm_general_link_color);
                    }
                }
            }
            &.has-post-image{
                color:var(--thm_white_color);
                background-color:#000;
                .entry-title{
                    color:var(--thm_white_color);
                    a{
                        color:#eee;
                    }
                }
                .posted-on{
                    a{
                        color:#eee;
                    }
                }
                .entry-meta{
                    a{
                        color:#eee;
                    }
                }
                a{
                    &.has-text{
                        color:#eee;
                    }
                    .entry-date{
                        color:#eee;
                    }
                }
            }
        }

    }
}
.entry-content{
    color: var(--thm_general_text_color);
    a{
        color:var(--thm_general_link_color);
    }
    .wp-block-cover-text{
        a{
            color:var(--thm_general_link_color);
        }
    }
}
.comment-wrapper{
    color:var(--thm_comments_color);
    background:var(--thm_comments_bg);
    a{
        color:var(--thm_comments_link_color);
    }
    .comments{
        article{
            color:var(--thm_black_color);
            background:var(--thm_white_color);
            a{
                color:var(--thm_gray_color);
            }
        }
        &.comment-is-light{
            article{
                color:var(--thm_black_color);
                background:var(--thm_white_color);
                a{
                    color:var(--thm_gray_color);
                }
            }
        }
        &.comment-is-dark{
            article{
                color:var(--thm_black_color);
                background:var(--thm_white_color);
                a{
                    color:var(--thm_gray_color);
                }
            }
        }
    }
    .comment-reply-title{
        color:var(--thm_comments_color);
    }
    .logged-in-as{
        a{
            color:var(--thm_comments_link_color);
        }
    }
    .comment-form-comment{
        label{
            color:var(--thm_comments_color);
        }
    }
    .comment-notes{
        color:var(--thm_comments_color);
    }
    .required{
        color:var(--thm_comments_color);
    }
    .comment-form-author{
        label{
            color:var(--thm_comments_color);
        }
    }
    .comment-form-email{
        label{
            color:var(--thm_comments_color);
        }
    }
    .comment-form-url{
        label{
            color:var(--thm_comments_color);
        }
    }
    .paginate-comment-links{
        a{
            color:var(--thm_comments_link_color);
        }
    }
    [type="submit"]{
        border:var(--thm_common_border);
    }
}
.relate-content-wrapper{
    background:var(--thm_relate_posts_bg);
    color:var(--thm_relate_posts_color);
    a{
        color:var(--thm_relate_posts_link_color);
    }
}
.paginate-comment-links{
    .current{
        color:var(--thm_header_text_color);
        background: var(--thm_header_bg_color);
    }
}
figure.wp-block-table{
    &::-webkit-scrollbar-thumb{
        background-color: currentColor;
    }
}
.grid{
    .article-wrapper{
        article{
            header{
                background: rgba(188, 188, 188, .2);
                background-size:cover;
                color:var(--thm_general_text_color);
                a{
                    color:var(--thm_general_link_color);
                }
                &.has-post-image{
                    color:var(--thm_white_color);
                    background-size:cover;
                    a{
                        color:var(--thm_white_color);
                    }
                }
            }
        }
    }
}
.stream{
    article{
        .stream-wrapper{
            color:var(--thm_general_text_color);
            .entry-title{
                text-transform:var(--thm_heading-font-transform);
                font-weight:var(--thm_heading_font_weight);
                font-family:var(--thm_heading_font_family);
                color: var(--thm_general_text_color);
                a{
                    color:var(--thm_general_link_color);
                }
            }
            .posted-on{
                color: var(--thm_general_text_color);
                a{
                    color:var(--thm_general_link_color);
                    .entry-date{
                        color:var(--thm_general_link_hover_color);
                    }
                }
            }
            .content-col{
                background:var(--thm_background_color);
                color: var(--thm_general_text_color);
                a{
                    color:var(--thm_general_link_color);
                    .entry-date{
                        color:var(--thm_general_link_hover_color);
                    }
                }
            }
        }
    }
}
.wp-block-latest-posts__post-date,
.list-style-inline li,
.horizontal-list-group li,
.attachment-pdf .attachment img,
.wp-list-comments > li,
.reply a,
th,
td,
.wp-block-latest-posts > li,
.wp-block-rss.is-grid > li,
.wp-block-categories > ul > li,
fieldset,
.wp-block-table td,
.page-break-links > span,
.page-break-links a,
.wp-block-code,
main .nav-links > div,
.solid-border,
.wp-caption,
.entry-meta li,
kbd,
.paginate-comment-links a,
ins:hover:before,
del:hover:before,
figcaption,
.wp-block-image figcaption, /* overwite core */
hr,
.article-wrapper{
    color:var(--thm_general_text_color);
}
.wp-block-rss__item-author,
.wp-block-rss__item-publish-date{
    color:var(--thm_general_text_color);
}
.current{
    background:rgba(188, 188, 188, .2);
}
body .current-page{
    background:rgba(188, 188, 188, .2);
}
.pagination .current,
.pagination .prev,
.pagination .next{
    color:var(--thm_general_text_color);
    background:rgba(188, 188, 188, .2);
}
figure.wp-block-table{
    &::-webkit-scrollbar-thumb{
        background-color: currentColor;
    }
}
p.has-background:not(.has-text-color){
    color: var(--thm_black_color);
}
.stream-wrapper{
    /**
     * Exception handling because z-index: -1 is not valid
     */
    p.has-background{
        color:var(--thm_general_text_color);
        a{
            color:var(--thm_general_link_color);
        }
    }
}
/**
 * Table
 * ========================================================================== */
table{
    tr{
        th{
            border:var(--thm_common_border);
            border-color:var(--thm_sub_background_color_darken);
        }
        td{
            border:var(--thm_common_border);
            border-color:var(--thm_sub_background_color_darken);
        }
    }
}
#wp-calendar{
    tr{
        th{
            border:var(--thm_common_border);
        }
        td{
            border:var(--thm_common_border);
        }
    }
    tfoot{
        td{
            border:none;            
        }
    }
}
.wp-block-table{
    table{
        background: var(--thm_background_color);
        &.has-background{

            th{
                color: var(--thm_black_color);
            }
            td{
                color:#333
            }
            thead tr{
            }
        }
    }
    thead tr{
        background: #f8f8ff;
        color:var(--thm_general_text_color);
    }
    tfoot tr{
        background: #f8f8ff;
        color:var(--thm_general_text_color);
    }
    &.is-style-stripes table:not(.has-background){
        tbody tr:nth-child(odd) {
            background-color: var(--thm_sub_background_color_darken);
            color:var(--thm_general_text_color);
            td{
                color:var(--thm_general_text_color);
            }
        }
    }
    &.is-style-stripes table.has-background{
        thead tr th{
            background: #f8f8ff;
            color:var(--thm_general_text_color);
        }
        tfoot tr td{
            background: #f8f8ff;
            color:var(--thm_general_text_color);
        }
        &.is-style-stripes .has-subtle-light-gray-background-color tbody tr:nth-child(odd){
            background: #f8f8ff;
        }
    }

    &.is-style-stripes{
        border:none;
        table{
            thead{
                tr{
                    th{
                        border:var(--thm_common_border);
                        border-color:var(--thm_sub_background_color_darken);
                    }
                }
            }
            tbody{
                tr{
                    td{
                        border:var(--thm_common_border);
                        border-color:var(--thm_sub_background_color_darken);
                    }
                }
            }
            &.has-subtle-light-gray-background-color{
                background:var(--thm_table_light_gray_background);
            }
            &.has-subtle-pale-blue-background-color{
                background:var(--thm_table_pale_blue_background);
            }
            &.has-subtle-pale-green-background-color{
                background:var(--thm_table_pale_green_background);
            }
            &.has-subtle-pale-pink-background-color{
                background:var(--thm_table_pale_pink_background);
            }
        }
    }
}

.custom-background{
    &.emulsion-has-custom-background-image{
        &.is-light{
            .wp-block-table{
                thead tr th{
                    background: #f8f8ff;
                    color:#333;

                }
                tfoot tr td{
                    background: #f8f8ff;
                    color:#333;
                }
            }
            .wp-block-table.is-style-stripes table:not(.has-background){
                tbody tr:nth-child(odd) {
                    background-color: rgba(0,0,0,.1);
                    color:#333;
                    td{
                        color:#333;
                    }
                }
            }
            .wp-block-table.is-style-stripes table.has-background{
                thead tr th{
                    background-color: rgba(0,0,0,.1);
                    color:#333;
                }
                tfoot tr td{
                    background-color: rgba(0,0,0,.1);
                    color:#333;
                }
            }
        }
    }
    &.is-dark{
        .wp-block-table{
            thead tr{
                background-color: var(--thm_sub_background_color_darken);
                color:var(--thm_general_text_color);
            }
            tfoot tr{
                background-color: var(--thm_sub_background_color_darken);
                color:var(--thm_general_text_color);

            }
        }
        .wp-block-table table.has-background{
            thead tr th{
                background-color: var(--thm_sub_background_color_darken);
                color:var(--thm_general_text_color);
            }
            tfoot tr td{
                background-color: var(--thm_sub_background_color_darken);
                color:var(--thm_general_text_color);

            }
        }
        .wp-block-table.is-style-stripes table:not(.has-background){
            tbody tr:nth-child(odd) {
                background-color: var(--thm_sub_background_color_lighten);
                color:var(--thm_general_text_color);
                td{
                    color:var(--thm_general_text_color);
                }
            }
        }
        .wp-block-table.is-style-stripes table.has-background{
            thead tr th{
                background-color: var(--thm_sub_background_color_darken);
                color:var(--thm_general_text_color);
            }
            tfoot tr td{
                background-color: var(--thm_sub_background_color_darken);
                color:var(--thm_general_text_color);
            }
        }
        .wp-block-table.is-style-stripes .has-subtle-light-gray-background-color tbody tr:nth-child(odd){
            background-color:#fff;
        }
    }
}
/**
 * Editor Color Palette
 * ========================================================================== */
.badge{
    background: rgba(188,188,188,.3);
}
@each $color_pallet in $editor_color_palettes {
    $slug: nth($color_pallet, 1);
    $color: nth($color_pallet, 2);
    .has-#{$slug}-color {
        color:#{$color};
    }
    .has-#{$slug}-background-color {
        background:#{$color};
        background-size:cover;
    }
}
// override custom color
article .has-my-color {
    color:var(--thm_favorite_color_palette);
}
article .has-my-color-background-color {
    background:var(--thm_favorite_color_palette);
}
[data-block],
.entry-content{
    .has-black-color{
        color:var(--thm_black_color);
    }
    .has-gray-color{
        color:var(--thm_gray_color);
    }
    .has-white-color{
        color:var(--thm_white_color);
    }
    .has-alert-color{
        color:var(--thm_alert_color);
    }
    del,
    strike,
    s{
        text-decoration-color:var(--thm_alert_color);
        opacity:.5;
    }
    .has-notice-color{
        color:var(--thm_notice_color);
    }
    .has-info-color{
        color:var(--thm_info_color);
    }
    .has-cool-color{
        color:var(--thm_cool_color);
    }

    hr{
        &.has-black-color{
            border-color:var(--thm_black_color);
        }
        &.has-gray-color{
            border-color:var(--thm_gray_color);
        }
        &.has-white-color{
            border-color:var(--thm_white_color);
        }
        &.has-alert-color{
            border-color:var(--thm_alert_color);
        }
        &.has-notice-color{
            border-color:var(--thm_notice_color);
        }
        &.has-info-color{
            border-color:var(--thm_info_color);
        }
        &.has-cool-color{
            border-color:var(--thm_cool_color);
        }
    }
    h1,h2,h3,h4,h5,h6{
        &.has-text-color{
            // HTML Anchor
            & > a{
                color:inherit;
            }
        }
    }
}
/**
 * Theme Color Classes
 * ========================================================================== */
.editor-styles-wrapper ol:not(.list-style-initial):not([id]),
.editor-styles-wrapper ul:not(.list-style-initial):not([id]),
body[class] .layout ul:not(.list-style-initial):not([id]),
body[class] .layout ol:not(.list-style-initial):not([id]){
    li{
        &:before{
            background:rgba(147,147,147,1);
            color:var(--thm_white_color);
        }
    }
    &.icon-success li:before,
        &.icon-cool li:before{
        color:var(--thm_white_color);
        background:var(--thm_cool_color);
    }
    &.icon-notice li:before{
        color:var(--thm_white_color);
        background:var(--thm_notice_color);
    }
    &.icon-info li:before{
        color:var(--thm_white_color);
        background:var(--thm_info_color);
    }
    &.icon-alert li:before{
        color:var(--thm_white_color);
        background:var(--thm_alert_color);
    }
    &.icon-dark li:before{
        color:var(--thm_white_color);
        background:#000;
    }
}
/**
 *
 */
body[class]{
    .icon-success,
    .icon-cool{
        & > li > svg.icon,
        & > svg.icon{
            --thm_social_icon_color:rgba(52, 152, 219, 1);
            fill:var(--thm_cool_color);
        }
    }
    .icon-notice{
        & > li > svg.icon,
        & > svg.icon{
            --thm_social_icon_color:rgba(163, 140, 8, 1);
            fill:var(--thm_notice_color);
        }
    }
    .icon-info{  
        & > li > svg.icon,
        & > svg.icon{
            --thm_social_icon_color:rgba(22, 160, 133, 1);
            fill:var(--thm_info_color);
        }
    }
    .icon-alert{
        & > li > svg.icon,
        & > svg.icon{
            --thm_social_icon_color:rgba(231, 76, 60, 1);
            fill:var(--thm_alert_color);
        }
    }
    .icon-dark{
        & > li > svg.icon,
        & > svg.icon{
            --thm_social_icon_color:#000;
            fill:#000;
        }
    }
    /**
     * hand writing svg color class
     */
    svg.icon{
        &.icon-success,
        &.icon-cool{
            --thm_social_icon_color:rgba(52, 152, 219, 1);
            fill:var(--thm_cool_color);
        }

        &.icon-notice{            
            --thm_social_icon_color:rgba(163, 140, 8, 1);
            fill:var(--thm_notice_color);

        }
        &.icon-info{  
            --thm_social_icon_color:rgba(22, 160, 133, 1);
            fill:var(--thm_info_color);

        }
        &.icon-alert{
            --thm_social_icon_color:rgba(231, 76, 60, 1);
            fill:var(--thm_alert_color);
        }
        &.icon-dark{
            --thm_social_icon_color:#000;
            fill:#000;
        }
    }
}
body[class] .layout ul{
    li{
        &:before{
            background:rgba(147,147,147,1);
        }
        li{
            &:before{
                background:rgba(147,147,147,1);
            }
        }
    }
}
.has-stripe-background-color,
.mark-stripe{
    background:repeating-linear-gradient( 45deg, #606dbc, #606dbc 10px, #465298 10px, #465298 20px );
}
.mark-success,
.mark-cool{
    background:var(--thm_cool_color_alpha);
}
.mark-notice{
    background:var(--thm_notice_color_alpha);
}
.mark-info{
    background:var(--thm_info_color_alpha);
}
.has-alert-background-color,
.mark-alert{
    background:var(--thm_alert_color_alpha);
}
[data-block],
.layout{

    .wp-block-navigation{
        & > ul{
            & > .wp-block-navigation-link{
                ul{
                    li{
                        color:var(--thm_gray_color);
                        &:hover{
                            color: var(--thm_black_color);
                        }
                    }                
                }
            }
        }
        &.is-style-dark{
            color:var(--thm_white_color);
            background:#000;
            a{
                color:var(--thm_silver_color);
                &:hover{
                    color:var(--thm_white_color);
                }
            }
            & > ul{
                & > .wp-block-navigation-link{
                    ul{
                        li{
                            .wp-block-navigation-link__content{
                                color:var(--thm_silver_color);
                                &:hover{
                                    color:var(--thm_white_color);
                                }
                            }                
                        }
                    }
                }
            }
        }
        &.is-style-light{
            color:var(--thm_black_color);
            background:var(--thm_cloud_color);
            a{
                color:var(--thm_black_color);
                &:hover{
                    color:#000;
                }
            }
            & > ul{

                & > .wp-block-navigation-link{
                    ul{
                        color:var(--thm_black_color);
                        background:var(--thm_cloud_color);
                        &:after{
                            border-color: transparent transparent var(--thm_cloud_color);
                        }
                        li{
                            .wp-block-navigation-link__content{
                                color:var(--thm_black_color);
                                text-shadow:none;
                                &:hover{
                                    color:#000;
                                }
                            }                
                        }
                    }
                }
            }
        }
    }

    .mark-dark{
        color:var(--thm_white_color);
        background:#000;
    }
    .mark-gray{
        background: #ddd;
        color: var(--thm_black_color);
    }
}
h1,h2,h3,h4,h5,h6{
    &.mark-success,
    &.mark-cool,
    &.mark-notice,
    &.mark-info,
    &.has-alert-background-color,   
    &.has-notice-background-color,
    &.has-info-background-color,
    &.has-cool-background-color,
    &.mark-alert,
    &.mark-dark,
    &.mark-gray{
        color:var(--thm_black_color);
        padding:1rem;
        z-index:auto;
        position:relative;
        &:before{
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--thm_white_color);
            left: 0;
            top: 0;
            z-index: -1;
        }
    }
}

p,
ul,
[class|="wp-block"]:not(.wp-block-cover){
    &.mark-success,
    &.mark-cool,
    &.mark-notice,
    &.mark-info,
    &.has-alert-background-color,
    &.has-notice-background-color,
    &.has-info-background-color,
    &.has-cool-background-color,
    &.mark-alert,
    &.mark-dark,
    &.mark-gray{
        color:var(--thm_black_color);
        z-index:auto;
        box-sizing:border-box;
        position:relative;
        &:before{
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;           
            background: var(--thm_white_color);
            left: 0;
            top: 0;
            z-index: -1;
        }
    }
}
.sectionized-wp-block-verse{
    z-index:3;
}
p[class|="mark"]{
    padding:1em;
    box-sizing:border-box;
}
[class^="color"]{
    padding:1em;
}

.search-info li ul li{
    display:none;
}
.relate-post-no-icon{
    color:var(--thm_header_text_color);
    background: var(--thm_header_bg_color);
    text-transform: uppercase;
}
svg#loader-1{
    width:32px!important;
    height:32px!important;
    max-width:32px!important;
}
/**
 * skin-button
 * ========================================================================== */
a.skin-button{
    color:var(--thm_header_text_color);
    background: rgba(188, 188, 188, .2);
}
.template-part-content-attachment,
.template-part-content{
    a.skin-button{
        color:var(--thm_header_text_color);
        background: rgba(188, 188, 188, .2);
    }
}
[data-block],
.entry-content{
    .wp-block-latest-posts__post-excerpt{
        & > a:only-child{
            color:var(--thm_header_text_color);
            background: var(--thm_header_bg_color);
            &:hover{
                color:var(--thm_header_text_color);
                background: var(--thm_header_bg_color);
            }
        }
    }
    .wp-block-file a.wp-block-file__button{
        color:var(--thm_header_text_color);
        background: var(--thm_header_bg_color);
    }
}
.wp-block-search .wp-block-search__button{
    background: var(--thm_header_bg_color);
    &:before{
        background: url(#{$theme_image_dir}svg/search.svg#white);
        background-size:16px 16px;
        background-position:16px 0;
        background-repeat:no-repeat;
    }
}
/**
 * Block Button
 * ========================================================================== */
.is-light{
    .wp-block-button{
        .wp-block-button__link:not(.has-background){
            background:var(--thm_sub_background_color_darken);
        }
    }
}
[data-block],
.entry-content{
    .wp-block-cover{
        .wp-block-button{
            &:not(.has-background):not(.has-text-color){
                .wp-block-button__link{
                    color:#fff;
                }
            }         
        }
    }
    .wp-block-button{
        &.is-style-outline{
            .wp-block-button__link{
                color:var(--thm_general_link_color);
                background:transparent;
                &:not(.has-text-color),
                    &:not(.has-text-color):active,
                    &:not(.has-text-color):focus,
                    &:not(.has-text-color):hover{
                    color:var(--thm_general_link_color);
                }
                &:not(.has-background),
                    &:not(.has-background):active,
                    &:not(.has-background):focus,
                    &:not(.has-background):hover{
                    background:transparent;
                }
            }
        }
        &.is-style-default{
            .wp-block-button__link{
                border-radius:calc( var(--thm_common_font_size) * var(--thm_content_line_height));
            }
        }
        &.is-style-squared{
            .wp-block-button__link{
                border-radius:0;
            }
        }
        .wp-block-button__link{
            &:not(.has-text-color),
                &:not(.has-text-color):active,
                &:not(.has-text-color):focus,
                &:not(.has-text-color):hover{
                color:var(--thm_white_color);
            }
            &:not(.has-background),
                &:not(.has-background):active,
                &:not(.has-background):focus,
                &:not(.has-background):hover{
                color:var(--thm_general_link_color);
            }
            &.has-background{
                position:relative;
            }
            &.has-success-background-color{
                color:var(--thm_black_color);
            }
            &.has-notice-background-color{
                color:var(--thm_black_color);
            }
            &.has-info-background-color{
                color:var(--thm_black_color);
            }
            &.has-alert-background-color{
                color:var(--thm_black_color);
            }
            &.has-cool-background-color{
                color:var(--thm_black_color);
            }
            &.has-black-color{
                color:var(--thm_black_color);
            }
            &.has-gray-color{
                color:var(--thm_gray_color);
            }
            &.has-white-color{
                color:var(--thm_white_color);
            }
            &.has-alert-color{
                color:var(--thm_alert_color);
            }
            &.has-notice-color{
                color:var(--thm_notice_color);
            }
            &.has-info-color{
                color:var(--thm_info_color);
            }
            &.has-cool-color{
                color:var(--thm_cool_color);
            }
        }
        &.aligncenter{
            width:fit-content;
            padding:0;
        }
        &.button-has-background{
            a{
                &:before {
                    content: '';
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    background: var(--thm_white_color);
                    left: 0;
                    top: 0;
                    border-radius: 1.5rem;
                }
            }
        }
        &.is-style-squared{
            a{
                &:before {
                    content: '';
                    border-radius: 0;
                }
            }
        }
        &.is-style-outline{
            &:before{
                display:none;
            }
            a{
                &.has-text{
                    color: var(--thm_general_text_color);
                    background:transparent;
                    border:var(--thm_common_border);
                }
            }
        }
        &.is-style-default{
            border-radius: calc(var(--thm_common_font_size) * var(--thm_content_line_height));
            overflow:hidden;
        }
    }
    .wp-block-categories{
        .emulsion-cat-count{
            color: var(--thm_general_text_color);
        }
    }
}
body{
    [data-block],
    .widget,
    .entry-content{
        .is-style-emulsion-dark{
            &.wp-block-code{
                background:#000;
                code{
                    background:transparent;
                    color:green;
                }
            }
        }
    }
}
/**
 * wp-block-archives
 */
body{
    .header-is-default-color{
        & ~ .layout{
            .entry-content{
                .emulsion-archive-count:not(.badge){
                    color:var(--thm_general_text_color);
                    background:var(--thm_sub_background_color_darken);
                }
            }
        }
    }
    .wp-block-archives {
        li{
            color: var(--thm_general_text_color);
            a{
                color: var(--thm_general_link_color);
            }
            .emulsion-archive-count:not(.badge){
                color:var(--thm_header_text_color);
                background:var(--thm_header_bg_color);
            }
        }
    }
}
/**
 * Sectionize
 * ========================================================================== */
body.custom-background{
    [class|="sectionized"]{        
        background:transparent;       
    }  
}

[class|="sectionized"]{
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow:hidden;
    transition:background .5s ease-in-out;
    background:transparent;
    z-index:3;
    &.sectionized-wp-block-latest-posts{
        padding-top:1.5rem;
        padding-bottom:1.5rem;
    }
    &.sectionized-wp-block-columns{
        background:transparent;
    }
    &.sectionized-wp-block-pullquote{
        background:transparent;
    }
    &.sectionized-wp-block-button{
        background:transparent;
    }
    &.sectionized-wp-block-separator{
        background:transparent;
    }
    &.sectionized-wp-block-spacer{
        background:transparent;
    }
    &.sectionized-wp-block-file{
        background:transparent;
    }
    &.sectionized-wp-block-archives{
        background:transparent;
    }
    &.sectionized-wp-block-categories{
        background:transparent;
    }
    &.sectionized-wp-block-embed-wordpress{
        background:transparent;
    }
    &.sectionized-wp-block-embed-screencast{
        background:transparent;
    }
    &.sectionized-wp-block-embed-reddit{
        background:transparent;
        .wp-block-embed-reddit{
            background:var(--thm_white_color);
        }
    }
    .wp-block-embed-reddit{
        &.alignright,
        &.aligncenter,
        &.alignleft{
            background:var(--thm_white_color);
        }
    }
    &.sectionized-wp-block-embed-twitter{
        background:transparent;
    }
    &.sectionized-wp-block-audio{
        background:transparent;
    }
    &[class|="sectionized-wp-block-embed"]{
        background:transparent;
    }
    &:focus-within{
        //pending
        // background:rgba(243, 156, 18,.1);
    }
    &.sectionized-wp-block-latest-comments{
        padding-top:1.5rem;
        padding-bottom:.75rem;
        background:transparent;
    }
    /**
     * Theme Custom Class no-margin
     */
    &.sectionized-wp-block-media-text{
        color:var(--thm_media_text_section_color);
        background:var(--thm_media_text_section_bg);
        //z-index:-1;  media text image link not work
        z-index:auto;
        position:relative;
        margin-top:0;
        margin-bottom:0;
        min-height:var(--thm_media_text_section_height);
        .wp-block-media-text{
            color:var(--thm_media_text_section_color);
            margin-top:calc(var(--thm_box_gap));
            margin-bottom:calc(var(--thm_box_gap));
            h1,h2,h3,h4,h5,h6{
                color:var(--thm_media_text_section_color);
            }
            li{
                color:var(--thm_media_text_section_color);
            }
            a{
                color:var(--thm_media_text_section_link_color);
            }
        }
        .wp-block-media-text{
            //editor background
            &.has-background:not(.has-text-color){
                color:var(--thm_black_color);
            }
            &.has-black-background-color:not(.has-text-color){
                color:var(--thm_white_color);
            }
            &.has-gray-background-color:not(.has-text-color){
                color:var(--thm_white_color);
            }
            &[style*="background-color"]:not(.has-text-color){
                color:var(--thm_white_color);
            }
        }
    }
    &.sectionized-wp-block-columns{
        color:var(--thm_columns_section_color);
        background:var(--thm_columns_section_bg);
        min-height:var(--thm_columns_section_height);
        margin-top:0;
        margin-bottom:0;
        .wp-block-columns{
            margin-top:calc(var(--thm_box_gap));
            margin-bottom:calc(var(--thm_box_gap));
            color:var(--thm_columns_section_color);
            figure{
                figcaption{
                    color:var(--thm_columns_section_color);
                    a{
                        color:var(--thm_columns_section_link_color);
                    }
                }
            }
            a{
                color:var(--thm_columns_section_link_color);
            }
            .wp-block-latest-posts__post-excerpt > a:only-child {
                color: var(--thm_header_text_color);
                background: var(--thm_header_bg_color);
            }
            .wp-block-column{
                .wp-block-calendar{
                    table{
                        background:var(--thm_columns_section_bg);
                        caption{
                            color:var(--thm_columns_section_color);
                        }
                        td,
                        th{
                            background:var(--thm_columns_section_bg);
                        }
                        a{
                            color:var(--thm_columns_section_link_color);
                        }
                    }
                }
                .wp-block-latest-comments{
                    .wp-block-latest-comments__comment-date,
                    article{
                        background:var(--thm_columns_section_bg);
                        color:var(--thm_columns_section_color);
                        a{
                            color:var(--thm_columns_section_link_color);
                        }
                    }
                }
            }
        }
        &.columns-is-default{
            background:transparent;
        }
        &.columns-is-dark{
            .wp-block-calendar table th{
                background:#555;
            }
        }
        &.columns-is-light{
            .wp-block-calendar table th{
                background:#eee;
            }
        }
        &.columns-is-dark,
        &.columns-is-light{
            .wp-block-latest-posts__post-date,
            .list-style-inline li,
            .horizontal-list-group li,
            .attachment-pdf .attachment img,
            .wp-list-comments > li,
            .reply a, th, td,
            .wp-block-latest-posts > li,
            .wp-block-rss.is-grid > li,
            .wp-block-categories > ul > li, fieldset,
            .wp-block-table td,
            .page-break-links > span,
            .page-break-links a, .wp-block-code,
            main .nav-links > div,
            .solid-border,
            .wp-caption,
            .entry-meta li,
            kbd,
            .wp-block-calendar td,
            .wp-block-calendar th,
            .paginate-comment-links a,
            ins:hover:before,
                del:hover:before,
                figcaption,
                .wp-block-image
                figcaption,
                caption,
                hr,
                .article-wrapper{
                color:var(--thm_columns_section_color);
            }
            .wp-block-table{
                table{
                    background:var(--thm_columns_section_bg);
                }
            }
        }
    }
    &.sectionized-wp-block-gallery{
        color:var(--thm_gallery_section_color);
        background:var(--thm_gallery_section_bg);
        min-height:var(--thm_gallery_section_height);
        .wp-block-gallery{
            margin-top:calc(var(--thm_box_gap));
            margin-bottom:calc(var(--thm_box_gap));
            a{
                color:var(--thm_gallery_section_link_color);
            }
        }
    }
    &.sectionized-wp-block-cover{
        .wp-block-cover{
            margin-top:0;
            margin-bottom:0;
        }
    }
    &.sectionized-wp-block-image{
        .wp-block-image{
            margin-top:0;
            margin-bottom:0;
            background:var(--thm_background_color);
        }
    }
}
/**
 * block editor
 */
body{
    [data-type="core/columns"] .block-editor-block-list__block-edit > [data-block] .wp-block-columns{
        color:var(--thm_columns_section_color);
        background:var(--thm_columns_section_bg);
        min-height:var(--thm_columns_section_height);
        .wp-block-column{
            color:var(--thm_columns_section_color);
            background:var(--thm_columns_section_bg);
        }
        .wp-block-table table:not(.has-background) th,
            .wp-block-table table:not(.has-background) td{
            color:var(--thm_columns_section_color);
            background:var(--thm_columns_section_bg);
        }
    }
    [data-type="core/media-text"]{
        color:var(--thm_media_text_section_color);
        background:var(--thm_media_text_section_bg);
        min-height:var(--thm_media_text_section_height);
        .wp-block-media-text {
            color:var(--thm_columns_section_color);
        }
        code{
            color: var(--thm_black_color);
        }
    }
    [data-type="core/group"] [data-type="core/media-text"]{
        color:var(--thm_media_text_section_color);
        background:transparent;
        min-height:var(--thm_media_text_section_height);
    }
    [data-type="core/gallery"]{
        color:var(--thm_gallery_section_color);
        background:var(--thm_gallery_section_bg);
        min-height:var(--thm_gallery_section_height);
        * {
            color:var(--thm_columns_section_color);
        }
    }
    [data-type="core/group"] [data-type="core/gallery"]{
        color:var(--thm_gallery_section_color);
        background:transparent;
        min-height:var(--thm_gallery_section_height);
    }
    &.is-dark{
        [data-block],
        .entry-content{
            &.galley-is-light{
                color:var(--thm_gallery_section_color);
                .blocks-gallery-caption{
                    color:var(--thm_gallery_section_color);
                }
            }
            &.columns-is-light{
                color:var(--thm_columns_section_color);
                a{
                    color:var(--thm_columns_section_link_color);
                }
                .wp-block-latest-comments__comment{
                    article{
                        color:var(--thm_columns_section_color);
                        a{
                            color:var(--thm_columns_section_link_color);
                        }
                    }
                }
            }
            &.media-text-is-light{
                color:var(--thm_media_text_section_color);
            }
        }
    }
    &.is-light{
        [data-block],
        .entry-content{
            .gallery-is-dark{
                color:var(--thm_gallery_section_color);
                .blocks-gallery-caption{
                    color:var(--thm_gallery_section_color);
                }
            }
            .columns-is-dark{
                color:var(--thm_columns_section_color);
                a{
                    color:var(--thm_columns_section_link_color);
                }
                .wp-block-latest-comments__comment{
                    article{
                        color:var(--thm_columns_section_color);
                        a{
                            color:var(--thm_columns_section_link_color);
                        }
                    }
                }
            }
            .media-text-is-dark{
                color:var(--thm_media_text_section_color);
            }
        }
    }
}
/**
 * Plugin fallback
 * START
 * ========================================================================== */
.is-dark{
    .entry-content .shortcode-wrapper,
    .entry-content > div[id]{
        padding:1rem;
    }
}
#{$body_id}{
    .entry-content{
        & > .wp-block-group[style|="background"],
        & > .wp-block-group.has-background,
        & > .wp-block-table > table,
        & > .shortcode-wrapper > div:not(.gallery),
            & > p:not(.has-text-color),
            & > div:not([class|="wp-block"]):not(.shortcode-wrapper):not(.has-background-media) {

            &.emulsion-initial-color{
                color:var(--thm_black_color);
                a{
                    color:var(--thm_gray_color);
                }
                *{
                    color:var(--thm_black_color);
                }



            }

            &.emulsion-current-color{
                color:var(--thm_general_text_color);
                background:transparent;
                &.woocommerce,
                &.wc-block-grid{
                    background:transparent;
                }
                a{
                    color:var(--thm_general_link_color);
                }
            }
            &.wp-block-table{
                &.emulsion-current-color{
                    background:transparent;
                }
            }
            &.emulsion-add-light-color{
                color:var(--thm_black_color) ! important;
                a{
                    color:var(--thm_gray_color);
                }
            }
            &.emulsion-add-dark-color{
                color:var(--thm_white_color);
                a{
                    color:#ccc;
                }
                .wp-block-button:not(.has-text-color):not(.has-background){
                    a:not(.has-text-color){
                        color: var(--thm_black_color);
                    }
                }
                p{
                    color:var(--thm_white_color);
                    &.has-background:not(.has-text-color){
                        color:var(--thm_white_color);
                    }
                }
                .post-password-form .message,
                .wp-block-code,
                .wp-block-table th,
                .wp-block-table td,
                .wp-block-calendar th,
                .wp-block-calendar td,
                .product,
                .skin-button,
                pre,
                .has-background:not(.has-text-color){
                    text-shadow:none;
                    color: var(--thm_black_color);

                    a{
                        color:var(--thm_gray_color);
                        text-shadow:none;
                    }
                }
            }
        }
    }
}
/**
 * Plugin fallback
 * END
 * ========================================================================== */
/**
 * Hover
 * ========================================================================== */
@media(hover: hover) and (pointer: fine) {
    & ~ .page-wrapper{
        //no sidebar
        a.skin-button:hover{
            color:var(--thm_header_hover_color);
            background: var(--thm_header_bg_color);
        }
        .template-part-content-attachment,
        .template-part-content{
            a.skin-button:hover{
                color:var(--thm_header_hover_color);
                background: var(--thm_header_bg_color);
            }
        }
    }
    & ~ .layout-block{
        //has sidebar
        .page-wrapper{
            a.skin-button:hover{
                color:var(--thm_header_hover_color);
                background: var(--thm_header_bg_color);
            }
            .template-part-content-attachment,
            .template-part-content{
                a.skin-button:hover{
                    color:var(--thm_header_hover_color);
                    background: var(--thm_header_bg_color);
                }
            }
        }
    }
    & ~ .scroll-button-top{
        &.skin-button:hover{
            color:var(--thm_header_hover_color);
            background: var(--thm_header_bg_color);
        }
    }
    .custom-background{
        &.is-dark{
            .post-navigation{
                .nav-links{
                    .nav-previous{
                        a{
                            &:hover{
                                color: var(--thm_general_link_hover_color);
                            }
                        }
                    }
                    .nav-next{
                        color:var(--thm_general_text_color);
                        a{
                            &:hover{
                                color: var(--thm_general_link_hover_color);
                            }
                        }
                    }
                }
            }
        }
        &.is-light{
            .post-navigation{
                .nav-links{
                    a{
                        &:hover{
                            color: var(--thm_general_link_hover_color);
                        }
                    }
                }
                .nav-next{
                    color:var(--thm_general_text_color);
                    a{
                        &:hover{
                            color: var(--thm_general_link_hover_color);
                        }
                    }
                }
            }
        }
    }
    .sidebar-is-light{
        .footer-widget-area-lists,
        .sidebar-widget-area-lists{
            .widget li:last-child:hover{
                border-bottom:none;
            }
        }
    }
    .sidebar-is-dark{
        .footer-widget-area-lists,
        .sidebar-widget-area-lists{
            .widget li:last-child:hover,
                .widget li:last-child{
                border-bottom:none;
            }
        }
    }
    body{
        $background_tranparent_hover:rgba(188, 188, 188, .2);
        &.on-scroll{
            .menu-placeholder{
                .toc{
                    a{
                        &:hover{
                            color: var(--thm_hover_color);
                        }
                    }
                }
            }
        }
        /**
         * Sidebar
         */
        .sidebar-widget-area{
            &.sidebar-is-default{
                a{
                    &:hover{
                        color:var(--thm_general_link_hover_color);
                    }
                }
            }
            &.sidebar-is-light,
            &.sidebar-is-dark{
                a{
                    &:hover{
                        color:var(--thm_sidebar_hover_color);
                    }
                }
            }
        }
        & > header{
            &.header-is-dark{
                a{
                    &:hover{
                        color:var(--thm_header_hover_color);
                        background:transparent;
                    }
                }
            }
            &.header-is-light{
                a{
                    &:hover{
                        color:var(--thm_header_hover_color);
                        background:transparent;
                    }
                }
            }
            &.template-part-header{
                .header-layer-site-title-navigation{
                    a{
                        &:hover{
                            color:var(--thm_header_hover_color);
                        }
                    }
                }
                .header-layer-nav-menu{
                    .has-chckbox-control{
                        .menu{
                            li{
                                a{
                                    &:hover{
                                        color:var(--thm_header_hover_color);
                                    }
                                }
                            }
                        }
                    }
                }
                &.header-is-dark{
                    .header-layer-nav-menu{
                        .wp-nav-menu{
                            .sub-menu,
                            .children{
                                li:hover{
                                    color:var(--thm_header_hover_color);
                                }
                            }
                        }
                    }
                }
                &.header-is-light{
                    .header-layer-nav-menu{
                        .wp-nav-menu{
                            .sub-menu,
                            .children{
                                li:hover{
                                    color:var(--thm_header_hover_color);
                                    background:var(--thm_white_color);
                                }
                            }
                        }
                    }
                }
            }
            &.header-layer{
                .widget_nav_menu .children a,
                .widget_nav_menu .sub-menu a{
                    &:hover{
                        color: var(--thm_general_link_hover_color);
                    }
                }
                &.no-header-media{
                    .taxonomy-description,
                    .page-title-block,
                    .site-title-text,
                    .site-description,
                    .header-text{
                        a{
                            &:hover{
                                color:var(--thm_header_hover_color);
                            }
                        }
                    }
                    .entry-text{
                        .posted-on{
                            .entry-date,
                            a{
                                &:hover{
                                    color: var(--thm_header_hover_color);
                                }
                            }
                        }
                        .entry-meta{
                            a{
                                &:hover{
                                    color: var(--thm_header_hover_color);
                                    background:rgba(188,188,188,.2);
                                }
                            }
                            .cat-item{
                                a{
                                    &:hover{
                                        color:var(--thm_white_color);
                                    }
                                }
                            }
                        }
                    }
                }
                &.header-is-default-color{
                    .cta-layer{
                        a{
                            &:hover{
                                background:#ccc;
                            }
                        }
                    }
                }
                &.header-is-light{
                    .cta-layer{
                        a{
                            &:hover{
                                background:#ccc;
                            }
                        }
                    }
                }
                &.header-is-dark{
                    .cta-layer{
                        a{
                            &:hover{
                                filter: brightness(110%);
                            }
                        }
                    }
                }
                &.header-video-active{
                    &.template-part-header-custom{
                        &.cta-layer-active{
                            .cta-layer{
                                a{
                                    &:hover{
                                        filter: brightness(120%);
                                    }
                                }
                            }
                        }
                    }
                    .site-title .site-title-text,
                    .entry-text,
                    .entry-text a,
                    .site-description,
                    .header-text a{
                        &:hover{
                            color: var(--thm_header_hover_color);
                        }
                    }
                }
                &.header-image-active{
                    &.template-part-header-custom{
                        &.cta-layer-active{
                            .cta-layer{
                                a{
                                    &:hover{

                                    }
                                }
                            }
                        }
                    }
                    .entry-text a{
                        &:hover{
                            color: var(--thm_header_hover_color);
                        }
                    }
                }
            }
        }
        /**
         * Header Template Default
         * ========================================================================== */
        .template-part-header-custom{
            & + .primary-menu-wrapper{
                & + .primary-menu-wrapper{
                    a{
                        &:hover{
                            color:var(--thm_primary_menu_color);
                        }
                    }
                }
            }
        }
        /**
         * Custom Background
         * ========================================================================== */
        &.custom-background{
            main{
                .taxonomy-description,
                .page-title-block,
                .site-title-text,
                .site-description,
                .header-text{
                    a{
                        &:hover{
                            color: var(--thm_general_link_hover_color);
                        }
                    }
                }
                .grid{
                    .article-wrapper{
                        article{
                            header{
                                time,
                                a{
                                    &:hover{
                                        color:var(--thm_sidebar_text_color);
                                    }
                                }
                                &.has-post-image{
                                    time,
                                    a{
                                        &:hover{
                                            color:var(--thm_white_color);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        &.single{
            &.is-dark{
                .nav-previous{
                    &:hover{
                        background:$background_tranparent_hover;
                    }
                }
                .nav-next{
                    &:hover{
                        background:$background_tranparent_hover;
                    }
                }
            }
            &.is-light{
                .nav-previous{
                    &:hover{
                        background:var(--thm_white_color);
                    }
                }
                .nav-next{
                    &:hover{
                        background:var(--thm_white_color);
                    }
                }
            }
        }
    }
    body{
        &.has-category-colors{
            & > header{
                &.header-layer{
                    &.no-header-media{
                        .entry-text{
                            .entry-meta{
                                .cat-item{
                                    a{
                                        &:hover{
                                            color: var(--thm_header_hover_color);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            .page-wrapper{
                article{
                    header{
                        .entry-meta{
                            .post-category{
                                .cat-item{
                                    a{
                                        &:hover{
                                            color:var(--thm_white_color);
                                        }
                                    }
                                }
                            }
                        }
                    }
                    &.has-post-thumbnail{
                        header{
                            .entry-meta{
                                .post-category{
                                    .cat-item{
                                        a{
                                            &:hover{
                                                color:var(--thm_white_color);
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        &.disable-category-colors{
            & > header{
                &.header-layer{
                    &.no-header-media{
                        .entry-text{
                            .entry-meta{
                                .cat-item{
                                    a{
                                        &:hover{
                                            color: var(--thm_header_hover_color);
                                            background:rgba(188,188,188,.2);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            .page-wrapper{
                article{
                    header{
                        .entry-meta{
                            .post-category{
                                .cat-item{
                                    a{
                                        &:hover{
                                            color:var(--thm_general_link_hover_color);
                                            background: rgba(188, 188, 188, .2);
                                        }
                                    }
                                }
                            }
                        }
                    }
                    &.has-post-thumbnail{
                        header{
                            .entry-meta{
                                .post-category{
                                    .cat-item{
                                        a{
                                            &:hover{
                                                color:var(--thm_white_color);
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    .page-wrapper{
        article{
            a{
                &:hover{
                    color:var(--thm_general_link_hover_color);
                }
            }
            header{
                .entry-title{
                    a{
                        &:hover{
                            color:var(--thm_general_link_hover_color);
                        }
                    }
                }
                .posted-on{
                    a{
                        &:hover{
                            color:var(--thm_general_link_hover_color);
                        }
                        .entry-date{
                            &:hover{
                                color:var(--thm_general_link_hover_color);
                            }
                        }
                    }
                }
                .entry-meta{
                    a{
                        &:hover{
                            color:var(--thm_general_link_hover_color);
                            background: rgba(188, 188, 188, .2);
                        }
                    }
                    .cat-item{
                        a{
                            &:hover{
                                color:var(--thm_white_color);
                            }
                        }
                    }
                }
                &.has-post-image{
                    .entry-title{
                        a{
                            &:hover{
                                color:var(--thm_white_color);
                            }
                        }
                    }
                    .posted-on{
                        a{
                            &:hover{
                                color:var(--thm_white_color);
                            }
                        }
                    }
                    .entry-meta{
                        a{
                            &:hover{
                                color:var(--thm_white_color);
                            }
                        }
                    }
                    a{
                        &.has-text{
                            &:hover{
                                color:var(--thm_white_color);
                            }
                        }
                        .entry-date{
                            &:hover{
                                color:var(--thm_white_color);
                            }
                        }
                    }
                }
            }
        }
    }
    .entry-content{
        color: var(--thm_general_text_color);
        a{
            &:hover{
                color: var(--thm_general_link_hover_color);
            }
        }
        .wp-block-cover-text{
            a{
                &:hover{
                    color: var(--thm_general_link_hover_color);
                }
            }
        }
    }
    .relate-content-wrapper{
        background:var(--thm_relate_posts_bg);
        color:var(--thm_relate_posts_color);
        a{
            color:var(--thm_relate_posts_link_color);
            &:hover{
                color:var(--thm_relate_posts_text_color);
            }
        }
    }
    .paginate-comment-links{
        .current{
            color:var(--thm_header_text_color);
            background: var(--thm_header_bg_color);
        }
    }
    .wp-block-table{
        &::-webkit-scrollbar-thumb{
            background-color: currentColor;
        }
    }
    .grid{
        .article-wrapper{
            article{
                header{
                    background: rgba(188, 188, 188, .2);
                    background-size:cover;
                    color:var(--thm_general_text_color);
                    a{
                        color:var(--thm_general_link_color);
                        &:hover{
                            color:var(--thm_general_link_hover_color);
                        }
                    }
                    &.has-post-image{
                        color:var(--thm_white_color);
                        background-size:cover;
                        a{
                            color:var(--thm_white_color);
                            &:hover{
                                color:var(--thm_white_color);
                            }
                        }
                    }
                }
            }
        }
    }
    .stream{
        article{
            .stream-wrapper{
                color:var(--thm_general_text_color);
                .entry-title{
                    a{
                        color:var(--thm_general_link_color);
                        &:hover{
                            color:var(--thm_general_link_hover_color);
                        }
                    }
                }
                .posted-on{
                    color: var(--thm_general_text_color);
                    a{
                        color:var(--thm_general_link_color);
                        &:hover{
                            color:var(--thm_general_link_hover_color);
                        }
                        .entry-date{
                            color:var(--thm_general_link_hover_color);
                        }
                    }
                }
            }
        }
    }
    a.skin-button:hover{
        color:var(--thm_header_hover_color);
        background: rgba(188, 188, 188, .3);
    }
    .template-part-content-attachment,
    .template-part-content{
        a.skin-button:hover{
            color:var(--thm_header_hover_color);
            background: rgba(188, 188, 188, .3);
        }
    }
    .entry-content{
        .wp-block-button{
            &.is-style-outline{
                .wp-block-button__link{
                    &:not(.has-background),
                        &:not(.has-background):active,
                        &:not(.has-background):focus,
                        &:not(.has-background):hover{
                        background:transparent;
                    }
                }
            }
            &.has-success-background-color{
                &:hover{
                    background:rgba(52, 152, 219,.8);
                }
            }
            &.has-notice-background-color{
                &:hover{
                    background:rgba(163, 140, 8,.8);
                }
            }
            &.has-info-background-color{
                &:hover{
                    background:rgba(22, 160, 133,.8);
                }
            }
            &.has-alert-background-color{
                &:hover{
                    background:rgba(231, 76, 60,1);
                }
            }
            &.has-cool-background-color{
                &:hover{
                    background:rgba(52, 152, 219, .8);
                }
            }
        }
    }
    .wp-block-archives {
        li{
            a{
                &:hover{
                    color: var(--thm_general_text_color);
                }
            }
        }
    }
    body{
        .widget,
        .entry-content{
            .is-style-emulsion-dark{
                &.wp-block-code{
                    background:#000;
                    code{
                        background:transparent;
                        color:green;
                    }
                }
            }
        }
        footer.banner address{
            a{
                color:var(--thm_sidebar_text_color);
            }
        }
    }
    /**
     * Sectionize
     * ========================================================================== */
    [class|="sectionized"]{
        &:hover{
            .has-background:not(.wp-block-group):not(.wp-block-cover):not(.has-background):before{
                background:transparent;
            }
        }
        &.sectionized-wp-block-separator{
            &:hover{
                background:transparent;
            }
        }
        /**
         * Theme Custom Class no-margin
         */
        &.sectionized-wp-block-media-text{
            .wp-block-media-text{
                a{
                    &:hover{
                        color:var(--thm_media_text_section_link_color);
                    }
                }
            }
        }
        &.sectionized-wp-block-columns{
            .wp-block-columns{
                figure{
                    figcaption{
                        a{
                            &:hover{
                                color:var(--thm_columns_section_color);
                            }
                        }
                    }
                }
                a{
                    &:hover{
                        color:var(--thm_columns_section_color);
                    }
                }
            }
        }
    }
}
