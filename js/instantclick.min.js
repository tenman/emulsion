var InstantClick=function(t,e){var n,r,a,o,s,d,l,f,c=navigator.userAgent,u=c.indexOf(" CriOS/")>-1,h="createTouch"in t,v={},p=!1,m=!1,y=!1,b=!1,g={},T=!1,E=!1,w=[],L={fetch:[],receive:[],wait:[],change:[]};function A(t){var e=t.indexOf("#");return e<0?t:t.substr(0,e)}function x(t){for(;t&&"A"!=t.nodeName;)t=t.parentNode;return t}function k(t){var i=e.protocol+"//"+e.host;return!(t.target||t.hasAttribute("download")||0!=t.href.indexOf(i+"/")||t.href.indexOf("#")>-1&&A(t.href)==n||(d?!function(t){do{if(!t.hasAttribute)break;if(t.hasAttribute("data-no-instant"))return!1;if(t.hasAttribute("data-instant"))return!0}while(t=t.parentNode);return!1}(t):function(t){do{if(!t.hasAttribute)break;if(t.hasAttribute("data-instant"))return!1;if(t.hasAttribute("data-no-instant"))return!0}while(t=t.parentNode);return!1}(t)))}function C(t,e,n,i){for(var r=!1,a=0;a<L[t].length;a++)if("receive"==t){var o=L[t][a](e,n,i);o&&("body"in o&&(n=o.body),"title"in o&&(i=o.title),r=o)}else L[t][a](e,n,i);return r}function M(e,i,r,a){if(t.documentElement.replaceChild(i,t.body),r){history.pushState(null,null,r);var o=r.indexOf("#"),s=o>-1&&t.getElementById(r.substr(o+1)),d=0;if(s)for(;s.offsetParent;)d+=s.offsetTop,s=s.offsetParent;scrollTo(0,d),n=A(r)}else scrollTo(0,a);u&&t.title==e?t.title=e+String.fromCharCode(160):t.title=e,I(),K.done(),C("change",!1);var l=t.createEvent("HTMLEvents");l.initEvent("instantclick:newpage",!0,!0),dispatchEvent(l)}function O(){T=!1,E=!1}function H(t){if(!(o>+new Date-500)){var e=x(t.target);e&&k(e)&&z(e.href)}}function Y(t){if(!(o>+new Date-500)){var e=x(t.target);e&&k(e)&&(e.addEventListener("mouseout",N),f?(r=e.href,a=setTimeout(z,f)):z(e.href))}}function D(t){o=+new Date;var e=x(t.target);e&&k(e)&&(l?e.removeEventListener("mousedown",H):e.removeEventListener("mouseover",Y),z(e.href))}function B(t){var e=x(t.target);e&&k(e)&&(t.which>1||t.metaKey||t.ctrlKey||(t.preventDefault(),W(e.href)))}function N(){if(a)return clearTimeout(a),void(a=!1);T&&!E&&(s.abort(),O())}function S(){if(!(s.readyState<4)&&0!=s.status){if(g.ready=+new Date-g.start,s.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var e=t.implementation.createHTMLDocument("");e.documentElement.innerHTML=s.responseText.replace(/<noscript[\s\S]+<\/noscript>/gi,""),m=e.title,b=e.body;var n=C("receive",p,b,m);n&&("body"in n&&(b=n.body),"title"in n&&(m=n.title));var i=A(p);v[i]={body:b,title:m,scrollY:i in v?v[i].scrollY:0};for(var r,a,o=e.head.children,d=0,l=o.length-1;l>=0;l--)if((r=o[l]).hasAttribute("data-instant-track")){a=r.getAttribute("href")||r.getAttribute("src")||r.innerHTML;for(var f=w.length-1;f>=0;f--)w[f]==a&&d++}d!=w.length&&(y=!0)}else y=!0;E&&(E=!1,W(p))}}function I(e){if(t.body.addEventListener("touchstart",D,!0),l?t.body.addEventListener("mousedown",H,!0):t.body.addEventListener("mouseover",Y,!0),t.body.addEventListener("click",B,!0),!e){var n,r,a,o,s=t.body.getElementsByTagName("script");for(i=0,j=s.length;i<j;i++)(n=s[i]).hasAttribute("data-no-instant")||(r=t.createElement("script"),n.src&&(r.src=n.src),n.innerHTML&&(r.innerHTML=n.innerHTML),a=n.parentNode,o=n.nextSibling,a.removeChild(n),a.insertBefore(r,o))}}function z(t){!l&&"display"in g&&+new Date-(g.start+g.display)<100||(a&&(clearTimeout(a),a=!1),t||(t=r),T&&(t==p||E)||(T=!0,E=!1,p=t,b=!1,y=!1,g={start:+new Date},C("fetch"),s.open("GET",t),s.send()))}function W(t){if("display"in g||(g.display=+new Date-g.start),a||!T)return a&&p&&p!=t?void(e.href=t):(z(t),K.start(0,!0),C("wait"),void(E=!0));if(E)e.href=t;else if(y)e.href=p;else{if(!b)return K.start(0,!0),C("wait"),void(E=!0);v[n].scrollY=pageYOffset,O(),M(m,b,p)}}var K=function(){var e,n,i,r,a;function o(n,i){r=n,t.getElementById(e.id)&&t.body.removeChild(e),e.style.opacity="1",t.getElementById(e.id)&&t.body.removeChild(e),l(),i&&setTimeout(s,0),clearTimeout(a),a=setTimeout(d,500)}function s(){r=10,l()}function d(){(r+=1+2*Math.random())>=98?r=98:a=setTimeout(d,500),l()}function l(){n.style[i]="translate("+r+"%)",t.getElementById(e.id)||t.body.appendChild(e)}function f(){e.style.left=pageXOffset+"px",e.style.width=innerWidth+"px",e.style.top=pageYOffset+"px";var t="orientation"in window&&90==Math.abs(orientation),n=innerWidth/screen[t?"height":"width"]*2;e.style[i]="scaleY("+n+")"}return{init:function(){(e=t.createElement("div")).id="instantclick",(n=t.createElement("div")).id="instantclick-bar",n.className="instantclick-bar",e.appendChild(n);var r=["Webkit","Moz","O"];if(!((i="transform")in n.style))for(var a=0;a<3;a++)r[a]+"Transform"in n.style&&(i=r[a]+"Transform");var o="transition";if(!(o in n.style))for(a=0;a<3;a++)r[a]+"Transition"in n.style&&(o="-"+r[a].toLowerCase()+"-"+o);var s=t.createElement("style");s.innerHTML="#instantclick{position:"+(h?"absolute":"fixed")+";top:0;left:0;width:100%;pointer-events:none;z-index:2147483647;"+o+":opacity .25s .1s}.instantclick-bar{background:#29d;width:100%;margin-left:-100%;height:2px;"+o+":all .25s}",t.head.appendChild(s),h&&(f(),addEventListener("resize",f),addEventListener("scroll",f))},start:o,done:function n(){if(t.getElementById(e.id))return clearTimeout(a),r=100,l(),void(e.style.opacity="0");o(100==r?0:r),setTimeout(n,0)}}}(),P="pushState"in history&&(!c.match("Android")||c.match("Chrome/"))&&"file:"!=e.protocol;return{supported:P,init:function(){if(!n)if(P){for(var i=arguments.length-1;i>=0;i--){var r=arguments[i];!0===r?d=!0:"mousedown"==r?l=!0:"number"==typeof r&&(f=r)}n=A(e.href),v[n]={body:t.body,title:t.title,scrollY:pageYOffset};var a,o,c=t.head.children;for(i=c.length-1;i>=0;i--)(a=c[i]).hasAttribute("data-instant-track")&&(o=a.getAttribute("href")||a.getAttribute("src")||a.innerHTML,w.push(o));(s=new XMLHttpRequest).addEventListener("readystatechange",S),I(!0),K.init(),C("change",!0),addEventListener("popstate",function(){var t=A(e.href);t!=n&&(t in v?(v[n].scrollY=pageYOffset,n=t,M(v[t].title,v[t].body,!1,v[t].scrollY)):e.href=e.href)})}else C("change",!0)},on:function(t,e){L[t].push(e)}}}(document,location);


